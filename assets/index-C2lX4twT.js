var r1=Object.defineProperty;var s1=(e,t,n)=>t in e?r1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Mc=(e,t,n)=>s1(e,typeof t!="symbol"?t+"":t,n);function o1(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var It=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Yg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function i1(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var qg={exports:{}},Il={},Gg={exports:{}},re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pi=Symbol.for("react.element"),a1=Symbol.for("react.portal"),l1=Symbol.for("react.fragment"),c1=Symbol.for("react.strict_mode"),u1=Symbol.for("react.profiler"),d1=Symbol.for("react.provider"),f1=Symbol.for("react.context"),h1=Symbol.for("react.forward_ref"),m1=Symbol.for("react.suspense"),p1=Symbol.for("react.memo"),g1=Symbol.for("react.lazy"),pm=Symbol.iterator;function v1(e){return e===null||typeof e!="object"?null:(e=pm&&e[pm]||e["@@iterator"],typeof e=="function"?e:null)}var Kg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Xg=Object.assign,Qg={};function po(e,t,n){this.props=e,this.context=t,this.refs=Qg,this.updater=n||Kg}po.prototype.isReactComponent={};po.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};po.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Jg(){}Jg.prototype=po.prototype;function ff(e,t,n){this.props=e,this.context=t,this.refs=Qg,this.updater=n||Kg}var hf=ff.prototype=new Jg;hf.constructor=ff;Xg(hf,po.prototype);hf.isPureReactComponent=!0;var gm=Array.isArray,Zg=Object.prototype.hasOwnProperty,mf={current:null},ev={key:!0,ref:!0,__self:!0,__source:!0};function tv(e,t,n){var r,s={},o=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)Zg.call(t,r)&&!ev.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Pi,type:e,key:o,ref:i,props:s,_owner:mf.current}}function y1(e,t){return{$$typeof:Pi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function pf(e){return typeof e=="object"&&e!==null&&e.$$typeof===Pi}function x1(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var vm=/\/+/g;function Dc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?x1(""+e.key):t.toString(36)}function _a(e,t,n,r,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Pi:case a1:i=!0}}if(i)return i=e,s=s(i),e=r===""?"."+Dc(i,0):r,gm(s)?(n="",e!=null&&(n=e.replace(vm,"$&/")+"/"),_a(s,t,n,"",function(u){return u})):s!=null&&(pf(s)&&(s=y1(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(vm,"$&/")+"/")+e)),t.push(s)),1;if(i=0,r=r===""?".":r+":",gm(e))for(var a=0;a<e.length;a++){o=e[a];var c=r+Dc(o,a);i+=_a(o,t,n,c,s)}else if(c=v1(e),typeof c=="function")for(e=c.call(e),a=0;!(o=e.next()).done;)o=o.value,c=r+Dc(o,a++),i+=_a(o,t,n,c,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Yi(e,t,n){if(e==null)return e;var r=[],s=0;return _a(e,r,"","",function(o){return t.call(n,o,s++)}),r}function w1(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ot={current:null},Sa={transition:null},b1={ReactCurrentDispatcher:ot,ReactCurrentBatchConfig:Sa,ReactCurrentOwner:mf};function nv(){throw Error("act(...) is not supported in production builds of React.")}re.Children={map:Yi,forEach:function(e,t,n){Yi(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Yi(e,function(){t++}),t},toArray:function(e){return Yi(e,function(t){return t})||[]},only:function(e){if(!pf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};re.Component=po;re.Fragment=l1;re.Profiler=u1;re.PureComponent=ff;re.StrictMode=c1;re.Suspense=m1;re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=b1;re.act=nv;re.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Xg({},e.props),s=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=mf.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)Zg.call(t,c)&&!ev.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Pi,type:e.type,key:s,ref:o,props:r,_owner:i}};re.createContext=function(e){return e={$$typeof:f1,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:d1,_context:e},e.Consumer=e};re.createElement=tv;re.createFactory=function(e){var t=tv.bind(null,e);return t.type=e,t};re.createRef=function(){return{current:null}};re.forwardRef=function(e){return{$$typeof:h1,render:e}};re.isValidElement=pf;re.lazy=function(e){return{$$typeof:g1,_payload:{_status:-1,_result:e},_init:w1}};re.memo=function(e,t){return{$$typeof:p1,type:e,compare:t===void 0?null:t}};re.startTransition=function(e){var t=Sa.transition;Sa.transition={};try{e()}finally{Sa.transition=t}};re.unstable_act=nv;re.useCallback=function(e,t){return ot.current.useCallback(e,t)};re.useContext=function(e){return ot.current.useContext(e)};re.useDebugValue=function(){};re.useDeferredValue=function(e){return ot.current.useDeferredValue(e)};re.useEffect=function(e,t){return ot.current.useEffect(e,t)};re.useId=function(){return ot.current.useId()};re.useImperativeHandle=function(e,t,n){return ot.current.useImperativeHandle(e,t,n)};re.useInsertionEffect=function(e,t){return ot.current.useInsertionEffect(e,t)};re.useLayoutEffect=function(e,t){return ot.current.useLayoutEffect(e,t)};re.useMemo=function(e,t){return ot.current.useMemo(e,t)};re.useReducer=function(e,t,n){return ot.current.useReducer(e,t,n)};re.useRef=function(e){return ot.current.useRef(e)};re.useState=function(e){return ot.current.useState(e)};re.useSyncExternalStore=function(e,t,n){return ot.current.useSyncExternalStore(e,t,n)};re.useTransition=function(){return ot.current.useTransition()};re.version="18.3.1";Gg.exports=re;var g=Gg.exports;const $=Yg(g),gf=o1({__proto__:null,default:$},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _1=g,S1=Symbol.for("react.element"),k1=Symbol.for("react.fragment"),N1=Object.prototype.hasOwnProperty,C1=_1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,j1={key:!0,ref:!0,__self:!0,__source:!0};function rv(e,t,n){var r,s={},o=null,i=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)N1.call(t,r)&&!j1.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:S1,type:e,key:o,ref:i,props:s,_owner:C1.current}}Il.Fragment=k1;Il.jsx=rv;Il.jsxs=rv;qg.exports=Il;var l=qg.exports,sv={exports:{}},kt={},ov={exports:{}},iv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(C,P){var F=C.length;C.push(P);e:for(;0<F;){var Y=F-1>>>1,z=C[Y];if(0<s(z,P))C[Y]=P,C[F]=z,F=Y;else break e}}function n(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var P=C[0],F=C.pop();if(F!==P){C[0]=F;e:for(var Y=0,z=C.length,Z=z>>>1;Y<Z;){var K=2*(Y+1)-1,me=C[K],we=K+1,B=C[we];if(0>s(me,F))we<z&&0>s(B,me)?(C[Y]=B,C[we]=F,Y=we):(C[Y]=me,C[K]=F,Y=K);else if(we<z&&0>s(B,F))C[Y]=B,C[we]=F,Y=we;else break e}}return P}function s(C,P){var F=C.sortIndex-P.sortIndex;return F!==0?F:C.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,a=i.now();e.unstable_now=function(){return i.now()-a}}var c=[],u=[],d=1,f=null,p=3,m=!1,w=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(C){for(var P=n(u);P!==null;){if(P.callback===null)r(u);else if(P.startTime<=C)r(u),P.sortIndex=P.expirationTime,t(c,P);else break;P=n(u)}}function _(C){if(y=!1,v(C),!w)if(n(c)!==null)w=!0,L(S);else{var P=n(u);P!==null&&R(_,P.startTime-C)}}function S(C,P){w=!1,y&&(y=!1,x(E),E=-1),m=!0;var F=p;try{for(v(P),f=n(c);f!==null&&(!(f.expirationTime>P)||C&&!U());){var Y=f.callback;if(typeof Y=="function"){f.callback=null,p=f.priorityLevel;var z=Y(f.expirationTime<=P);P=e.unstable_now(),typeof z=="function"?f.callback=z:f===n(c)&&r(c),v(P)}else r(c);f=n(c)}if(f!==null)var Z=!0;else{var K=n(u);K!==null&&R(_,K.startTime-P),Z=!1}return Z}finally{f=null,p=F,m=!1}}var k=!1,N=null,E=-1,I=5,A=-1;function U(){return!(e.unstable_now()-A<I)}function T(){if(N!==null){var C=e.unstable_now();A=C;var P=!0;try{P=N(!0,C)}finally{P?O():(k=!1,N=null)}}else k=!1}var O;if(typeof h=="function")O=function(){h(T)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,D=j.port2;j.port1.onmessage=T,O=function(){D.postMessage(null)}}else O=function(){b(T,0)};function L(C){N=C,k||(k=!0,O())}function R(C,P){E=b(function(){C(e.unstable_now())},P)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_continueExecution=function(){w||m||(w=!0,L(S))},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(C){switch(p){case 1:case 2:case 3:var P=3;break;default:P=p}var F=p;p=P;try{return C()}finally{p=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(C,P){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var F=p;p=C;try{return P()}finally{p=F}},e.unstable_scheduleCallback=function(C,P,F){var Y=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?Y+F:Y):F=Y,C){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=F+z,C={id:d++,callback:P,priorityLevel:C,startTime:F,expirationTime:z,sortIndex:-1},F>Y?(C.sortIndex=F,t(u,C),n(c)===null&&C===n(u)&&(y?(x(E),E=-1):y=!0,R(_,F-Y))):(C.sortIndex=z,t(c,C),w||m||(w=!0,L(S))),C},e.unstable_shouldYield=U,e.unstable_wrapCallback=function(C){var P=p;return function(){var F=p;p=P;try{return C.apply(this,arguments)}finally{p=F}}}})(iv);ov.exports=iv;var E1=ov.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P1=g,St=E1;function M(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var av=new Set,ii={};function is(e,t){Js(e,t),Js(e+"Capture",t)}function Js(e,t){for(ii[e]=t,e=0;e<t.length;e++)av.add(t[e])}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fu=Object.prototype.hasOwnProperty,T1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ym={},xm={};function R1(e){return Fu.call(xm,e)?!0:Fu.call(ym,e)?!1:T1.test(e)?xm[e]=!0:(ym[e]=!0,!1)}function A1(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function I1(e,t,n,r){if(t===null||typeof t>"u"||A1(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function it(e,t,n,r,s,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var qe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){qe[e]=new it(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];qe[t]=new it(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){qe[e]=new it(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){qe[e]=new it(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){qe[e]=new it(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){qe[e]=new it(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){qe[e]=new it(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){qe[e]=new it(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){qe[e]=new it(e,5,!1,e.toLowerCase(),null,!1,!1)});var vf=/[\-:]([a-z])/g;function yf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(vf,yf);qe[t]=new it(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(vf,yf);qe[t]=new it(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(vf,yf);qe[t]=new it(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){qe[e]=new it(e,1,!1,e.toLowerCase(),null,!1,!1)});qe.xlinkHref=new it("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){qe[e]=new it(e,1,!1,e.toLowerCase(),null,!0,!0)});function xf(e,t,n,r){var s=qe.hasOwnProperty(t)?qe[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(I1(t,n,s,r)&&(n=null),r||s===null?R1(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Bn=P1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,qi=Symbol.for("react.element"),Es=Symbol.for("react.portal"),Ps=Symbol.for("react.fragment"),wf=Symbol.for("react.strict_mode"),Bu=Symbol.for("react.profiler"),lv=Symbol.for("react.provider"),cv=Symbol.for("react.context"),bf=Symbol.for("react.forward_ref"),Uu=Symbol.for("react.suspense"),Wu=Symbol.for("react.suspense_list"),_f=Symbol.for("react.memo"),Jn=Symbol.for("react.lazy"),uv=Symbol.for("react.offscreen"),wm=Symbol.iterator;function Eo(e){return e===null||typeof e!="object"?null:(e=wm&&e[wm]||e["@@iterator"],typeof e=="function"?e:null)}var Pe=Object.assign,Lc;function Uo(e){if(Lc===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Lc=t&&t[1]||""}return`
`+Lc+e}var $c=!1;function Fc(e,t){if(!e||$c)return"";$c=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=r.stack.split(`
`),i=s.length-1,a=o.length-1;1<=i&&0<=a&&s[i]!==o[a];)a--;for(;1<=i&&0<=a;i--,a--)if(s[i]!==o[a]){if(i!==1||a!==1)do if(i--,a--,0>a||s[i]!==o[a]){var c=`
`+s[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=a);break}}}finally{$c=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Uo(e):""}function O1(e){switch(e.tag){case 5:return Uo(e.type);case 16:return Uo("Lazy");case 13:return Uo("Suspense");case 19:return Uo("SuspenseList");case 0:case 2:case 15:return e=Fc(e.type,!1),e;case 11:return e=Fc(e.type.render,!1),e;case 1:return e=Fc(e.type,!0),e;default:return""}}function zu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ps:return"Fragment";case Es:return"Portal";case Bu:return"Profiler";case wf:return"StrictMode";case Uu:return"Suspense";case Wu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case cv:return(e.displayName||"Context")+".Consumer";case lv:return(e._context.displayName||"Context")+".Provider";case bf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case _f:return t=e.displayName||null,t!==null?t:zu(e.type)||"Memo";case Jn:t=e._payload,e=e._init;try{return zu(e(t))}catch{}}return null}function M1(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return zu(t);case 8:return t===wf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function pr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function dv(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function D1(e){var t=dv(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Gi(e){e._valueTracker||(e._valueTracker=D1(e))}function fv(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=dv(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ua(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Hu(e,t){var n=t.checked;return Pe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function bm(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=pr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function hv(e,t){t=t.checked,t!=null&&xf(e,"checked",t,!1)}function Vu(e,t){hv(e,t);var n=pr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Yu(e,t.type,n):t.hasOwnProperty("defaultValue")&&Yu(e,t.type,pr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function _m(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Yu(e,t,n){(t!=="number"||Ua(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Wo=Array.isArray;function Us(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+pr(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function qu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(M(91));return Pe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Sm(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(M(92));if(Wo(n)){if(1<n.length)throw Error(M(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:pr(n)}}function mv(e,t){var n=pr(t.value),r=pr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function km(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function pv(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?pv(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ki,gv=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ki=Ki||document.createElement("div"),Ki.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ki.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ai(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var qo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},L1=["Webkit","ms","Moz","O"];Object.keys(qo).forEach(function(e){L1.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),qo[t]=qo[e]})});function vv(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||qo.hasOwnProperty(e)&&qo[e]?(""+t).trim():t+"px"}function yv(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=vv(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var $1=Pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ku(e,t){if(t){if($1[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(M(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(M(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(M(61))}if(t.style!=null&&typeof t.style!="object")throw Error(M(62))}}function Xu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qu=null;function Sf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ju=null,Ws=null,zs=null;function Nm(e){if(e=Ai(e)){if(typeof Ju!="function")throw Error(M(280));var t=e.stateNode;t&&(t=$l(t),Ju(e.stateNode,e.type,t))}}function xv(e){Ws?zs?zs.push(e):zs=[e]:Ws=e}function wv(){if(Ws){var e=Ws,t=zs;if(zs=Ws=null,Nm(e),t)for(e=0;e<t.length;e++)Nm(t[e])}}function bv(e,t){return e(t)}function _v(){}var Bc=!1;function Sv(e,t,n){if(Bc)return e(t,n);Bc=!0;try{return bv(e,t,n)}finally{Bc=!1,(Ws!==null||zs!==null)&&(_v(),wv())}}function li(e,t){var n=e.stateNode;if(n===null)return null;var r=$l(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(M(231,t,typeof n));return n}var Zu=!1;if(In)try{var Po={};Object.defineProperty(Po,"passive",{get:function(){Zu=!0}}),window.addEventListener("test",Po,Po),window.removeEventListener("test",Po,Po)}catch{Zu=!1}function F1(e,t,n,r,s,o,i,a,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Go=!1,Wa=null,za=!1,ed=null,B1={onError:function(e){Go=!0,Wa=e}};function U1(e,t,n,r,s,o,i,a,c){Go=!1,Wa=null,F1.apply(B1,arguments)}function W1(e,t,n,r,s,o,i,a,c){if(U1.apply(this,arguments),Go){if(Go){var u=Wa;Go=!1,Wa=null}else throw Error(M(198));za||(za=!0,ed=u)}}function as(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function kv(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Cm(e){if(as(e)!==e)throw Error(M(188))}function z1(e){var t=e.alternate;if(!t){if(t=as(e),t===null)throw Error(M(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return Cm(s),e;if(o===r)return Cm(s),t;o=o.sibling}throw Error(M(188))}if(n.return!==r.return)n=s,r=o;else{for(var i=!1,a=s.child;a;){if(a===n){i=!0,n=s,r=o;break}if(a===r){i=!0,r=s,n=o;break}a=a.sibling}if(!i){for(a=o.child;a;){if(a===n){i=!0,n=o,r=s;break}if(a===r){i=!0,r=o,n=s;break}a=a.sibling}if(!i)throw Error(M(189))}}if(n.alternate!==r)throw Error(M(190))}if(n.tag!==3)throw Error(M(188));return n.stateNode.current===n?e:t}function Nv(e){return e=z1(e),e!==null?Cv(e):null}function Cv(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Cv(e);if(t!==null)return t;e=e.sibling}return null}var jv=St.unstable_scheduleCallback,jm=St.unstable_cancelCallback,H1=St.unstable_shouldYield,V1=St.unstable_requestPaint,Ae=St.unstable_now,Y1=St.unstable_getCurrentPriorityLevel,kf=St.unstable_ImmediatePriority,Ev=St.unstable_UserBlockingPriority,Ha=St.unstable_NormalPriority,q1=St.unstable_LowPriority,Pv=St.unstable_IdlePriority,Ol=null,pn=null;function G1(e){if(pn&&typeof pn.onCommitFiberRoot=="function")try{pn.onCommitFiberRoot(Ol,e,void 0,(e.current.flags&128)===128)}catch{}}var Xt=Math.clz32?Math.clz32:Q1,K1=Math.log,X1=Math.LN2;function Q1(e){return e>>>=0,e===0?32:31-(K1(e)/X1|0)|0}var Xi=64,Qi=4194304;function zo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Va(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,o=e.pingedLanes,i=n&268435455;if(i!==0){var a=i&~s;a!==0?r=zo(a):(o&=i,o!==0&&(r=zo(o)))}else i=n&~s,i!==0?r=zo(i):o!==0&&(r=zo(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Xt(t),s=1<<n,r|=e[n],t&=~s;return r}function J1(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Z1(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-Xt(o),a=1<<i,c=s[i];c===-1?(!(a&n)||a&r)&&(s[i]=J1(a,t)):c<=t&&(e.expiredLanes|=a),o&=~a}}function td(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Tv(){var e=Xi;return Xi<<=1,!(Xi&4194240)&&(Xi=64),e}function Uc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ti(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Xt(t),e[t]=n}function eS(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Xt(n),o=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~o}}function Nf(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Xt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var he=0;function Rv(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Av,Cf,Iv,Ov,Mv,nd=!1,Ji=[],ir=null,ar=null,lr=null,ci=new Map,ui=new Map,er=[],tS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Em(e,t){switch(e){case"focusin":case"focusout":ir=null;break;case"dragenter":case"dragleave":ar=null;break;case"mouseover":case"mouseout":lr=null;break;case"pointerover":case"pointerout":ci.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ui.delete(t.pointerId)}}function To(e,t,n,r,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},t!==null&&(t=Ai(t),t!==null&&Cf(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function nS(e,t,n,r,s){switch(t){case"focusin":return ir=To(ir,e,t,n,r,s),!0;case"dragenter":return ar=To(ar,e,t,n,r,s),!0;case"mouseover":return lr=To(lr,e,t,n,r,s),!0;case"pointerover":var o=s.pointerId;return ci.set(o,To(ci.get(o)||null,e,t,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,ui.set(o,To(ui.get(o)||null,e,t,n,r,s)),!0}return!1}function Dv(e){var t=Wr(e.target);if(t!==null){var n=as(t);if(n!==null){if(t=n.tag,t===13){if(t=kv(n),t!==null){e.blockedOn=t,Mv(e.priority,function(){Iv(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ka(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=rd(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Qu=r,n.target.dispatchEvent(r),Qu=null}else return t=Ai(n),t!==null&&Cf(t),e.blockedOn=n,!1;t.shift()}return!0}function Pm(e,t,n){ka(e)&&n.delete(t)}function rS(){nd=!1,ir!==null&&ka(ir)&&(ir=null),ar!==null&&ka(ar)&&(ar=null),lr!==null&&ka(lr)&&(lr=null),ci.forEach(Pm),ui.forEach(Pm)}function Ro(e,t){e.blockedOn===t&&(e.blockedOn=null,nd||(nd=!0,St.unstable_scheduleCallback(St.unstable_NormalPriority,rS)))}function di(e){function t(s){return Ro(s,e)}if(0<Ji.length){Ro(Ji[0],e);for(var n=1;n<Ji.length;n++){var r=Ji[n];r.blockedOn===e&&(r.blockedOn=null)}}for(ir!==null&&Ro(ir,e),ar!==null&&Ro(ar,e),lr!==null&&Ro(lr,e),ci.forEach(t),ui.forEach(t),n=0;n<er.length;n++)r=er[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<er.length&&(n=er[0],n.blockedOn===null);)Dv(n),n.blockedOn===null&&er.shift()}var Hs=Bn.ReactCurrentBatchConfig,Ya=!0;function sS(e,t,n,r){var s=he,o=Hs.transition;Hs.transition=null;try{he=1,jf(e,t,n,r)}finally{he=s,Hs.transition=o}}function oS(e,t,n,r){var s=he,o=Hs.transition;Hs.transition=null;try{he=4,jf(e,t,n,r)}finally{he=s,Hs.transition=o}}function jf(e,t,n,r){if(Ya){var s=rd(e,t,n,r);if(s===null)Qc(e,t,r,qa,n),Em(e,r);else if(nS(s,e,t,n,r))r.stopPropagation();else if(Em(e,r),t&4&&-1<tS.indexOf(e)){for(;s!==null;){var o=Ai(s);if(o!==null&&Av(o),o=rd(e,t,n,r),o===null&&Qc(e,t,r,qa,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else Qc(e,t,r,null,n)}}var qa=null;function rd(e,t,n,r){if(qa=null,e=Sf(r),e=Wr(e),e!==null)if(t=as(e),t===null)e=null;else if(n=t.tag,n===13){if(e=kv(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return qa=e,null}function Lv(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Y1()){case kf:return 1;case Ev:return 4;case Ha:case q1:return 16;case Pv:return 536870912;default:return 16}default:return 16}}var rr=null,Ef=null,Na=null;function $v(){if(Na)return Na;var e,t=Ef,n=t.length,r,s="value"in rr?rr.value:rr.textContent,o=s.length;for(e=0;e<n&&t[e]===s[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===s[o-r];r++);return Na=s.slice(e,1<r?1-r:void 0)}function Ca(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Zi(){return!0}function Tm(){return!1}function Nt(e){function t(n,r,s,o,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Zi:Tm,this.isPropagationStopped=Tm,this}return Pe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Zi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Zi)},persist:function(){},isPersistent:Zi}),t}var go={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pf=Nt(go),Ri=Pe({},go,{view:0,detail:0}),iS=Nt(Ri),Wc,zc,Ao,Ml=Pe({},Ri,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ao&&(Ao&&e.type==="mousemove"?(Wc=e.screenX-Ao.screenX,zc=e.screenY-Ao.screenY):zc=Wc=0,Ao=e),Wc)},movementY:function(e){return"movementY"in e?e.movementY:zc}}),Rm=Nt(Ml),aS=Pe({},Ml,{dataTransfer:0}),lS=Nt(aS),cS=Pe({},Ri,{relatedTarget:0}),Hc=Nt(cS),uS=Pe({},go,{animationName:0,elapsedTime:0,pseudoElement:0}),dS=Nt(uS),fS=Pe({},go,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),hS=Nt(fS),mS=Pe({},go,{data:0}),Am=Nt(mS),pS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yS(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=vS[e])?!!t[e]:!1}function Tf(){return yS}var xS=Pe({},Ri,{key:function(e){if(e.key){var t=pS[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ca(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?gS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tf,charCode:function(e){return e.type==="keypress"?Ca(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ca(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),wS=Nt(xS),bS=Pe({},Ml,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Im=Nt(bS),_S=Pe({},Ri,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tf}),SS=Nt(_S),kS=Pe({},go,{propertyName:0,elapsedTime:0,pseudoElement:0}),NS=Nt(kS),CS=Pe({},Ml,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),jS=Nt(CS),ES=[9,13,27,32],Rf=In&&"CompositionEvent"in window,Ko=null;In&&"documentMode"in document&&(Ko=document.documentMode);var PS=In&&"TextEvent"in window&&!Ko,Fv=In&&(!Rf||Ko&&8<Ko&&11>=Ko),Om=" ",Mm=!1;function Bv(e,t){switch(e){case"keyup":return ES.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Uv(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ts=!1;function TS(e,t){switch(e){case"compositionend":return Uv(t);case"keypress":return t.which!==32?null:(Mm=!0,Om);case"textInput":return e=t.data,e===Om&&Mm?null:e;default:return null}}function RS(e,t){if(Ts)return e==="compositionend"||!Rf&&Bv(e,t)?(e=$v(),Na=Ef=rr=null,Ts=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fv&&t.locale!=="ko"?null:t.data;default:return null}}var AS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!AS[e.type]:t==="textarea"}function Wv(e,t,n,r){xv(r),t=Ga(t,"onChange"),0<t.length&&(n=new Pf("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Xo=null,fi=null;function IS(e){Zv(e,0)}function Dl(e){var t=Is(e);if(fv(t))return e}function OS(e,t){if(e==="change")return t}var zv=!1;if(In){var Vc;if(In){var Yc="oninput"in document;if(!Yc){var Lm=document.createElement("div");Lm.setAttribute("oninput","return;"),Yc=typeof Lm.oninput=="function"}Vc=Yc}else Vc=!1;zv=Vc&&(!document.documentMode||9<document.documentMode)}function $m(){Xo&&(Xo.detachEvent("onpropertychange",Hv),fi=Xo=null)}function Hv(e){if(e.propertyName==="value"&&Dl(fi)){var t=[];Wv(t,fi,e,Sf(e)),Sv(IS,t)}}function MS(e,t,n){e==="focusin"?($m(),Xo=t,fi=n,Xo.attachEvent("onpropertychange",Hv)):e==="focusout"&&$m()}function DS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Dl(fi)}function LS(e,t){if(e==="click")return Dl(t)}function $S(e,t){if(e==="input"||e==="change")return Dl(t)}function FS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Zt=typeof Object.is=="function"?Object.is:FS;function hi(e,t){if(Zt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Fu.call(t,s)||!Zt(e[s],t[s]))return!1}return!0}function Fm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Bm(e,t){var n=Fm(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Fm(n)}}function Vv(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Vv(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Yv(){for(var e=window,t=Ua();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ua(e.document)}return t}function Af(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function BS(e){var t=Yv(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Vv(n.ownerDocument.documentElement,n)){if(r!==null&&Af(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!e.extend&&o>r&&(s=r,r=o,o=s),s=Bm(n,o);var i=Bm(n,r);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var US=In&&"documentMode"in document&&11>=document.documentMode,Rs=null,sd=null,Qo=null,od=!1;function Um(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;od||Rs==null||Rs!==Ua(r)||(r=Rs,"selectionStart"in r&&Af(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Qo&&hi(Qo,r)||(Qo=r,r=Ga(sd,"onSelect"),0<r.length&&(t=new Pf("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Rs)))}function ea(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var As={animationend:ea("Animation","AnimationEnd"),animationiteration:ea("Animation","AnimationIteration"),animationstart:ea("Animation","AnimationStart"),transitionend:ea("Transition","TransitionEnd")},qc={},qv={};In&&(qv=document.createElement("div").style,"AnimationEvent"in window||(delete As.animationend.animation,delete As.animationiteration.animation,delete As.animationstart.animation),"TransitionEvent"in window||delete As.transitionend.transition);function Ll(e){if(qc[e])return qc[e];if(!As[e])return e;var t=As[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in qv)return qc[e]=t[n];return e}var Gv=Ll("animationend"),Kv=Ll("animationiteration"),Xv=Ll("animationstart"),Qv=Ll("transitionend"),Jv=new Map,Wm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _r(e,t){Jv.set(e,t),is(t,[e])}for(var Gc=0;Gc<Wm.length;Gc++){var Kc=Wm[Gc],WS=Kc.toLowerCase(),zS=Kc[0].toUpperCase()+Kc.slice(1);_r(WS,"on"+zS)}_r(Gv,"onAnimationEnd");_r(Kv,"onAnimationIteration");_r(Xv,"onAnimationStart");_r("dblclick","onDoubleClick");_r("focusin","onFocus");_r("focusout","onBlur");_r(Qv,"onTransitionEnd");Js("onMouseEnter",["mouseout","mouseover"]);Js("onMouseLeave",["mouseout","mouseover"]);Js("onPointerEnter",["pointerout","pointerover"]);Js("onPointerLeave",["pointerout","pointerover"]);is("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));is("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));is("onBeforeInput",["compositionend","keypress","textInput","paste"]);is("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));is("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));is("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ho="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ho));function zm(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,W1(r,t,void 0,e),e.currentTarget=null}function Zv(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var a=r[i],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==o&&s.isPropagationStopped())break e;zm(s,a,u),o=c}else for(i=0;i<r.length;i++){if(a=r[i],c=a.instance,u=a.currentTarget,a=a.listener,c!==o&&s.isPropagationStopped())break e;zm(s,a,u),o=c}}}if(za)throw e=ed,za=!1,ed=null,e}function _e(e,t){var n=t[ud];n===void 0&&(n=t[ud]=new Set);var r=e+"__bubble";n.has(r)||(ey(t,e,2,!1),n.add(r))}function Xc(e,t,n){var r=0;t&&(r|=4),ey(n,e,r,t)}var ta="_reactListening"+Math.random().toString(36).slice(2);function mi(e){if(!e[ta]){e[ta]=!0,av.forEach(function(n){n!=="selectionchange"&&(HS.has(n)||Xc(n,!1,e),Xc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ta]||(t[ta]=!0,Xc("selectionchange",!1,t))}}function ey(e,t,n,r){switch(Lv(t)){case 1:var s=sS;break;case 4:s=oS;break;default:s=jf}n=s.bind(null,t,n,e),s=void 0,!Zu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Qc(e,t,n,r,s){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;a!==null;){if(i=Wr(a),i===null)return;if(c=i.tag,c===5||c===6){r=o=i;continue e}a=a.parentNode}}r=r.return}Sv(function(){var u=o,d=Sf(n),f=[];e:{var p=Jv.get(e);if(p!==void 0){var m=Pf,w=e;switch(e){case"keypress":if(Ca(n)===0)break e;case"keydown":case"keyup":m=wS;break;case"focusin":w="focus",m=Hc;break;case"focusout":w="blur",m=Hc;break;case"beforeblur":case"afterblur":m=Hc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Rm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=lS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=SS;break;case Gv:case Kv:case Xv:m=dS;break;case Qv:m=NS;break;case"scroll":m=iS;break;case"wheel":m=jS;break;case"copy":case"cut":case"paste":m=hS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Im}var y=(t&4)!==0,b=!y&&e==="scroll",x=y?p!==null?p+"Capture":null:p;y=[];for(var h=u,v;h!==null;){v=h;var _=v.stateNode;if(v.tag===5&&_!==null&&(v=_,x!==null&&(_=li(h,x),_!=null&&y.push(pi(h,_,v)))),b)break;h=h.return}0<y.length&&(p=new m(p,w,null,n,d),f.push({event:p,listeners:y}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",p&&n!==Qu&&(w=n.relatedTarget||n.fromElement)&&(Wr(w)||w[On]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(w=n.relatedTarget||n.toElement,m=u,w=w?Wr(w):null,w!==null&&(b=as(w),w!==b||w.tag!==5&&w.tag!==6)&&(w=null)):(m=null,w=u),m!==w)){if(y=Rm,_="onMouseLeave",x="onMouseEnter",h="mouse",(e==="pointerout"||e==="pointerover")&&(y=Im,_="onPointerLeave",x="onPointerEnter",h="pointer"),b=m==null?p:Is(m),v=w==null?p:Is(w),p=new y(_,h+"leave",m,n,d),p.target=b,p.relatedTarget=v,_=null,Wr(d)===u&&(y=new y(x,h+"enter",w,n,d),y.target=v,y.relatedTarget=b,_=y),b=_,m&&w)t:{for(y=m,x=w,h=0,v=y;v;v=ps(v))h++;for(v=0,_=x;_;_=ps(_))v++;for(;0<h-v;)y=ps(y),h--;for(;0<v-h;)x=ps(x),v--;for(;h--;){if(y===x||x!==null&&y===x.alternate)break t;y=ps(y),x=ps(x)}y=null}else y=null;m!==null&&Hm(f,p,m,y,!1),w!==null&&b!==null&&Hm(f,b,w,y,!0)}}e:{if(p=u?Is(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var S=OS;else if(Dm(p))if(zv)S=$S;else{S=DS;var k=MS}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(S=LS);if(S&&(S=S(e,u))){Wv(f,S,n,d);break e}k&&k(e,p,u),e==="focusout"&&(k=p._wrapperState)&&k.controlled&&p.type==="number"&&Yu(p,"number",p.value)}switch(k=u?Is(u):window,e){case"focusin":(Dm(k)||k.contentEditable==="true")&&(Rs=k,sd=u,Qo=null);break;case"focusout":Qo=sd=Rs=null;break;case"mousedown":od=!0;break;case"contextmenu":case"mouseup":case"dragend":od=!1,Um(f,n,d);break;case"selectionchange":if(US)break;case"keydown":case"keyup":Um(f,n,d)}var N;if(Rf)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Ts?Bv(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(Fv&&n.locale!=="ko"&&(Ts||E!=="onCompositionStart"?E==="onCompositionEnd"&&Ts&&(N=$v()):(rr=d,Ef="value"in rr?rr.value:rr.textContent,Ts=!0)),k=Ga(u,E),0<k.length&&(E=new Am(E,e,null,n,d),f.push({event:E,listeners:k}),N?E.data=N:(N=Uv(n),N!==null&&(E.data=N)))),(N=PS?TS(e,n):RS(e,n))&&(u=Ga(u,"onBeforeInput"),0<u.length&&(d=new Am("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=N))}Zv(f,t)})}function pi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ga(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=li(e,n),o!=null&&r.unshift(pi(e,o,s)),o=li(e,t),o!=null&&r.push(pi(e,o,s))),e=e.return}return r}function ps(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Hm(e,t,n,r,s){for(var o=t._reactName,i=[];n!==null&&n!==r;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&u!==null&&(a=u,s?(c=li(n,o),c!=null&&i.unshift(pi(n,c,a))):s||(c=li(n,o),c!=null&&i.push(pi(n,c,a)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var VS=/\r\n?/g,YS=/\u0000|\uFFFD/g;function Vm(e){return(typeof e=="string"?e:""+e).replace(VS,`
`).replace(YS,"")}function na(e,t,n){if(t=Vm(t),Vm(e)!==t&&n)throw Error(M(425))}function Ka(){}var id=null,ad=null;function ld(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var cd=typeof setTimeout=="function"?setTimeout:void 0,qS=typeof clearTimeout=="function"?clearTimeout:void 0,Ym=typeof Promise=="function"?Promise:void 0,GS=typeof queueMicrotask=="function"?queueMicrotask:typeof Ym<"u"?function(e){return Ym.resolve(null).then(e).catch(KS)}:cd;function KS(e){setTimeout(function(){throw e})}function Jc(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),di(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);di(t)}function cr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function qm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var vo=Math.random().toString(36).slice(2),dn="__reactFiber$"+vo,gi="__reactProps$"+vo,On="__reactContainer$"+vo,ud="__reactEvents$"+vo,XS="__reactListeners$"+vo,QS="__reactHandles$"+vo;function Wr(e){var t=e[dn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[On]||n[dn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=qm(e);e!==null;){if(n=e[dn])return n;e=qm(e)}return t}e=n,n=e.parentNode}return null}function Ai(e){return e=e[dn]||e[On],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Is(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(M(33))}function $l(e){return e[gi]||null}var dd=[],Os=-1;function Sr(e){return{current:e}}function Se(e){0>Os||(e.current=dd[Os],dd[Os]=null,Os--)}function ye(e,t){Os++,dd[Os]=e.current,e.current=t}var gr={},et=Sr(gr),ft=Sr(!1),Kr=gr;function Zs(e,t){var n=e.type.contextTypes;if(!n)return gr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function ht(e){return e=e.childContextTypes,e!=null}function Xa(){Se(ft),Se(et)}function Gm(e,t,n){if(et.current!==gr)throw Error(M(168));ye(et,t),ye(ft,n)}function ty(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(M(108,M1(e)||"Unknown",s));return Pe({},n,r)}function Qa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||gr,Kr=et.current,ye(et,e),ye(ft,ft.current),!0}function Km(e,t,n){var r=e.stateNode;if(!r)throw Error(M(169));n?(e=ty(e,t,Kr),r.__reactInternalMemoizedMergedChildContext=e,Se(ft),Se(et),ye(et,e)):Se(ft),ye(ft,n)}var Pn=null,Fl=!1,Zc=!1;function ny(e){Pn===null?Pn=[e]:Pn.push(e)}function JS(e){Fl=!0,ny(e)}function kr(){if(!Zc&&Pn!==null){Zc=!0;var e=0,t=he;try{var n=Pn;for(he=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Pn=null,Fl=!1}catch(s){throw Pn!==null&&(Pn=Pn.slice(e+1)),jv(kf,kr),s}finally{he=t,Zc=!1}}return null}var Ms=[],Ds=0,Ja=null,Za=0,Pt=[],Tt=0,Xr=null,Tn=1,Rn="";function Lr(e,t){Ms[Ds++]=Za,Ms[Ds++]=Ja,Ja=e,Za=t}function ry(e,t,n){Pt[Tt++]=Tn,Pt[Tt++]=Rn,Pt[Tt++]=Xr,Xr=e;var r=Tn;e=Rn;var s=32-Xt(r)-1;r&=~(1<<s),n+=1;var o=32-Xt(t)+s;if(30<o){var i=s-s%5;o=(r&(1<<i)-1).toString(32),r>>=i,s-=i,Tn=1<<32-Xt(t)+s|n<<s|r,Rn=o+e}else Tn=1<<o|n<<s|r,Rn=e}function If(e){e.return!==null&&(Lr(e,1),ry(e,1,0))}function Of(e){for(;e===Ja;)Ja=Ms[--Ds],Ms[Ds]=null,Za=Ms[--Ds],Ms[Ds]=null;for(;e===Xr;)Xr=Pt[--Tt],Pt[Tt]=null,Rn=Pt[--Tt],Pt[Tt]=null,Tn=Pt[--Tt],Pt[Tt]=null}var bt=null,wt=null,Ne=!1,qt=null;function sy(e,t){var n=Rt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Xm(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,bt=e,wt=cr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,bt=e,wt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Xr!==null?{id:Tn,overflow:Rn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Rt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,bt=e,wt=null,!0):!1;default:return!1}}function fd(e){return(e.mode&1)!==0&&(e.flags&128)===0}function hd(e){if(Ne){var t=wt;if(t){var n=t;if(!Xm(e,t)){if(fd(e))throw Error(M(418));t=cr(n.nextSibling);var r=bt;t&&Xm(e,t)?sy(r,n):(e.flags=e.flags&-4097|2,Ne=!1,bt=e)}}else{if(fd(e))throw Error(M(418));e.flags=e.flags&-4097|2,Ne=!1,bt=e}}}function Qm(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;bt=e}function ra(e){if(e!==bt)return!1;if(!Ne)return Qm(e),Ne=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ld(e.type,e.memoizedProps)),t&&(t=wt)){if(fd(e))throw oy(),Error(M(418));for(;t;)sy(e,t),t=cr(t.nextSibling)}if(Qm(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(M(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){wt=cr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}wt=null}}else wt=bt?cr(e.stateNode.nextSibling):null;return!0}function oy(){for(var e=wt;e;)e=cr(e.nextSibling)}function eo(){wt=bt=null,Ne=!1}function Mf(e){qt===null?qt=[e]:qt.push(e)}var ZS=Bn.ReactCurrentBatchConfig;function Io(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(M(309));var r=n.stateNode}if(!r)throw Error(M(147,e));var s=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var a=s.refs;i===null?delete a[o]:a[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(M(284));if(!n._owner)throw Error(M(290,e))}return e}function sa(e,t){throw e=Object.prototype.toString.call(t),Error(M(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Jm(e){var t=e._init;return t(e._payload)}function iy(e){function t(x,h){if(e){var v=x.deletions;v===null?(x.deletions=[h],x.flags|=16):v.push(h)}}function n(x,h){if(!e)return null;for(;h!==null;)t(x,h),h=h.sibling;return null}function r(x,h){for(x=new Map;h!==null;)h.key!==null?x.set(h.key,h):x.set(h.index,h),h=h.sibling;return x}function s(x,h){return x=hr(x,h),x.index=0,x.sibling=null,x}function o(x,h,v){return x.index=v,e?(v=x.alternate,v!==null?(v=v.index,v<h?(x.flags|=2,h):v):(x.flags|=2,h)):(x.flags|=1048576,h)}function i(x){return e&&x.alternate===null&&(x.flags|=2),x}function a(x,h,v,_){return h===null||h.tag!==6?(h=iu(v,x.mode,_),h.return=x,h):(h=s(h,v),h.return=x,h)}function c(x,h,v,_){var S=v.type;return S===Ps?d(x,h,v.props.children,_,v.key):h!==null&&(h.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Jn&&Jm(S)===h.type)?(_=s(h,v.props),_.ref=Io(x,h,v),_.return=x,_):(_=Ia(v.type,v.key,v.props,null,x.mode,_),_.ref=Io(x,h,v),_.return=x,_)}function u(x,h,v,_){return h===null||h.tag!==4||h.stateNode.containerInfo!==v.containerInfo||h.stateNode.implementation!==v.implementation?(h=au(v,x.mode,_),h.return=x,h):(h=s(h,v.children||[]),h.return=x,h)}function d(x,h,v,_,S){return h===null||h.tag!==7?(h=Yr(v,x.mode,_,S),h.return=x,h):(h=s(h,v),h.return=x,h)}function f(x,h,v){if(typeof h=="string"&&h!==""||typeof h=="number")return h=iu(""+h,x.mode,v),h.return=x,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case qi:return v=Ia(h.type,h.key,h.props,null,x.mode,v),v.ref=Io(x,null,h),v.return=x,v;case Es:return h=au(h,x.mode,v),h.return=x,h;case Jn:var _=h._init;return f(x,_(h._payload),v)}if(Wo(h)||Eo(h))return h=Yr(h,x.mode,v,null),h.return=x,h;sa(x,h)}return null}function p(x,h,v,_){var S=h!==null?h.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return S!==null?null:a(x,h,""+v,_);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case qi:return v.key===S?c(x,h,v,_):null;case Es:return v.key===S?u(x,h,v,_):null;case Jn:return S=v._init,p(x,h,S(v._payload),_)}if(Wo(v)||Eo(v))return S!==null?null:d(x,h,v,_,null);sa(x,v)}return null}function m(x,h,v,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return x=x.get(v)||null,a(h,x,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case qi:return x=x.get(_.key===null?v:_.key)||null,c(h,x,_,S);case Es:return x=x.get(_.key===null?v:_.key)||null,u(h,x,_,S);case Jn:var k=_._init;return m(x,h,v,k(_._payload),S)}if(Wo(_)||Eo(_))return x=x.get(v)||null,d(h,x,_,S,null);sa(h,_)}return null}function w(x,h,v,_){for(var S=null,k=null,N=h,E=h=0,I=null;N!==null&&E<v.length;E++){N.index>E?(I=N,N=null):I=N.sibling;var A=p(x,N,v[E],_);if(A===null){N===null&&(N=I);break}e&&N&&A.alternate===null&&t(x,N),h=o(A,h,E),k===null?S=A:k.sibling=A,k=A,N=I}if(E===v.length)return n(x,N),Ne&&Lr(x,E),S;if(N===null){for(;E<v.length;E++)N=f(x,v[E],_),N!==null&&(h=o(N,h,E),k===null?S=N:k.sibling=N,k=N);return Ne&&Lr(x,E),S}for(N=r(x,N);E<v.length;E++)I=m(N,x,E,v[E],_),I!==null&&(e&&I.alternate!==null&&N.delete(I.key===null?E:I.key),h=o(I,h,E),k===null?S=I:k.sibling=I,k=I);return e&&N.forEach(function(U){return t(x,U)}),Ne&&Lr(x,E),S}function y(x,h,v,_){var S=Eo(v);if(typeof S!="function")throw Error(M(150));if(v=S.call(v),v==null)throw Error(M(151));for(var k=S=null,N=h,E=h=0,I=null,A=v.next();N!==null&&!A.done;E++,A=v.next()){N.index>E?(I=N,N=null):I=N.sibling;var U=p(x,N,A.value,_);if(U===null){N===null&&(N=I);break}e&&N&&U.alternate===null&&t(x,N),h=o(U,h,E),k===null?S=U:k.sibling=U,k=U,N=I}if(A.done)return n(x,N),Ne&&Lr(x,E),S;if(N===null){for(;!A.done;E++,A=v.next())A=f(x,A.value,_),A!==null&&(h=o(A,h,E),k===null?S=A:k.sibling=A,k=A);return Ne&&Lr(x,E),S}for(N=r(x,N);!A.done;E++,A=v.next())A=m(N,x,E,A.value,_),A!==null&&(e&&A.alternate!==null&&N.delete(A.key===null?E:A.key),h=o(A,h,E),k===null?S=A:k.sibling=A,k=A);return e&&N.forEach(function(T){return t(x,T)}),Ne&&Lr(x,E),S}function b(x,h,v,_){if(typeof v=="object"&&v!==null&&v.type===Ps&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case qi:e:{for(var S=v.key,k=h;k!==null;){if(k.key===S){if(S=v.type,S===Ps){if(k.tag===7){n(x,k.sibling),h=s(k,v.props.children),h.return=x,x=h;break e}}else if(k.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Jn&&Jm(S)===k.type){n(x,k.sibling),h=s(k,v.props),h.ref=Io(x,k,v),h.return=x,x=h;break e}n(x,k);break}else t(x,k);k=k.sibling}v.type===Ps?(h=Yr(v.props.children,x.mode,_,v.key),h.return=x,x=h):(_=Ia(v.type,v.key,v.props,null,x.mode,_),_.ref=Io(x,h,v),_.return=x,x=_)}return i(x);case Es:e:{for(k=v.key;h!==null;){if(h.key===k)if(h.tag===4&&h.stateNode.containerInfo===v.containerInfo&&h.stateNode.implementation===v.implementation){n(x,h.sibling),h=s(h,v.children||[]),h.return=x,x=h;break e}else{n(x,h);break}else t(x,h);h=h.sibling}h=au(v,x.mode,_),h.return=x,x=h}return i(x);case Jn:return k=v._init,b(x,h,k(v._payload),_)}if(Wo(v))return w(x,h,v,_);if(Eo(v))return y(x,h,v,_);sa(x,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,h!==null&&h.tag===6?(n(x,h.sibling),h=s(h,v),h.return=x,x=h):(n(x,h),h=iu(v,x.mode,_),h.return=x,x=h),i(x)):n(x,h)}return b}var to=iy(!0),ay=iy(!1),el=Sr(null),tl=null,Ls=null,Df=null;function Lf(){Df=Ls=tl=null}function $f(e){var t=el.current;Se(el),e._currentValue=t}function md(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Vs(e,t){tl=e,Df=Ls=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ut=!0),e.firstContext=null)}function Ot(e){var t=e._currentValue;if(Df!==e)if(e={context:e,memoizedValue:t,next:null},Ls===null){if(tl===null)throw Error(M(308));Ls=e,tl.dependencies={lanes:0,firstContext:e}}else Ls=Ls.next=e;return t}var zr=null;function Ff(e){zr===null?zr=[e]:zr.push(e)}function ly(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Ff(t)):(n.next=s.next,s.next=n),t.interleaved=n,Mn(e,r)}function Mn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Zn=!1;function Bf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cy(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function An(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ur(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ae&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Mn(e,n)}return s=r.interleaved,s===null?(t.next=t,Ff(r)):(t.next=s.next,s.next=t),r.interleaved=t,Mn(e,n)}function ja(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Nf(e,n)}}function Zm(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=i:o=o.next=i,n=n.next}while(n!==null);o===null?s=o=t:o=o.next=t}else s=o=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function nl(e,t,n,r){var s=e.updateQueue;Zn=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,u=c.next;c.next=null,i===null?o=u:i.next=u,i=c;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==i&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=c))}if(o!==null){var f=s.baseState;i=0,d=u=c=null,a=o;do{var p=a.lane,m=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=e,y=a;switch(p=t,m=n,y.tag){case 1:if(w=y.payload,typeof w=="function"){f=w.call(m,f,p);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=y.payload,p=typeof w=="function"?w.call(m,f,p):w,p==null)break e;f=Pe({},f,p);break e;case 2:Zn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,i|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);Jr|=i,e.lanes=i,e.memoizedState=f}}function ep(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(M(191,s));s.call(r)}}}var Ii={},gn=Sr(Ii),vi=Sr(Ii),yi=Sr(Ii);function Hr(e){if(e===Ii)throw Error(M(174));return e}function Uf(e,t){switch(ye(yi,t),ye(vi,e),ye(gn,Ii),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Gu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Gu(t,e)}Se(gn),ye(gn,t)}function no(){Se(gn),Se(vi),Se(yi)}function uy(e){Hr(yi.current);var t=Hr(gn.current),n=Gu(t,e.type);t!==n&&(ye(vi,e),ye(gn,n))}function Wf(e){vi.current===e&&(Se(gn),Se(vi))}var Ce=Sr(0);function rl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var eu=[];function zf(){for(var e=0;e<eu.length;e++)eu[e]._workInProgressVersionPrimary=null;eu.length=0}var Ea=Bn.ReactCurrentDispatcher,tu=Bn.ReactCurrentBatchConfig,Qr=0,Ee=null,$e=null,ze=null,sl=!1,Jo=!1,xi=0,ek=0;function Ke(){throw Error(M(321))}function Hf(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Zt(e[n],t[n]))return!1;return!0}function Vf(e,t,n,r,s,o){if(Qr=o,Ee=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ea.current=e===null||e.memoizedState===null?sk:ok,e=n(r,s),Jo){o=0;do{if(Jo=!1,xi=0,25<=o)throw Error(M(301));o+=1,ze=$e=null,t.updateQueue=null,Ea.current=ik,e=n(r,s)}while(Jo)}if(Ea.current=ol,t=$e!==null&&$e.next!==null,Qr=0,ze=$e=Ee=null,sl=!1,t)throw Error(M(300));return e}function Yf(){var e=xi!==0;return xi=0,e}function cn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ze===null?Ee.memoizedState=ze=e:ze=ze.next=e,ze}function Mt(){if($e===null){var e=Ee.alternate;e=e!==null?e.memoizedState:null}else e=$e.next;var t=ze===null?Ee.memoizedState:ze.next;if(t!==null)ze=t,$e=e;else{if(e===null)throw Error(M(310));$e=e,e={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},ze===null?Ee.memoizedState=ze=e:ze=ze.next=e}return ze}function wi(e,t){return typeof t=="function"?t(e):t}function nu(e){var t=Mt(),n=t.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=e;var r=$e,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var a=i=null,c=null,u=o;do{var d=u.lane;if((Qr&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=f,i=r):c=c.next=f,Ee.lanes|=d,Jr|=d}u=u.next}while(u!==null&&u!==o);c===null?i=r:c.next=a,Zt(r,t.memoizedState)||(ut=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do o=s.lane,Ee.lanes|=o,Jr|=o,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ru(e){var t=Mt(),n=t.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do o=e(o,i.action),i=i.next;while(i!==s);Zt(o,t.memoizedState)||(ut=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function dy(){}function fy(e,t){var n=Ee,r=Mt(),s=t(),o=!Zt(r.memoizedState,s);if(o&&(r.memoizedState=s,ut=!0),r=r.queue,qf(py.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||ze!==null&&ze.memoizedState.tag&1){if(n.flags|=2048,bi(9,my.bind(null,n,r,s,t),void 0,null),He===null)throw Error(M(349));Qr&30||hy(n,t,s)}return s}function hy(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ee.updateQueue,t===null?(t={lastEffect:null,stores:null},Ee.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function my(e,t,n,r){t.value=n,t.getSnapshot=r,gy(t)&&vy(e)}function py(e,t,n){return n(function(){gy(t)&&vy(e)})}function gy(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Zt(e,n)}catch{return!0}}function vy(e){var t=Mn(e,1);t!==null&&Qt(t,e,1,-1)}function tp(e){var t=cn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:e},t.queue=e,e=e.dispatch=rk.bind(null,Ee,e),[t.memoizedState,e]}function bi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ee.updateQueue,t===null?(t={lastEffect:null,stores:null},Ee.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function yy(){return Mt().memoizedState}function Pa(e,t,n,r){var s=cn();Ee.flags|=e,s.memoizedState=bi(1|t,n,void 0,r===void 0?null:r)}function Bl(e,t,n,r){var s=Mt();r=r===void 0?null:r;var o=void 0;if($e!==null){var i=$e.memoizedState;if(o=i.destroy,r!==null&&Hf(r,i.deps)){s.memoizedState=bi(t,n,o,r);return}}Ee.flags|=e,s.memoizedState=bi(1|t,n,o,r)}function np(e,t){return Pa(8390656,8,e,t)}function qf(e,t){return Bl(2048,8,e,t)}function xy(e,t){return Bl(4,2,e,t)}function wy(e,t){return Bl(4,4,e,t)}function by(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function _y(e,t,n){return n=n!=null?n.concat([e]):null,Bl(4,4,by.bind(null,t,e),n)}function Gf(){}function Sy(e,t){var n=Mt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Hf(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ky(e,t){var n=Mt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Hf(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ny(e,t,n){return Qr&21?(Zt(n,t)||(n=Tv(),Ee.lanes|=n,Jr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ut=!0),e.memoizedState=n)}function tk(e,t){var n=he;he=n!==0&&4>n?n:4,e(!0);var r=tu.transition;tu.transition={};try{e(!1),t()}finally{he=n,tu.transition=r}}function Cy(){return Mt().memoizedState}function nk(e,t,n){var r=fr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},jy(e))Ey(t,n);else if(n=ly(e,t,n,r),n!==null){var s=st();Qt(n,e,r,s),Py(n,t,r)}}function rk(e,t,n){var r=fr(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(jy(e))Ey(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,a=o(i,n);if(s.hasEagerState=!0,s.eagerState=a,Zt(a,i)){var c=t.interleaved;c===null?(s.next=s,Ff(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=ly(e,t,s,r),n!==null&&(s=st(),Qt(n,e,r,s),Py(n,t,r))}}function jy(e){var t=e.alternate;return e===Ee||t!==null&&t===Ee}function Ey(e,t){Jo=sl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Py(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Nf(e,n)}}var ol={readContext:Ot,useCallback:Ke,useContext:Ke,useEffect:Ke,useImperativeHandle:Ke,useInsertionEffect:Ke,useLayoutEffect:Ke,useMemo:Ke,useReducer:Ke,useRef:Ke,useState:Ke,useDebugValue:Ke,useDeferredValue:Ke,useTransition:Ke,useMutableSource:Ke,useSyncExternalStore:Ke,useId:Ke,unstable_isNewReconciler:!1},sk={readContext:Ot,useCallback:function(e,t){return cn().memoizedState=[e,t===void 0?null:t],e},useContext:Ot,useEffect:np,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Pa(4194308,4,by.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Pa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Pa(4,2,e,t)},useMemo:function(e,t){var n=cn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=cn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=nk.bind(null,Ee,e),[r.memoizedState,e]},useRef:function(e){var t=cn();return e={current:e},t.memoizedState=e},useState:tp,useDebugValue:Gf,useDeferredValue:function(e){return cn().memoizedState=e},useTransition:function(){var e=tp(!1),t=e[0];return e=tk.bind(null,e[1]),cn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ee,s=cn();if(Ne){if(n===void 0)throw Error(M(407));n=n()}else{if(n=t(),He===null)throw Error(M(349));Qr&30||hy(r,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,np(py.bind(null,r,o,e),[e]),r.flags|=2048,bi(9,my.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=cn(),t=He.identifierPrefix;if(Ne){var n=Rn,r=Tn;n=(r&~(1<<32-Xt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=xi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=ek++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ok={readContext:Ot,useCallback:Sy,useContext:Ot,useEffect:qf,useImperativeHandle:_y,useInsertionEffect:xy,useLayoutEffect:wy,useMemo:ky,useReducer:nu,useRef:yy,useState:function(){return nu(wi)},useDebugValue:Gf,useDeferredValue:function(e){var t=Mt();return Ny(t,$e.memoizedState,e)},useTransition:function(){var e=nu(wi)[0],t=Mt().memoizedState;return[e,t]},useMutableSource:dy,useSyncExternalStore:fy,useId:Cy,unstable_isNewReconciler:!1},ik={readContext:Ot,useCallback:Sy,useContext:Ot,useEffect:qf,useImperativeHandle:_y,useInsertionEffect:xy,useLayoutEffect:wy,useMemo:ky,useReducer:ru,useRef:yy,useState:function(){return ru(wi)},useDebugValue:Gf,useDeferredValue:function(e){var t=Mt();return $e===null?t.memoizedState=e:Ny(t,$e.memoizedState,e)},useTransition:function(){var e=ru(wi)[0],t=Mt().memoizedState;return[e,t]},useMutableSource:dy,useSyncExternalStore:fy,useId:Cy,unstable_isNewReconciler:!1};function Ht(e,t){if(e&&e.defaultProps){t=Pe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function pd(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Pe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ul={isMounted:function(e){return(e=e._reactInternals)?as(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=st(),s=fr(e),o=An(r,s);o.payload=t,n!=null&&(o.callback=n),t=ur(e,o,s),t!==null&&(Qt(t,e,s,r),ja(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=st(),s=fr(e),o=An(r,s);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=ur(e,o,s),t!==null&&(Qt(t,e,s,r),ja(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=st(),r=fr(e),s=An(n,r);s.tag=2,t!=null&&(s.callback=t),t=ur(e,s,r),t!==null&&(Qt(t,e,r,n),ja(t,e,r))}};function rp(e,t,n,r,s,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,i):t.prototype&&t.prototype.isPureReactComponent?!hi(n,r)||!hi(s,o):!0}function Ty(e,t,n){var r=!1,s=gr,o=t.contextType;return typeof o=="object"&&o!==null?o=Ot(o):(s=ht(t)?Kr:et.current,r=t.contextTypes,o=(r=r!=null)?Zs(e,s):gr),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ul,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function sp(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ul.enqueueReplaceState(t,t.state,null)}function gd(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Bf(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=Ot(o):(o=ht(t)?Kr:et.current,s.context=Zs(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(pd(e,t,o,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Ul.enqueueReplaceState(s,s.state,null),nl(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function ro(e,t){try{var n="",r=t;do n+=O1(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function su(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function vd(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ak=typeof WeakMap=="function"?WeakMap:Map;function Ry(e,t,n){n=An(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){al||(al=!0,jd=r),vd(e,t)},n}function Ay(e,t,n){n=An(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){vd(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){vd(e,t),typeof r!="function"&&(dr===null?dr=new Set([this]):dr.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function op(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new ak;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=bk.bind(null,e,t,n),t.then(e,e))}function ip(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ap(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=An(-1,1),t.tag=2,ur(n,t,1))),n.lanes|=1),e)}var lk=Bn.ReactCurrentOwner,ut=!1;function nt(e,t,n,r){t.child=e===null?ay(t,null,n,r):to(t,e.child,n,r)}function lp(e,t,n,r,s){n=n.render;var o=t.ref;return Vs(t,s),r=Vf(e,t,n,r,o,s),n=Yf(),e!==null&&!ut?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Dn(e,t,s)):(Ne&&n&&If(t),t.flags|=1,nt(e,t,r,s),t.child)}function cp(e,t,n,r,s){if(e===null){var o=n.type;return typeof o=="function"&&!nh(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,Iy(e,t,o,r,s)):(e=Ia(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var i=o.memoizedProps;if(n=n.compare,n=n!==null?n:hi,n(i,r)&&e.ref===t.ref)return Dn(e,t,s)}return t.flags|=1,e=hr(o,r),e.ref=t.ref,e.return=t,t.child=e}function Iy(e,t,n,r,s){if(e!==null){var o=e.memoizedProps;if(hi(o,r)&&e.ref===t.ref)if(ut=!1,t.pendingProps=r=o,(e.lanes&s)!==0)e.flags&131072&&(ut=!0);else return t.lanes=e.lanes,Dn(e,t,s)}return yd(e,t,n,r,s)}function Oy(e,t,n){var r=t.pendingProps,s=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ye(Fs,yt),yt|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ye(Fs,yt),yt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,ye(Fs,yt),yt|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,ye(Fs,yt),yt|=r;return nt(e,t,s,n),t.child}function My(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function yd(e,t,n,r,s){var o=ht(n)?Kr:et.current;return o=Zs(t,o),Vs(t,s),n=Vf(e,t,n,r,o,s),r=Yf(),e!==null&&!ut?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Dn(e,t,s)):(Ne&&r&&If(t),t.flags|=1,nt(e,t,n,s),t.child)}function up(e,t,n,r,s){if(ht(n)){var o=!0;Qa(t)}else o=!1;if(Vs(t,s),t.stateNode===null)Ta(e,t),Ty(t,n,r),gd(t,n,r,s),r=!0;else if(e===null){var i=t.stateNode,a=t.memoizedProps;i.props=a;var c=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ot(u):(u=ht(n)?Kr:et.current,u=Zs(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==r||c!==u)&&sp(t,i,r,u),Zn=!1;var p=t.memoizedState;i.state=p,nl(t,r,i,s),c=t.memoizedState,a!==r||p!==c||ft.current||Zn?(typeof d=="function"&&(pd(t,n,d,r),c=t.memoizedState),(a=Zn||rp(t,n,a,r,p,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=u,r=a):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,cy(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Ht(t.type,a),i.props=u,f=t.pendingProps,p=i.context,c=n.contextType,typeof c=="object"&&c!==null?c=Ot(c):(c=ht(n)?Kr:et.current,c=Zs(t,c));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==f||p!==c)&&sp(t,i,r,c),Zn=!1,p=t.memoizedState,i.state=p,nl(t,r,i,s);var w=t.memoizedState;a!==f||p!==w||ft.current||Zn?(typeof m=="function"&&(pd(t,n,m,r),w=t.memoizedState),(u=Zn||rp(t,n,u,r,p,w,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,w,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,w,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),i.props=r,i.state=w,i.context=c,r=u):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return xd(e,t,n,r,o,s)}function xd(e,t,n,r,s,o){My(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return s&&Km(t,n,!1),Dn(e,t,o);r=t.stateNode,lk.current=t;var a=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=to(t,e.child,null,o),t.child=to(t,null,a,o)):nt(e,t,a,o),t.memoizedState=r.state,s&&Km(t,n,!0),t.child}function Dy(e){var t=e.stateNode;t.pendingContext?Gm(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Gm(e,t.context,!1),Uf(e,t.containerInfo)}function dp(e,t,n,r,s){return eo(),Mf(s),t.flags|=256,nt(e,t,n,r),t.child}var wd={dehydrated:null,treeContext:null,retryLane:0};function bd(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ly(e,t,n){var r=t.pendingProps,s=Ce.current,o=!1,i=(t.flags&128)!==0,a;if((a=i)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ye(Ce,s&1),e===null)return hd(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,o?(r=t.mode,o=t.child,i={mode:"hidden",children:i},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=Hl(i,r,0,null),e=Yr(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=bd(n),t.memoizedState=wd,e):Kf(t,i));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return ck(e,t,i,r,a,s,n);if(o){o=r.fallback,i=t.mode,s=e.child,a=s.sibling;var c={mode:"hidden",children:r.children};return!(i&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=hr(s,c),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?o=hr(a,o):(o=Yr(o,i,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,i=e.child.memoizedState,i=i===null?bd(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~n,t.memoizedState=wd,r}return o=e.child,e=o.sibling,r=hr(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Kf(e,t){return t=Hl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function oa(e,t,n,r){return r!==null&&Mf(r),to(t,e.child,null,n),e=Kf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ck(e,t,n,r,s,o,i){if(n)return t.flags&256?(t.flags&=-257,r=su(Error(M(422))),oa(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,s=t.mode,r=Hl({mode:"visible",children:r.children},s,0,null),o=Yr(o,s,i,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&to(t,e.child,null,i),t.child.memoizedState=bd(i),t.memoizedState=wd,o);if(!(t.mode&1))return oa(e,t,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(M(419)),r=su(o,r,void 0),oa(e,t,i,r)}if(a=(i&e.childLanes)!==0,ut||a){if(r=He,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,Mn(e,s),Qt(r,e,s,-1))}return th(),r=su(Error(M(421))),oa(e,t,i,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=_k.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,wt=cr(s.nextSibling),bt=t,Ne=!0,qt=null,e!==null&&(Pt[Tt++]=Tn,Pt[Tt++]=Rn,Pt[Tt++]=Xr,Tn=e.id,Rn=e.overflow,Xr=t),t=Kf(t,r.children),t.flags|=4096,t)}function fp(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),md(e.return,t,n)}function ou(e,t,n,r,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function $y(e,t,n){var r=t.pendingProps,s=r.revealOrder,o=r.tail;if(nt(e,t,r.children,n),r=Ce.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&fp(e,n,t);else if(e.tag===19)fp(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ye(Ce,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&rl(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),ou(t,!1,s,n,o);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&rl(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}ou(t,!0,n,null,o);break;case"together":ou(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ta(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Dn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Jr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(M(153));if(t.child!==null){for(e=t.child,n=hr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=hr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function uk(e,t,n){switch(t.tag){case 3:Dy(t),eo();break;case 5:uy(t);break;case 1:ht(t.type)&&Qa(t);break;case 4:Uf(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;ye(el,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ye(Ce,Ce.current&1),t.flags|=128,null):n&t.child.childLanes?Ly(e,t,n):(ye(Ce,Ce.current&1),e=Dn(e,t,n),e!==null?e.sibling:null);ye(Ce,Ce.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return $y(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ye(Ce,Ce.current),r)break;return null;case 22:case 23:return t.lanes=0,Oy(e,t,n)}return Dn(e,t,n)}var Fy,_d,By,Uy;Fy=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};_d=function(){};By=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Hr(gn.current);var o=null;switch(n){case"input":s=Hu(e,s),r=Hu(e,r),o=[];break;case"select":s=Pe({},s,{value:void 0}),r=Pe({},r,{value:void 0}),o=[];break;case"textarea":s=qu(e,s),r=qu(e,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ka)}Ku(n,r);var i;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ii.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(i in a)!a.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&a[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(o||(o=[]),o.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ii.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&_e("scroll",e),o||a===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};Uy=function(e,t,n,r){n!==r&&(t.flags|=4)};function Oo(e,t){if(!Ne)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Xe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function dk(e,t,n){var r=t.pendingProps;switch(Of(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xe(t),null;case 1:return ht(t.type)&&Xa(),Xe(t),null;case 3:return r=t.stateNode,no(),Se(ft),Se(et),zf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ra(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,qt!==null&&(Td(qt),qt=null))),_d(e,t),Xe(t),null;case 5:Wf(t);var s=Hr(yi.current);if(n=t.type,e!==null&&t.stateNode!=null)By(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(M(166));return Xe(t),null}if(e=Hr(gn.current),ra(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[dn]=t,r[gi]=o,e=(t.mode&1)!==0,n){case"dialog":_e("cancel",r),_e("close",r);break;case"iframe":case"object":case"embed":_e("load",r);break;case"video":case"audio":for(s=0;s<Ho.length;s++)_e(Ho[s],r);break;case"source":_e("error",r);break;case"img":case"image":case"link":_e("error",r),_e("load",r);break;case"details":_e("toggle",r);break;case"input":bm(r,o),_e("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},_e("invalid",r);break;case"textarea":Sm(r,o),_e("invalid",r)}Ku(n,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var a=o[i];i==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&na(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&na(r.textContent,a,e),s=["children",""+a]):ii.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&_e("scroll",r)}switch(n){case"input":Gi(r),_m(r,o,!0);break;case"textarea":Gi(r),km(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Ka)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=pv(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[dn]=t,e[gi]=r,Fy(e,t,!1,!1),t.stateNode=e;e:{switch(i=Xu(n,r),n){case"dialog":_e("cancel",e),_e("close",e),s=r;break;case"iframe":case"object":case"embed":_e("load",e),s=r;break;case"video":case"audio":for(s=0;s<Ho.length;s++)_e(Ho[s],e);s=r;break;case"source":_e("error",e),s=r;break;case"img":case"image":case"link":_e("error",e),_e("load",e),s=r;break;case"details":_e("toggle",e),s=r;break;case"input":bm(e,r),s=Hu(e,r),_e("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Pe({},r,{value:void 0}),_e("invalid",e);break;case"textarea":Sm(e,r),s=qu(e,r),_e("invalid",e);break;default:s=r}Ku(n,s),a=s;for(o in a)if(a.hasOwnProperty(o)){var c=a[o];o==="style"?yv(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&gv(e,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&ai(e,c):typeof c=="number"&&ai(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ii.hasOwnProperty(o)?c!=null&&o==="onScroll"&&_e("scroll",e):c!=null&&xf(e,o,c,i))}switch(n){case"input":Gi(e),_m(e,r,!1);break;case"textarea":Gi(e),km(e);break;case"option":r.value!=null&&e.setAttribute("value",""+pr(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Us(e,!!r.multiple,o,!1):r.defaultValue!=null&&Us(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ka)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Xe(t),null;case 6:if(e&&t.stateNode!=null)Uy(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(M(166));if(n=Hr(yi.current),Hr(gn.current),ra(t)){if(r=t.stateNode,n=t.memoizedProps,r[dn]=t,(o=r.nodeValue!==n)&&(e=bt,e!==null))switch(e.tag){case 3:na(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&na(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[dn]=t,t.stateNode=r}return Xe(t),null;case 13:if(Se(Ce),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ne&&wt!==null&&t.mode&1&&!(t.flags&128))oy(),eo(),t.flags|=98560,o=!1;else if(o=ra(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(M(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(M(317));o[dn]=t}else eo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Xe(t),o=!1}else qt!==null&&(Td(qt),qt=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ce.current&1?Fe===0&&(Fe=3):th())),t.updateQueue!==null&&(t.flags|=4),Xe(t),null);case 4:return no(),_d(e,t),e===null&&mi(t.stateNode.containerInfo),Xe(t),null;case 10:return $f(t.type._context),Xe(t),null;case 17:return ht(t.type)&&Xa(),Xe(t),null;case 19:if(Se(Ce),o=t.memoizedState,o===null)return Xe(t),null;if(r=(t.flags&128)!==0,i=o.rendering,i===null)if(r)Oo(o,!1);else{if(Fe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=rl(e),i!==null){for(t.flags|=128,Oo(o,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ye(Ce,Ce.current&1|2),t.child}e=e.sibling}o.tail!==null&&Ae()>so&&(t.flags|=128,r=!0,Oo(o,!1),t.lanes=4194304)}else{if(!r)if(e=rl(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Oo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!Ne)return Xe(t),null}else 2*Ae()-o.renderingStartTime>so&&n!==1073741824&&(t.flags|=128,r=!0,Oo(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(n=o.last,n!==null?n.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ae(),t.sibling=null,n=Ce.current,ye(Ce,r?n&1|2:n&1),t):(Xe(t),null);case 22:case 23:return eh(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?yt&1073741824&&(Xe(t),t.subtreeFlags&6&&(t.flags|=8192)):Xe(t),null;case 24:return null;case 25:return null}throw Error(M(156,t.tag))}function fk(e,t){switch(Of(t),t.tag){case 1:return ht(t.type)&&Xa(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return no(),Se(ft),Se(et),zf(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Wf(t),null;case 13:if(Se(Ce),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(M(340));eo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Se(Ce),null;case 4:return no(),null;case 10:return $f(t.type._context),null;case 22:case 23:return eh(),null;case 24:return null;default:return null}}var ia=!1,Je=!1,hk=typeof WeakSet=="function"?WeakSet:Set,W=null;function $s(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Re(e,t,r)}else n.current=null}function Sd(e,t,n){try{n()}catch(r){Re(e,t,r)}}var hp=!1;function mk(e,t){if(id=Ya,e=Yv(),Af(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var i=0,a=-1,c=-1,u=0,d=0,f=e,p=null;t:for(;;){for(var m;f!==n||s!==0&&f.nodeType!==3||(a=i+s),f!==o||r!==0&&f.nodeType!==3||(c=i+r),f.nodeType===3&&(i+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===e)break t;if(p===n&&++u===s&&(a=i),p===o&&++d===r&&(c=i),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ad={focusedElem:e,selectionRange:n},Ya=!1,W=t;W!==null;)if(t=W,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,W=e;else for(;W!==null;){t=W;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var y=w.memoizedProps,b=w.memoizedState,x=t.stateNode,h=x.getSnapshotBeforeUpdate(t.elementType===t.type?y:Ht(t.type,y),b);x.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(M(163))}}catch(_){Re(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,W=e;break}W=t.return}return w=hp,hp=!1,w}function Zo(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&Sd(t,n,o)}s=s.next}while(s!==r)}}function Wl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function kd(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Wy(e){var t=e.alternate;t!==null&&(e.alternate=null,Wy(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[dn],delete t[gi],delete t[ud],delete t[XS],delete t[QS])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function zy(e){return e.tag===5||e.tag===3||e.tag===4}function mp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||zy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Nd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ka));else if(r!==4&&(e=e.child,e!==null))for(Nd(e,t,n),e=e.sibling;e!==null;)Nd(e,t,n),e=e.sibling}function Cd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Cd(e,t,n),e=e.sibling;e!==null;)Cd(e,t,n),e=e.sibling}var Ve=null,Vt=!1;function Vn(e,t,n){for(n=n.child;n!==null;)Hy(e,t,n),n=n.sibling}function Hy(e,t,n){if(pn&&typeof pn.onCommitFiberUnmount=="function")try{pn.onCommitFiberUnmount(Ol,n)}catch{}switch(n.tag){case 5:Je||$s(n,t);case 6:var r=Ve,s=Vt;Ve=null,Vn(e,t,n),Ve=r,Vt=s,Ve!==null&&(Vt?(e=Ve,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ve.removeChild(n.stateNode));break;case 18:Ve!==null&&(Vt?(e=Ve,n=n.stateNode,e.nodeType===8?Jc(e.parentNode,n):e.nodeType===1&&Jc(e,n),di(e)):Jc(Ve,n.stateNode));break;case 4:r=Ve,s=Vt,Ve=n.stateNode.containerInfo,Vt=!0,Vn(e,t,n),Ve=r,Vt=s;break;case 0:case 11:case 14:case 15:if(!Je&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&Sd(n,t,i),s=s.next}while(s!==r)}Vn(e,t,n);break;case 1:if(!Je&&($s(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Re(n,t,a)}Vn(e,t,n);break;case 21:Vn(e,t,n);break;case 22:n.mode&1?(Je=(r=Je)||n.memoizedState!==null,Vn(e,t,n),Je=r):Vn(e,t,n);break;default:Vn(e,t,n)}}function pp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new hk),t.forEach(function(r){var s=Sk.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Bt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=e,i=t,a=i;e:for(;a!==null;){switch(a.tag){case 5:Ve=a.stateNode,Vt=!1;break e;case 3:Ve=a.stateNode.containerInfo,Vt=!0;break e;case 4:Ve=a.stateNode.containerInfo,Vt=!0;break e}a=a.return}if(Ve===null)throw Error(M(160));Hy(o,i,s),Ve=null,Vt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Re(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Vy(t,e),t=t.sibling}function Vy(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Bt(t,e),ln(e),r&4){try{Zo(3,e,e.return),Wl(3,e)}catch(y){Re(e,e.return,y)}try{Zo(5,e,e.return)}catch(y){Re(e,e.return,y)}}break;case 1:Bt(t,e),ln(e),r&512&&n!==null&&$s(n,n.return);break;case 5:if(Bt(t,e),ln(e),r&512&&n!==null&&$s(n,n.return),e.flags&32){var s=e.stateNode;try{ai(s,"")}catch(y){Re(e,e.return,y)}}if(r&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,i=n!==null?n.memoizedProps:o,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&hv(s,o),Xu(a,i);var u=Xu(a,o);for(i=0;i<c.length;i+=2){var d=c[i],f=c[i+1];d==="style"?yv(s,f):d==="dangerouslySetInnerHTML"?gv(s,f):d==="children"?ai(s,f):xf(s,d,f,u)}switch(a){case"input":Vu(s,o);break;case"textarea":mv(s,o);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?Us(s,!!o.multiple,m,!1):p!==!!o.multiple&&(o.defaultValue!=null?Us(s,!!o.multiple,o.defaultValue,!0):Us(s,!!o.multiple,o.multiple?[]:"",!1))}s[gi]=o}catch(y){Re(e,e.return,y)}}break;case 6:if(Bt(t,e),ln(e),r&4){if(e.stateNode===null)throw Error(M(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(y){Re(e,e.return,y)}}break;case 3:if(Bt(t,e),ln(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{di(t.containerInfo)}catch(y){Re(e,e.return,y)}break;case 4:Bt(t,e),ln(e);break;case 13:Bt(t,e),ln(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(Jf=Ae())),r&4&&pp(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Je=(u=Je)||d,Bt(t,e),Je=u):Bt(t,e),ln(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(W=e,d=e.child;d!==null;){for(f=W=d;W!==null;){switch(p=W,m=p.child,p.tag){case 0:case 11:case 14:case 15:Zo(4,p,p.return);break;case 1:$s(p,p.return);var w=p.stateNode;if(typeof w.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(y){Re(r,n,y)}}break;case 5:$s(p,p.return);break;case 22:if(p.memoizedState!==null){vp(f);continue}}m!==null?(m.return=p,W=m):vp(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=vv("display",i))}catch(y){Re(e,e.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){Re(e,e.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Bt(t,e),ln(e),r&4&&pp(e);break;case 21:break;default:Bt(t,e),ln(e)}}function ln(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(zy(n)){var r=n;break e}n=n.return}throw Error(M(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ai(s,""),r.flags&=-33);var o=mp(e);Cd(e,o,s);break;case 3:case 4:var i=r.stateNode.containerInfo,a=mp(e);Nd(e,a,i);break;default:throw Error(M(161))}}catch(c){Re(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function pk(e,t,n){W=e,Yy(e)}function Yy(e,t,n){for(var r=(e.mode&1)!==0;W!==null;){var s=W,o=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||ia;if(!i){var a=s.alternate,c=a!==null&&a.memoizedState!==null||Je;a=ia;var u=Je;if(ia=i,(Je=c)&&!u)for(W=s;W!==null;)i=W,c=i.child,i.tag===22&&i.memoizedState!==null?yp(s):c!==null?(c.return=i,W=c):yp(s);for(;o!==null;)W=o,Yy(o),o=o.sibling;W=s,ia=a,Je=u}gp(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,W=o):gp(e)}}function gp(e){for(;W!==null;){var t=W;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Je||Wl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Je)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Ht(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&ep(t,o,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}ep(t,i,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&di(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(M(163))}Je||t.flags&512&&kd(t)}catch(p){Re(t,t.return,p)}}if(t===e){W=null;break}if(n=t.sibling,n!==null){n.return=t.return,W=n;break}W=t.return}}function vp(e){for(;W!==null;){var t=W;if(t===e){W=null;break}var n=t.sibling;if(n!==null){n.return=t.return,W=n;break}W=t.return}}function yp(e){for(;W!==null;){var t=W;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Wl(4,t)}catch(c){Re(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){Re(t,s,c)}}var o=t.return;try{kd(t)}catch(c){Re(t,o,c)}break;case 5:var i=t.return;try{kd(t)}catch(c){Re(t,i,c)}}}catch(c){Re(t,t.return,c)}if(t===e){W=null;break}var a=t.sibling;if(a!==null){a.return=t.return,W=a;break}W=t.return}}var gk=Math.ceil,il=Bn.ReactCurrentDispatcher,Xf=Bn.ReactCurrentOwner,At=Bn.ReactCurrentBatchConfig,ae=0,He=null,Me=null,Ye=0,yt=0,Fs=Sr(0),Fe=0,_i=null,Jr=0,zl=0,Qf=0,ei=null,lt=null,Jf=0,so=1/0,jn=null,al=!1,jd=null,dr=null,aa=!1,sr=null,ll=0,ti=0,Ed=null,Ra=-1,Aa=0;function st(){return ae&6?Ae():Ra!==-1?Ra:Ra=Ae()}function fr(e){return e.mode&1?ae&2&&Ye!==0?Ye&-Ye:ZS.transition!==null?(Aa===0&&(Aa=Tv()),Aa):(e=he,e!==0||(e=window.event,e=e===void 0?16:Lv(e.type)),e):1}function Qt(e,t,n,r){if(50<ti)throw ti=0,Ed=null,Error(M(185));Ti(e,n,r),(!(ae&2)||e!==He)&&(e===He&&(!(ae&2)&&(zl|=n),Fe===4&&tr(e,Ye)),mt(e,r),n===1&&ae===0&&!(t.mode&1)&&(so=Ae()+500,Fl&&kr()))}function mt(e,t){var n=e.callbackNode;Z1(e,t);var r=Va(e,e===He?Ye:0);if(r===0)n!==null&&jm(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&jm(n),t===1)e.tag===0?JS(xp.bind(null,e)):ny(xp.bind(null,e)),GS(function(){!(ae&6)&&kr()}),n=null;else{switch(Rv(r)){case 1:n=kf;break;case 4:n=Ev;break;case 16:n=Ha;break;case 536870912:n=Pv;break;default:n=Ha}n=e0(n,qy.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function qy(e,t){if(Ra=-1,Aa=0,ae&6)throw Error(M(327));var n=e.callbackNode;if(Ys()&&e.callbackNode!==n)return null;var r=Va(e,e===He?Ye:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=cl(e,r);else{t=r;var s=ae;ae|=2;var o=Ky();(He!==e||Ye!==t)&&(jn=null,so=Ae()+500,Vr(e,t));do try{xk();break}catch(a){Gy(e,a)}while(!0);Lf(),il.current=o,ae=s,Me!==null?t=0:(He=null,Ye=0,t=Fe)}if(t!==0){if(t===2&&(s=td(e),s!==0&&(r=s,t=Pd(e,s))),t===1)throw n=_i,Vr(e,0),tr(e,r),mt(e,Ae()),n;if(t===6)tr(e,r);else{if(s=e.current.alternate,!(r&30)&&!vk(s)&&(t=cl(e,r),t===2&&(o=td(e),o!==0&&(r=o,t=Pd(e,o))),t===1))throw n=_i,Vr(e,0),tr(e,r),mt(e,Ae()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(M(345));case 2:$r(e,lt,jn);break;case 3:if(tr(e,r),(r&130023424)===r&&(t=Jf+500-Ae(),10<t)){if(Va(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){st(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=cd($r.bind(null,e,lt,jn),t);break}$r(e,lt,jn);break;case 4:if(tr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var i=31-Xt(r);o=1<<i,i=t[i],i>s&&(s=i),r&=~o}if(r=s,r=Ae()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*gk(r/1960))-r,10<r){e.timeoutHandle=cd($r.bind(null,e,lt,jn),r);break}$r(e,lt,jn);break;case 5:$r(e,lt,jn);break;default:throw Error(M(329))}}}return mt(e,Ae()),e.callbackNode===n?qy.bind(null,e):null}function Pd(e,t){var n=ei;return e.current.memoizedState.isDehydrated&&(Vr(e,t).flags|=256),e=cl(e,t),e!==2&&(t=lt,lt=n,t!==null&&Td(t)),e}function Td(e){lt===null?lt=e:lt.push.apply(lt,e)}function vk(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!Zt(o(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function tr(e,t){for(t&=~Qf,t&=~zl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Xt(t),r=1<<n;e[n]=-1,t&=~r}}function xp(e){if(ae&6)throw Error(M(327));Ys();var t=Va(e,0);if(!(t&1))return mt(e,Ae()),null;var n=cl(e,t);if(e.tag!==0&&n===2){var r=td(e);r!==0&&(t=r,n=Pd(e,r))}if(n===1)throw n=_i,Vr(e,0),tr(e,t),mt(e,Ae()),n;if(n===6)throw Error(M(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,$r(e,lt,jn),mt(e,Ae()),null}function Zf(e,t){var n=ae;ae|=1;try{return e(t)}finally{ae=n,ae===0&&(so=Ae()+500,Fl&&kr())}}function Zr(e){sr!==null&&sr.tag===0&&!(ae&6)&&Ys();var t=ae;ae|=1;var n=At.transition,r=he;try{if(At.transition=null,he=1,e)return e()}finally{he=r,At.transition=n,ae=t,!(ae&6)&&kr()}}function eh(){yt=Fs.current,Se(Fs)}function Vr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,qS(n)),Me!==null)for(n=Me.return;n!==null;){var r=n;switch(Of(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Xa();break;case 3:no(),Se(ft),Se(et),zf();break;case 5:Wf(r);break;case 4:no();break;case 13:Se(Ce);break;case 19:Se(Ce);break;case 10:$f(r.type._context);break;case 22:case 23:eh()}n=n.return}if(He=e,Me=e=hr(e.current,null),Ye=yt=t,Fe=0,_i=null,Qf=zl=Jr=0,lt=ei=null,zr!==null){for(t=0;t<zr.length;t++)if(n=zr[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var i=o.next;o.next=s,r.next=i}n.pending=r}zr=null}return e}function Gy(e,t){do{var n=Me;try{if(Lf(),Ea.current=ol,sl){for(var r=Ee.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}sl=!1}if(Qr=0,ze=$e=Ee=null,Jo=!1,xi=0,Xf.current=null,n===null||n.return===null){Fe=1,_i=t,Me=null;break}e:{var o=e,i=n.return,a=n,c=t;if(t=Ye,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=ip(i);if(m!==null){m.flags&=-257,ap(m,i,a,o,t),m.mode&1&&op(o,u,t),t=m,c=u;var w=t.updateQueue;if(w===null){var y=new Set;y.add(c),t.updateQueue=y}else w.add(c);break e}else{if(!(t&1)){op(o,u,t),th();break e}c=Error(M(426))}}else if(Ne&&a.mode&1){var b=ip(i);if(b!==null){!(b.flags&65536)&&(b.flags|=256),ap(b,i,a,o,t),Mf(ro(c,a));break e}}o=c=ro(c,a),Fe!==4&&(Fe=2),ei===null?ei=[o]:ei.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var x=Ry(o,c,t);Zm(o,x);break e;case 1:a=c;var h=o.type,v=o.stateNode;if(!(o.flags&128)&&(typeof h.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(dr===null||!dr.has(v)))){o.flags|=65536,t&=-t,o.lanes|=t;var _=Ay(o,a,t);Zm(o,_);break e}}o=o.return}while(o!==null)}Qy(n)}catch(S){t=S,Me===n&&n!==null&&(Me=n=n.return);continue}break}while(!0)}function Ky(){var e=il.current;return il.current=ol,e===null?ol:e}function th(){(Fe===0||Fe===3||Fe===2)&&(Fe=4),He===null||!(Jr&268435455)&&!(zl&268435455)||tr(He,Ye)}function cl(e,t){var n=ae;ae|=2;var r=Ky();(He!==e||Ye!==t)&&(jn=null,Vr(e,t));do try{yk();break}catch(s){Gy(e,s)}while(!0);if(Lf(),ae=n,il.current=r,Me!==null)throw Error(M(261));return He=null,Ye=0,Fe}function yk(){for(;Me!==null;)Xy(Me)}function xk(){for(;Me!==null&&!H1();)Xy(Me)}function Xy(e){var t=Zy(e.alternate,e,yt);e.memoizedProps=e.pendingProps,t===null?Qy(e):Me=t,Xf.current=null}function Qy(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=fk(n,t),n!==null){n.flags&=32767,Me=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Fe=6,Me=null;return}}else if(n=dk(n,t,yt),n!==null){Me=n;return}if(t=t.sibling,t!==null){Me=t;return}Me=t=e}while(t!==null);Fe===0&&(Fe=5)}function $r(e,t,n){var r=he,s=At.transition;try{At.transition=null,he=1,wk(e,t,n,r)}finally{At.transition=s,he=r}return null}function wk(e,t,n,r){do Ys();while(sr!==null);if(ae&6)throw Error(M(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(M(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(eS(e,o),e===He&&(Me=He=null,Ye=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||aa||(aa=!0,e0(Ha,function(){return Ys(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=At.transition,At.transition=null;var i=he;he=1;var a=ae;ae|=4,Xf.current=null,mk(e,n),Vy(n,e),BS(ad),Ya=!!id,ad=id=null,e.current=n,pk(n),V1(),ae=a,he=i,At.transition=o}else e.current=n;if(aa&&(aa=!1,sr=e,ll=s),o=e.pendingLanes,o===0&&(dr=null),G1(n.stateNode),mt(e,Ae()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(al)throw al=!1,e=jd,jd=null,e;return ll&1&&e.tag!==0&&Ys(),o=e.pendingLanes,o&1?e===Ed?ti++:(ti=0,Ed=e):ti=0,kr(),null}function Ys(){if(sr!==null){var e=Rv(ll),t=At.transition,n=he;try{if(At.transition=null,he=16>e?16:e,sr===null)var r=!1;else{if(e=sr,sr=null,ll=0,ae&6)throw Error(M(331));var s=ae;for(ae|=4,W=e.current;W!==null;){var o=W,i=o.child;if(W.flags&16){var a=o.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(W=u;W!==null;){var d=W;switch(d.tag){case 0:case 11:case 15:Zo(8,d,o)}var f=d.child;if(f!==null)f.return=d,W=f;else for(;W!==null;){d=W;var p=d.sibling,m=d.return;if(Wy(d),d===u){W=null;break}if(p!==null){p.return=m,W=p;break}W=m}}}var w=o.alternate;if(w!==null){var y=w.child;if(y!==null){w.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}W=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,W=i;else e:for(;W!==null;){if(o=W,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Zo(9,o,o.return)}var x=o.sibling;if(x!==null){x.return=o.return,W=x;break e}W=o.return}}var h=e.current;for(W=h;W!==null;){i=W;var v=i.child;if(i.subtreeFlags&2064&&v!==null)v.return=i,W=v;else e:for(i=h;W!==null;){if(a=W,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Wl(9,a)}}catch(S){Re(a,a.return,S)}if(a===i){W=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,W=_;break e}W=a.return}}if(ae=s,kr(),pn&&typeof pn.onPostCommitFiberRoot=="function")try{pn.onPostCommitFiberRoot(Ol,e)}catch{}r=!0}return r}finally{he=n,At.transition=t}}return!1}function wp(e,t,n){t=ro(n,t),t=Ry(e,t,1),e=ur(e,t,1),t=st(),e!==null&&(Ti(e,1,t),mt(e,t))}function Re(e,t,n){if(e.tag===3)wp(e,e,n);else for(;t!==null;){if(t.tag===3){wp(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(dr===null||!dr.has(r))){e=ro(n,e),e=Ay(t,e,1),t=ur(t,e,1),e=st(),t!==null&&(Ti(t,1,e),mt(t,e));break}}t=t.return}}function bk(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=st(),e.pingedLanes|=e.suspendedLanes&n,He===e&&(Ye&n)===n&&(Fe===4||Fe===3&&(Ye&130023424)===Ye&&500>Ae()-Jf?Vr(e,0):Qf|=n),mt(e,t)}function Jy(e,t){t===0&&(e.mode&1?(t=Qi,Qi<<=1,!(Qi&130023424)&&(Qi=4194304)):t=1);var n=st();e=Mn(e,t),e!==null&&(Ti(e,t,n),mt(e,n))}function _k(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Jy(e,n)}function Sk(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(M(314))}r!==null&&r.delete(t),Jy(e,n)}var Zy;Zy=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ft.current)ut=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ut=!1,uk(e,t,n);ut=!!(e.flags&131072)}else ut=!1,Ne&&t.flags&1048576&&ry(t,Za,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ta(e,t),e=t.pendingProps;var s=Zs(t,et.current);Vs(t,n),s=Vf(null,t,r,e,s,n);var o=Yf();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ht(r)?(o=!0,Qa(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Bf(t),s.updater=Ul,t.stateNode=s,s._reactInternals=t,gd(t,r,e,n),t=xd(null,t,r,!0,o,n)):(t.tag=0,Ne&&o&&If(t),nt(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ta(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Nk(r),e=Ht(r,e),s){case 0:t=yd(null,t,r,e,n);break e;case 1:t=up(null,t,r,e,n);break e;case 11:t=lp(null,t,r,e,n);break e;case 14:t=cp(null,t,r,Ht(r.type,e),n);break e}throw Error(M(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ht(r,s),yd(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ht(r,s),up(e,t,r,s,n);case 3:e:{if(Dy(t),e===null)throw Error(M(387));r=t.pendingProps,o=t.memoizedState,s=o.element,cy(e,t),nl(t,r,null,n);var i=t.memoizedState;if(r=i.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=ro(Error(M(423)),t),t=dp(e,t,r,n,s);break e}else if(r!==s){s=ro(Error(M(424)),t),t=dp(e,t,r,n,s);break e}else for(wt=cr(t.stateNode.containerInfo.firstChild),bt=t,Ne=!0,qt=null,n=ay(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(eo(),r===s){t=Dn(e,t,n);break e}nt(e,t,r,n)}t=t.child}return t;case 5:return uy(t),e===null&&hd(t),r=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,i=s.children,ld(r,s)?i=null:o!==null&&ld(r,o)&&(t.flags|=32),My(e,t),nt(e,t,i,n),t.child;case 6:return e===null&&hd(t),null;case 13:return Ly(e,t,n);case 4:return Uf(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=to(t,null,r,n):nt(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ht(r,s),lp(e,t,r,s,n);case 7:return nt(e,t,t.pendingProps,n),t.child;case 8:return nt(e,t,t.pendingProps.children,n),t.child;case 12:return nt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,o=t.memoizedProps,i=s.value,ye(el,r._currentValue),r._currentValue=i,o!==null)if(Zt(o.value,i)){if(o.children===s.children&&!ft.current){t=Dn(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){i=o.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=An(-1,n&-n),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),md(o.return,n,t),a.lanes|=n;break}c=c.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(M(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),md(i,n,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}nt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Vs(t,n),s=Ot(s),r=r(s),t.flags|=1,nt(e,t,r,n),t.child;case 14:return r=t.type,s=Ht(r,t.pendingProps),s=Ht(r.type,s),cp(e,t,r,s,n);case 15:return Iy(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ht(r,s),Ta(e,t),t.tag=1,ht(r)?(e=!0,Qa(t)):e=!1,Vs(t,n),Ty(t,r,s),gd(t,r,s,n),xd(null,t,r,!0,e,n);case 19:return $y(e,t,n);case 22:return Oy(e,t,n)}throw Error(M(156,t.tag))};function e0(e,t){return jv(e,t)}function kk(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rt(e,t,n,r){return new kk(e,t,n,r)}function nh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Nk(e){if(typeof e=="function")return nh(e)?1:0;if(e!=null){if(e=e.$$typeof,e===bf)return 11;if(e===_f)return 14}return 2}function hr(e,t){var n=e.alternate;return n===null?(n=Rt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ia(e,t,n,r,s,o){var i=2;if(r=e,typeof e=="function")nh(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Ps:return Yr(n.children,s,o,t);case wf:i=8,s|=8;break;case Bu:return e=Rt(12,n,t,s|2),e.elementType=Bu,e.lanes=o,e;case Uu:return e=Rt(13,n,t,s),e.elementType=Uu,e.lanes=o,e;case Wu:return e=Rt(19,n,t,s),e.elementType=Wu,e.lanes=o,e;case uv:return Hl(n,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case lv:i=10;break e;case cv:i=9;break e;case bf:i=11;break e;case _f:i=14;break e;case Jn:i=16,r=null;break e}throw Error(M(130,e==null?e:typeof e,""))}return t=Rt(i,n,t,s),t.elementType=e,t.type=r,t.lanes=o,t}function Yr(e,t,n,r){return e=Rt(7,e,r,t),e.lanes=n,e}function Hl(e,t,n,r){return e=Rt(22,e,r,t),e.elementType=uv,e.lanes=n,e.stateNode={isHidden:!1},e}function iu(e,t,n){return e=Rt(6,e,null,t),e.lanes=n,e}function au(e,t,n){return t=Rt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ck(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Uc(0),this.expirationTimes=Uc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Uc(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function rh(e,t,n,r,s,o,i,a,c){return e=new Ck(e,t,n,a,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Rt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bf(o),e}function jk(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Es,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function t0(e){if(!e)return gr;e=e._reactInternals;e:{if(as(e)!==e||e.tag!==1)throw Error(M(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ht(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(M(171))}if(e.tag===1){var n=e.type;if(ht(n))return ty(e,n,t)}return t}function n0(e,t,n,r,s,o,i,a,c){return e=rh(n,r,!0,e,s,o,i,a,c),e.context=t0(null),n=e.current,r=st(),s=fr(n),o=An(r,s),o.callback=t??null,ur(n,o,s),e.current.lanes=s,Ti(e,s,r),mt(e,r),e}function Vl(e,t,n,r){var s=t.current,o=st(),i=fr(s);return n=t0(n),t.context===null?t.context=n:t.pendingContext=n,t=An(o,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ur(s,t,i),e!==null&&(Qt(e,s,i,o),ja(e,s,i)),i}function ul(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function bp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function sh(e,t){bp(e,t),(e=e.alternate)&&bp(e,t)}function Ek(){return null}var r0=typeof reportError=="function"?reportError:function(e){console.error(e)};function oh(e){this._internalRoot=e}Yl.prototype.render=oh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(M(409));Vl(e,t,null,null)};Yl.prototype.unmount=oh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Zr(function(){Vl(null,e,null,null)}),t[On]=null}};function Yl(e){this._internalRoot=e}Yl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ov();e={blockedOn:null,target:e,priority:t};for(var n=0;n<er.length&&t!==0&&t<er[n].priority;n++);er.splice(n,0,e),n===0&&Dv(e)}};function ih(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ql(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function _p(){}function Pk(e,t,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var u=ul(i);o.call(u)}}var i=n0(t,r,e,0,null,!1,!1,"",_p);return e._reactRootContainer=i,e[On]=i.current,mi(e.nodeType===8?e.parentNode:e),Zr(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=ul(c);a.call(u)}}var c=rh(e,0,!1,null,null,!1,!1,"",_p);return e._reactRootContainer=c,e[On]=c.current,mi(e.nodeType===8?e.parentNode:e),Zr(function(){Vl(t,c,n,r)}),c}function Gl(e,t,n,r,s){var o=n._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var a=s;s=function(){var c=ul(i);a.call(c)}}Vl(t,i,e,s)}else i=Pk(n,t,e,s,r);return ul(i)}Av=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=zo(t.pendingLanes);n!==0&&(Nf(t,n|1),mt(t,Ae()),!(ae&6)&&(so=Ae()+500,kr()))}break;case 13:Zr(function(){var r=Mn(e,1);if(r!==null){var s=st();Qt(r,e,1,s)}}),sh(e,1)}};Cf=function(e){if(e.tag===13){var t=Mn(e,134217728);if(t!==null){var n=st();Qt(t,e,134217728,n)}sh(e,134217728)}};Iv=function(e){if(e.tag===13){var t=fr(e),n=Mn(e,t);if(n!==null){var r=st();Qt(n,e,t,r)}sh(e,t)}};Ov=function(){return he};Mv=function(e,t){var n=he;try{return he=e,t()}finally{he=n}};Ju=function(e,t,n){switch(t){case"input":if(Vu(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=$l(r);if(!s)throw Error(M(90));fv(r),Vu(r,s)}}}break;case"textarea":mv(e,n);break;case"select":t=n.value,t!=null&&Us(e,!!n.multiple,t,!1)}};bv=Zf;_v=Zr;var Tk={usingClientEntryPoint:!1,Events:[Ai,Is,$l,xv,wv,Zf]},Mo={findFiberByHostInstance:Wr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Rk={bundleType:Mo.bundleType,version:Mo.version,rendererPackageName:Mo.rendererPackageName,rendererConfig:Mo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Bn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Nv(e),e===null?null:e.stateNode},findFiberByHostInstance:Mo.findFiberByHostInstance||Ek,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var la=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!la.isDisabled&&la.supportsFiber)try{Ol=la.inject(Rk),pn=la}catch{}}kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Tk;kt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ih(t))throw Error(M(200));return jk(e,t,null,n)};kt.createRoot=function(e,t){if(!ih(e))throw Error(M(299));var n=!1,r="",s=r0;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=rh(e,1,!1,null,null,n,!1,r,s),e[On]=t.current,mi(e.nodeType===8?e.parentNode:e),new oh(t)};kt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(M(188)):(e=Object.keys(e).join(","),Error(M(268,e)));return e=Nv(t),e=e===null?null:e.stateNode,e};kt.flushSync=function(e){return Zr(e)};kt.hydrate=function(e,t,n){if(!ql(t))throw Error(M(200));return Gl(null,e,t,!0,n)};kt.hydrateRoot=function(e,t,n){if(!ih(e))throw Error(M(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",i=r0;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=n0(t,null,e,1,n??null,s,!1,o,i),e[On]=t.current,mi(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Yl(t)};kt.render=function(e,t,n){if(!ql(t))throw Error(M(200));return Gl(null,e,t,!1,n)};kt.unmountComponentAtNode=function(e){if(!ql(e))throw Error(M(40));return e._reactRootContainer?(Zr(function(){Gl(null,null,e,!1,function(){e._reactRootContainer=null,e[On]=null})}),!0):!1};kt.unstable_batchedUpdates=Zf;kt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ql(n))throw Error(M(200));if(e==null||e._reactInternals===void 0)throw Error(M(38));return Gl(e,t,n,!1,r)};kt.version="18.3.1-next-f1338f8080-20240426";function s0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s0)}catch(e){console.error(e)}}s0(),sv.exports=kt;var yo=sv.exports;const o0=Yg(yo);var i0,Sp=yo;i0=Sp.createRoot,Sp.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Si(){return Si=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Si.apply(this,arguments)}var or;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(or||(or={}));const kp="popstate";function Ak(e){e===void 0&&(e={});function t(s,o){let{pathname:i="/",search:a="",hash:c=""}=ls(s.location.hash.substr(1));return!i.startsWith("/")&&!i.startsWith(".")&&(i="/"+i),Rd("",{pathname:i,search:a,hash:c},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){let i=s.document.querySelector("base"),a="";if(i&&i.getAttribute("href")){let c=s.location.href,u=c.indexOf("#");a=u===-1?c:c.slice(0,u)}return a+"#"+(typeof o=="string"?o:a0(o))}function r(s,o){ah(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return Ok(t,n,r,e)}function Ue(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ah(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Ik(){return Math.random().toString(36).substr(2,8)}function Np(e,t){return{usr:e.state,key:e.key,idx:t}}function Rd(e,t,n,r){return n===void 0&&(n=null),Si({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ls(t):t,{state:n,key:t&&t.key||r||Ik()})}function a0(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function ls(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Ok(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:o=!1}=r,i=s.history,a=or.Pop,c=null,u=d();u==null&&(u=0,i.replaceState(Si({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function f(){a=or.Pop;let b=d(),x=b==null?null:b-u;u=b,c&&c({action:a,location:y.location,delta:x})}function p(b,x){a=or.Push;let h=Rd(y.location,b,x);n&&n(h,b),u=d()+1;let v=Np(h,u),_=y.createHref(h);try{i.pushState(v,"",_)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(_)}o&&c&&c({action:a,location:y.location,delta:1})}function m(b,x){a=or.Replace;let h=Rd(y.location,b,x);n&&n(h,b),u=d();let v=Np(h,u),_=y.createHref(h);i.replaceState(v,"",_),o&&c&&c({action:a,location:y.location,delta:0})}function w(b){let x=s.location.origin!=="null"?s.location.origin:s.location.href,h=typeof b=="string"?b:a0(b);return h=h.replace(/ $/,"%20"),Ue(x,"No window.location.(origin|href) available to create URL for href: "+h),new URL(h,x)}let y={get action(){return a},get location(){return e(s,i)},listen(b){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(kp,f),c=b,()=>{s.removeEventListener(kp,f),c=null}},createHref(b){return t(s,b)},createURL:w,encodeLocation(b){let x=w(b);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:p,replace:m,go(b){return i.go(b)}};return y}var Cp;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Cp||(Cp={}));function Mk(e,t,n){return n===void 0&&(n="/"),Dk(e,t,n,!1)}function Dk(e,t,n,r){let s=typeof t=="string"?ls(t):t,o=u0(s.pathname||"/",n);if(o==null)return null;let i=l0(e);Lk(i);let a=null;for(let c=0;a==null&&c<i.length;++c){let u=Gk(o);a=Yk(i[c],u,r)}return a}function l0(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(o,i,a)=>{let c={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};c.relativePath.startsWith("/")&&(Ue(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=qr([r,c.relativePath]),d=n.concat(c);o.children&&o.children.length>0&&(Ue(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),l0(o.children,t,d,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:Hk(u,o.index),routesMeta:d})};return e.forEach((o,i)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))s(o,i);else for(let c of c0(o.path))s(o,i,c)}),t}function c0(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let i=c0(r.join("/")),a=[];return a.push(...i.map(c=>c===""?o:[o,c].join("/"))),s&&a.push(...i),a.map(c=>e.startsWith("/")&&c===""?"/":c)}function Lk(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Vk(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const $k=/^:[\w-]+$/,Fk=3,Bk=2,Uk=1,Wk=10,zk=-2,jp=e=>e==="*";function Hk(e,t){let n=e.split("/"),r=n.length;return n.some(jp)&&(r+=zk),t&&(r+=Bk),n.filter(s=>!jp(s)).reduce((s,o)=>s+($k.test(o)?Fk:o===""?Uk:Wk),r)}function Vk(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function Yk(e,t,n){let{routesMeta:r}=e,s={},o="/",i=[];for(let a=0;a<r.length;++a){let c=r[a],u=a===r.length-1,d=o==="/"?t:t.slice(o.length)||"/",f=Ep({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),p=c.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=Ep({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),i.push({params:s,pathname:qr([o,f.pathname]),pathnameBase:eN(qr([o,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(o=qr([o,f.pathnameBase]))}return i}function Ep(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=qk(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:p,isOptional:m}=d;if(p==="*"){let y=a[f]||"";i=o.slice(0,o.length-y.length).replace(/(.)\/+$/,"$1")}const w=a[f];return m&&!w?u[p]=void 0:u[p]=(w||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:i,pattern:e}}function qk(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),ah(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function Gk(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ah(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function u0(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Kk(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?ls(e):e;return{pathname:n?n.startsWith("/")?n:Xk(n,t):t,search:tN(r),hash:nN(s)}}function Xk(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function lu(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Qk(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Jk(e,t){let n=Qk(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Zk(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=ls(e):(s=Si({},e),Ue(!s.pathname||!s.pathname.includes("?"),lu("?","pathname","search",s)),Ue(!s.pathname||!s.pathname.includes("#"),lu("#","pathname","hash",s)),Ue(!s.search||!s.search.includes("#"),lu("#","search","hash",s)));let o=e===""||s.pathname==="",i=o?"/":s.pathname,a;if(i==null)a=n;else{let f=t.length-1;if(!r&&i.startsWith("..")){let p=i.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}a=f>=0?t[f]:"/"}let c=Kk(s,a),u=i&&i!=="/"&&i.endsWith("/"),d=(o||i===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const qr=e=>e.join("/").replace(/\/\/+/g,"/"),eN=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),tN=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,nN=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function rN(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const d0=["post","put","patch","delete"];new Set(d0);const sN=["get",...d0];new Set(sN);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ki(){return ki=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ki.apply(this,arguments)}const lh=g.createContext(null),oN=g.createContext(null),Kl=g.createContext(null),Xl=g.createContext(null),cs=g.createContext({outlet:null,matches:[],isDataRoute:!1}),f0=g.createContext(null);function Ql(){return g.useContext(Xl)!=null}function h0(){return Ql()||Ue(!1),g.useContext(Xl).location}function m0(e){g.useContext(Kl).static||g.useLayoutEffect(e)}function ch(){let{isDataRoute:e}=g.useContext(cs);return e?xN():iN()}function iN(){Ql()||Ue(!1);let e=g.useContext(lh),{basename:t,future:n,navigator:r}=g.useContext(Kl),{matches:s}=g.useContext(cs),{pathname:o}=h0(),i=JSON.stringify(Jk(s,n.v7_relativeSplatPath)),a=g.useRef(!1);return m0(()=>{a.current=!0}),g.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let f=Zk(u,JSON.parse(i),o,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:qr([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,i,o,e])}function aN(){let{matches:e}=g.useContext(cs),t=e[e.length-1];return t?t.params:{}}function lN(e,t){return cN(e,t)}function cN(e,t,n,r){Ql()||Ue(!1);let{navigator:s}=g.useContext(Kl),{matches:o}=g.useContext(cs),i=o[o.length-1],a=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=h0(),d;if(t){var f;let b=typeof t=="string"?ls(t):t;c==="/"||(f=b.pathname)!=null&&f.startsWith(c)||Ue(!1),d=b}else d=u;let p=d.pathname||"/",m=p;if(c!=="/"){let b=c.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(b.length).join("/")}let w=Mk(e,{pathname:m}),y=mN(w&&w.map(b=>Object.assign({},b,{params:Object.assign({},a,b.params),pathname:qr([c,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:qr([c,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),o,n,r);return t&&y?g.createElement(Xl.Provider,{value:{location:ki({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:or.Pop}},y):y}function uN(){let e=yN(),t=rN(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},t),n?g.createElement("pre",{style:s},n):null,null)}const dN=g.createElement(uN,null);class fN extends g.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?g.createElement(cs.Provider,{value:this.props.routeContext},g.createElement(f0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function hN(e){let{routeContext:t,match:n,children:r}=e,s=g.useContext(lh);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),g.createElement(cs.Provider,{value:t},r)}function mN(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=i.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||Ue(!1),i=i.slice(0,Math.min(i.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:p,errors:m}=n,w=f.route.loader&&p[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||w){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,f,p)=>{let m,w=!1,y=null,b=null;n&&(m=a&&f.route.id?a[f.route.id]:void 0,y=f.route.errorElement||dN,c&&(u<0&&p===0?(w=!0,b=null):u===p&&(w=!0,b=f.route.hydrateFallbackElement||null)));let x=t.concat(i.slice(0,p+1)),h=()=>{let v;return m?v=y:w?v=b:f.route.Component?v=g.createElement(f.route.Component,null):f.route.element?v=f.route.element:v=d,g.createElement(hN,{match:f,routeContext:{outlet:d,matches:x,isDataRoute:n!=null},children:v})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?g.createElement(fN,{location:n.location,revalidation:n.revalidation,component:y,error:m,children:h(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):h()},null)}var p0=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(p0||{}),dl=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(dl||{});function pN(e){let t=g.useContext(lh);return t||Ue(!1),t}function gN(e){let t=g.useContext(oN);return t||Ue(!1),t}function vN(e){let t=g.useContext(cs);return t||Ue(!1),t}function g0(e){let t=vN(),n=t.matches[t.matches.length-1];return n.route.id||Ue(!1),n.route.id}function yN(){var e;let t=g.useContext(f0),n=gN(dl.UseRouteError),r=g0(dl.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function xN(){let{router:e}=pN(p0.UseNavigateStable),t=g0(dl.UseNavigateStable),n=g.useRef(!1);return m0(()=>{n.current=!0}),g.useCallback(function(s,o){o===void 0&&(o={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,ki({fromRouteId:t},o)))},[e,t])}function wN(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function v0(e){Ue(!1)}function bN(e){let{basename:t="/",children:n=null,location:r,navigationType:s=or.Pop,navigator:o,static:i=!1,future:a}=e;Ql()&&Ue(!1);let c=t.replace(/^\/*/,"/"),u=g.useMemo(()=>({basename:c,navigator:o,static:i,future:ki({v7_relativeSplatPath:!1},a)}),[c,a,o,i]);typeof r=="string"&&(r=ls(r));let{pathname:d="/",search:f="",hash:p="",state:m=null,key:w="default"}=r,y=g.useMemo(()=>{let b=u0(d,c);return b==null?null:{location:{pathname:b,search:f,hash:p,state:m,key:w},navigationType:s}},[c,d,f,p,m,w,s]);return y==null?null:g.createElement(Kl.Provider,{value:u},g.createElement(Xl.Provider,{children:n,value:y}))}function _N(e){let{children:t,location:n}=e;return lN(Ad(t),n)}new Promise(()=>{});function Ad(e,t){t===void 0&&(t=[]);let n=[];return g.Children.forEach(e,(r,s)=>{if(!g.isValidElement(r))return;let o=[...t,s];if(r.type===g.Fragment){n.push.apply(n,Ad(r.props.children,o));return}r.type!==v0&&Ue(!1),!r.props.index||!r.props.children||Ue(!1);let i={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=Ad(r.props.children,o)),n.push(i)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const SN="6";try{window.__reactRouterVersion=SN}catch{}const kN="startTransition",Pp=gf[kN];function NN(e){let{basename:t,children:n,future:r,window:s}=e,o=g.useRef();o.current==null&&(o.current=Ak({window:s,v5Compat:!0}));let i=o.current,[a,c]=g.useState({action:i.action,location:i.location}),{v7_startTransition:u}=r||{},d=g.useCallback(f=>{u&&Pp?Pp(()=>c(f)):c(f)},[c,u]);return g.useLayoutEffect(()=>i.listen(d),[i,d]),g.useEffect(()=>wN(r),[r]),g.createElement(bN,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:i,future:r})}var Tp;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Tp||(Tp={}));var Rp;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Rp||(Rp={}));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),y0=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var jN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=g.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:i,...a},c)=>g.createElement("svg",{ref:c,...jN,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:y0("lucide",s),...a},[...i.map(([u,d])=>g.createElement(u,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=(e,t)=>{const n=g.forwardRef(({className:r,...s},o)=>g.createElement(EN,{ref:o,iconNode:t,className:y0(`lucide-${CN(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PN=ee("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TN=ee("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=ee("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x0=ee("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uh=ee("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fl=ee("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AN=ee("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=ee("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Id=ee("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vr=ee("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oo=ee("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cu=ee("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ON=ee("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=ee("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ap=ee("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w0=ee("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=ee("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=ee("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Od=ee("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b0=ee("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hl=ee("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DN=ee("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Md=ee("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LN=ee("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $N=ee("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ip=ee("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Op=ee("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=ee("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=ee("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gr=ee("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BN=ee("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UN=ee("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=ee("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pl=ee("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=ee("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ni=ee("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dd=ee("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _0=ee("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),HN="modulepreload",VN=function(e){return"/scribe-nurse-helper/"+e},Mp={},Oi=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),a=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=VN(c),c in Mp)return;Mp[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":HN,u||(f.as="script"),f.crossOrigin="",f.href=c,a&&f.setAttribute("nonce",a),document.head.appendChild(f),u)return new Promise((p,m)=>{f.addEventListener("load",p),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return s.then(i=>{for(const a of i||[])a.status==="rejected"&&o(a.reason);return t().catch(o)})},YN=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Oi(async()=>{const{default:r}=await Promise.resolve().then(()=>xo);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class dh extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class qN extends dh{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Dp extends dh{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Lp extends dh{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Ld;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Ld||(Ld={}));var GN=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(a,c)}u((r=r.apply(e,t||[])).next())})};class KN{constructor(t,{headers:n={},customFetch:r,region:s=Ld.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=YN(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return GN(this,void 0,void 0,function*(){try{const{headers:s,method:o,body:i}=n;let a={},{region:c}=n;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(a["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;i&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",d=i):typeof i=="string"?(a["Content-Type"]="text/plain",d=i):typeof FormData<"u"&&i instanceof FormData?d=i:(a["Content-Type"]="application/json",d=JSON.stringify(i)));const f=yield this.fetch(u.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:d}).catch(y=>{throw new qN(y)}),p=f.headers.get("x-relay-error");if(p&&p==="true")throw new Dp(f);if(!f.ok)throw new Lp(f);let m=((r=f.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),w;return m==="application/json"?w=yield f.json():m==="application/octet-stream"?w=yield f.blob():m==="text/event-stream"?w=f:m==="multipart/form-data"?w=yield f.formData():w=yield f.text(),{data:w,error:null,response:f}}catch(s){return{data:null,error:s,response:s instanceof Lp||s instanceof Dp?s.context:void 0}}})}}var ct={},fh={},Jl={},Mi={},Zl={},ec={},XN=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},io=XN();const QN=io.fetch,S0=io.fetch.bind(io),k0=io.Headers,JN=io.Request,ZN=io.Response,xo=Object.freeze(Object.defineProperty({__proto__:null,Headers:k0,Request:JN,Response:ZN,default:S0,fetch:QN},Symbol.toStringTag,{value:"Module"})),eC=i1(xo);var tc={};Object.defineProperty(tc,"__esModule",{value:!0});let tC=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};tc.default=tC;var N0=It&&It.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ec,"__esModule",{value:!0});const nC=N0(eC),rC=N0(tc);let sC=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=nC.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var i,a,c;let u=null,d=null,f=null,p=o.status,m=o.statusText;if(o.ok){if(this.method!=="HEAD"){const x=await o.text();x===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=x:d=JSON.parse(x))}const y=(i=this.headers.Prefer)===null||i===void 0?void 0:i.match(/count=(exact|planned|estimated)/),b=(a=o.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");y&&b&&b.length>1&&(f=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,p=406,m="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const y=await o.text();try{u=JSON.parse(y),Array.isArray(u)&&o.status===404&&(d=[],u=null,p=200,m="OK")}catch{o.status===404&&y===""?(p=204,m="No Content"):u={message:y}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,p=200,m="OK"),u&&this.shouldThrowOnError)throw new rC.default(u)}return{error:u,data:d,count:f,status:p,statusText:m}});return this.shouldThrowOnError||(s=s.catch(o=>{var i,a,c;return{error:{message:`${(i=o==null?void 0:o.name)!==null&&i!==void 0?i:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(a=o==null?void 0:o.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(c=o==null?void 0:o.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}returns(){return this}overrideTypes(){return this}};ec.default=sC;var oC=It&&It.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Zl,"__esModule",{value:!0});const iC=oC(ec);let aC=class extends iC.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:o=s}={}){const i=o?`${o}.order`:"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${a?`${a},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const o=typeof s>"u"?"offset":`${s}.offset`,i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(i,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:o=!1,format:i="text"}={}){var a;const c=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${u}"; options=${c};`,i==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Zl.default=aC;var lC=It&&It.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Mi,"__esModule",{value:!0});const cC=lC(Zl);let uC=class extends cC.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${o}fts${i}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};Mi.default=uC;var dC=It&&It.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Jl,"__esModule",{value:!0});const Do=dC(Mi);let fC=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=n,this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let o=!1;const i=(t??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",i),r&&(this.headers.Prefer=`count=${r}`),new Do.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const s="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),n&&o.push(`count=${n}`),r||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const i=t.reduce((a,c)=>a.concat(Object.keys(c)),[]);if(i.length>0){const a=[...new Set(i)].map(c=>`"${c}"`);this.url.searchParams.set("columns",a.join(","))}}return new Do.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:o=!0}={}){const i="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),o||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Do.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new Do.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Do.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Jl.default=fC;var nc={},rc={};Object.defineProperty(rc,"__esModule",{value:!0});rc.version=void 0;rc.version="0.0.0-automated";Object.defineProperty(nc,"__esModule",{value:!0});nc.DEFAULT_HEADERS=void 0;const hC=rc;nc.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${hC.version}`};var C0=It&&It.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(fh,"__esModule",{value:!0});const mC=C0(Jl),pC=C0(Mi),gC=nc;let vC=class j0{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},gC.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new mC.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new j0(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:o}={}){let i;const a=new URL(`${this.url}/rpc/${t}`);let c;r||s?(i=r?"HEAD":"GET",Object.entries(n).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{a.searchParams.append(d,f)})):(i="POST",c=n);const u=Object.assign({},this.headers);return o&&(u.Prefer=`count=${o}`),new pC.default({method:i,url:a,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};fh.default=vC;var wo=It&&It.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ct,"__esModule",{value:!0});ct.PostgrestError=ct.PostgrestBuilder=ct.PostgrestTransformBuilder=ct.PostgrestFilterBuilder=ct.PostgrestQueryBuilder=ct.PostgrestClient=void 0;const E0=wo(fh);ct.PostgrestClient=E0.default;const P0=wo(Jl);ct.PostgrestQueryBuilder=P0.default;const T0=wo(Mi);ct.PostgrestFilterBuilder=T0.default;const R0=wo(Zl);ct.PostgrestTransformBuilder=R0.default;const A0=wo(ec);ct.PostgrestBuilder=A0.default;const I0=wo(tc);ct.PostgrestError=I0.default;var yC=ct.default={PostgrestClient:E0.default,PostgrestQueryBuilder:P0.default,PostgrestFilterBuilder:T0.default,PostgrestTransformBuilder:R0.default,PostgrestBuilder:A0.default,PostgrestError:I0.default};const{PostgrestClient:xC,PostgrestQueryBuilder:y4,PostgrestFilterBuilder:x4,PostgrestTransformBuilder:w4,PostgrestBuilder:b4,PostgrestError:_4}=yC;class wC{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const n=parseInt(process.versions.node.split(".")[0]);return n>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${n} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const bC="2.15.1",_C=`realtime-js/${bC}`,SC="1.0.0",$d=1e4,kC=1e3,NC=100;var ni;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ni||(ni={}));var De;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(De||(De={}));var Yt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Yt||(Yt={}));var Fd;(function(e){e.websocket="websocket"})(Fd||(Fd={}));var Ur;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ur||(Ur={}));class CC{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),o=n.getUint8(2);let i=this.HEADER_LENGTH+2;const a=r.decode(t.slice(i,i+s));i=i+s;const c=r.decode(t.slice(i,i+o));i=i+o;const u=JSON.parse(r.decode(t.slice(i,t.byteLength)));return{ref:null,topic:a,event:c,payload:u}}}class O0{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ve;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ve||(ve={}));const $p=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((o,i)=>(o[i]=jC(i,e,t,s),o),{})},jC=(e,t,n,r)=>{const s=t.find(a=>a.name===e),o=s==null?void 0:s.type,i=n[e];return o&&!r.includes(o)?M0(o,i):Bd(i)},M0=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return RC(t,n)}switch(e){case ve.bool:return EC(t);case ve.float4:case ve.float8:case ve.int2:case ve.int4:case ve.int8:case ve.numeric:case ve.oid:return PC(t);case ve.json:case ve.jsonb:return TC(t);case ve.timestamp:return AC(t);case ve.abstime:case ve.date:case ve.daterange:case ve.int4range:case ve.int8range:case ve.money:case ve.reltime:case ve.text:case ve.time:case ve.timestamptz:case ve.timetz:case ve.tsrange:case ve.tstzrange:return Bd(t);default:return Bd(t)}},Bd=e=>e,EC=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},PC=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},TC=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},RC=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o;const i=e.slice(1,n);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(a=>M0(t,a))}return e},AC=e=>typeof e=="string"?e.replace(" ","T"):e,D0=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class uu{constructor(t,n,r={},s=$d){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Fp;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Fp||(Fp={}));class ri{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ri.syncState(this.state,s,o,i),this.pendingDiffs.forEach(c=>{this.state=ri.syncDiff(this.state,c,o,i)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=ri.syncDiff(this.state,s,o,i),a())}),this.onJoin((s,o,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:i})}),this.onLeave((s,o,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const o=this.cloneDeep(t),i=this.transformState(n),a={},c={};return this.map(o,(u,d)=>{i[u]||(c[u]=d)}),this.map(i,(u,d)=>{const f=o[u];if(f){const p=d.map(b=>b.presence_ref),m=f.map(b=>b.presence_ref),w=d.filter(b=>m.indexOf(b.presence_ref)<0),y=f.filter(b=>p.indexOf(b.presence_ref)<0);w.length>0&&(a[u]=w),y.length>0&&(c[u]=y)}else a[u]=d}),this.syncDiff(o,{joins:a,leaves:c},r,s)}static syncDiff(t,n,r,s){const{joins:o,leaves:i}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(o,(a,c)=>{var u;const d=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(c),d.length>0){const f=t[a].map(m=>m.presence_ref),p=d.filter(m=>f.indexOf(m.presence_ref)<0);t[a].unshift(...p)}r(a,d,c)}),this.map(i,(a,c)=>{let u=t[a];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[a]=u,s(a,u,c),u.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Bp;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Bp||(Bp={}));var si;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(si||(si={}));var En;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(En||(En={}));class hh{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=De.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new uu(this,Yt.join,this.params,this.timeout),this.rejoinTimer=new O0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=De.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=De.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=De.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=De.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=De.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Yt.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new ri(this),this.broadcastEndpointURL=D0(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.state==De.closed){const{config:{broadcast:o,presence:i,private:a}}=this.params,c=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(p=>p.filter))!==null&&s!==void 0?s:[],u=!!this.bindings[si.PRESENCE]&&this.bindings[si.PRESENCE].length>0,d={},f={broadcast:o,presence:Object.assign(Object.assign({},i),{enabled:u}),postgres_changes:c,private:a};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(En.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(En.CLOSED)),this.updateJoinPayload(Object.assign({config:f},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:p})=>{var m;if(this.socket.setAuth(),p===void 0){t==null||t(En.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,y=(m=w==null?void 0:w.length)!==null&&m!==void 0?m:0,b=[];for(let x=0;x<y;x++){const h=w[x],{filter:{event:v,schema:_,table:S,filter:k}}=h,N=p&&p[x];if(N&&N.event===v&&N.schema===_&&N.table===S&&N.filter===k)b.push(Object.assign(Object.assign({},h),{id:N.id}));else{this.unsubscribe(),this.state=De.errored,t==null||t(En.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(En.SUBSCRIBED);return}}).receive("error",p=>{this.state=De.errored,t==null||t(En.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(En.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===De.joined&&t===si.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:i}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,a,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(a=(i=this.params)===null||i===void 0?void 0:i.config)===null||a===void 0?void 0:a.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=De.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Yt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new uu(this,Yt.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=De.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const s=new AbortController,o=setTimeout(()=>s.abort(),r),i=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(o),i}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new uu(this,t,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>NC){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,o;const i=t.toLocaleLowerCase(),{close:a,error:c,leave:u,join:d}=Yt;if(r&&[a,c,u,d].indexOf(i)>=0&&r!==this._joinRef())return;let p=this._onMessage(i,n,r);if(n&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var w,y,b;return((w=m.filter)===null||w===void 0?void 0:w.event)==="*"||((b=(y=m.filter)===null||y===void 0?void 0:y.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===i}).map(m=>m.callback(p,r)):(o=this.bindings[i])===null||o===void 0||o.filter(m=>{var w,y,b,x,h,v;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in m){const _=m.id,S=(w=m.filter)===null||w===void 0?void 0:w.event;return _&&((y=n.ids)===null||y===void 0?void 0:y.includes(_))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const _=(h=(x=m==null?void 0:m.filter)===null||x===void 0?void 0:x.event)===null||h===void 0?void 0:h.toLocaleLowerCase();return _==="*"||_===((v=n==null?void 0:n.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===i}).map(m=>{if(typeof p=="object"&&"ids"in p){const w=p.data,{schema:y,table:b,commit_timestamp:x,type:h,errors:v}=w;p=Object.assign(Object.assign({},{schema:y,table:b,commit_timestamp:x,eventType:h,new:{},old:{},errors:v}),this._getPayloadRecords(w))}m.callback(p,r)})}_isClosed(){return this.state===De.closed}_isJoined(){return this.state===De.joined}_isJoining(){return this.state===De.joining}_isLeaving(){return this.state===De.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),o={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&hh.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Yt.close,{},t)}_onError(t){this._on(Yt.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=De.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=$p(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=$p(t.columns,t.old_record)),n}}const Up=()=>{},ca={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},IC=[1e3,2e3,5e3,1e4],OC=1e4,MC=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class DC{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=$d,this.transport=null,this.heartbeatIntervalMs=ca.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Up,this.ref=0,this.reconnectTimer=null,this.logger=Up,this.conn=null,this.sendBuffer=[],this.serializer=new CC,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...i)=>Oi(async()=>{const{default:a}=await Promise.resolve().then(()=>xo);return{default:a}},void 0).then(({default:a})=>a(...i)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):o=fetch,(...i)=>o(...i)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Fd.websocket}`,this.httpEndpoint=D0(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=wC.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:SC}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ni.connecting:return Ur.Connecting;case ni.open:return Ur.Open;case ni.closing:return Ur.Closing;default:return Ur.Closed}}isConnected(){return this.connectionState()===Ur.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(o=>o.topic===r);if(s)return s;{const o=new hh(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){const{topic:n,event:r,payload:s,ref:o}=t,i=()=>{this.encode(t,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${n} ${r} (${o})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(kC,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},ca.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{n.topic==="phoenix"&&n.event==="phx_reply"&&this.heartbeatCallback(n.payload.status==="ok"?"ok":"error"),n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:o,ref:i}=n,a=i?`(${i})`:"",c=o.status||"";this.log("receive",`${c} ${r} ${s} ${a}`.trim(),o),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,o,i)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Yt.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([MC],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:_C};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(Yt.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new O0(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ca.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,s,o,i,a,c,u;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:$d,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:ca.HEARTBEAT_INTERVAL,this.worker=(o=t==null?void 0:t.worker)!==null&&o!==void 0?o:!1,this.accessToken=(i=t==null?void 0:t.accessToken)!==null&&i!==void 0?i:null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(a=t==null?void 0:t.reconnectAfterMs)!==null&&a!==void 0?a:d=>IC[d-1]||OC,this.encode=(c=t==null?void 0:t.encode)!==null&&c!==void 0?c:(d,f)=>f(JSON.stringify(d)),this.decode=(u=t==null?void 0:t.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class mh extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Le(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class LC extends mh{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ud extends mh{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var $C=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(a,c)}u((r=r.apply(e,t||[])).next())})};const L0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Oi(async()=>{const{default:r}=await Promise.resolve().then(()=>xo);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},FC=()=>$C(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Oi(()=>Promise.resolve().then(()=>xo),void 0)).Response:Response}),Wd=e=>{if(Array.isArray(e))return e.map(n=>Wd(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=Wd(r)}),t},BC=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var us=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(a,c)}u((r=r.apply(e,t||[])).next())})};const du=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),UC=(e,t,n)=>us(void 0,void 0,void 0,function*(){const r=yield FC();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{const o=e.status||500,i=(s==null?void 0:s.statusCode)||o+"";t(new LC(du(s),o,i))}).catch(s=>{t(new Ud(du(s),s))}):t(new Ud(du(e),e))}),WC=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?s:(BC(r)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),n))};function Di(e,t,n,r,s,o){return us(this,void 0,void 0,function*(){return new Promise((i,a)=>{e(n,WC(t,r,s,o)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>UC(c,a,r))})})}function gl(e,t,n,r){return us(this,void 0,void 0,function*(){return Di(e,"GET",t,n,r)})}function un(e,t,n,r,s){return us(this,void 0,void 0,function*(){return Di(e,"POST",t,r,s,n)})}function zd(e,t,n,r,s){return us(this,void 0,void 0,function*(){return Di(e,"PUT",t,r,s,n)})}function zC(e,t,n,r){return us(this,void 0,void 0,function*(){return Di(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function $0(e,t,n,r,s){return us(this,void 0,void 0,function*(){return Di(e,"DELETE",t,r,s,n)})}var tt=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(a,c)}u((r=r.apply(e,t||[])).next())})};const HC={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Wp={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class VC{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=L0(s)}uploadOrUpdate(t,n,r,s){return tt(this,void 0,void 0,function*(){try{let o;const i=Object.assign(Object.assign({},Wp),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c))):(o=r,a["cache-control"]=`max-age=${i.cacheControl}`,a["content-type"]=i.contentType,c&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),f=yield(t=="PUT"?zd:un)(this.fetch,`${this.url}/object/${d}`,o,Object.assign({headers:a},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(o){if(Le(o))return{data:null,error:o};throw o}})}upload(t,n,r){return tt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return tt(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),i=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${i}`);a.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:Wp.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield zd(this.fetch,a.toString(),c,{headers:d});return{data:{path:o,fullPath:f.Key},error:null}}catch(c){if(Le(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return tt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const o=yield un(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),i=new URL(this.url+o.url),a=i.searchParams.get("token");if(!a)throw new mh("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:a},error:null}}catch(r){if(Le(r))return{data:null,error:r};throw r}})}update(t,n,r){return tt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return tt(this,void 0,void 0,function*(){try{return{data:yield un(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Le(s))return{data:null,error:s};throw s}})}copy(t,n,r){return tt(this,void 0,void 0,function*(){try{return{data:{path:(yield un(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Le(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return tt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),o=yield un(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(s){if(Le(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return tt(this,void 0,void 0,function*(){try{const s=yield un(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${o}`):null})),error:null}}catch(s){if(Le(s))return{data:null,error:s};throw s}})}download(t,n){return tt(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),i=o?`?${o}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield gl(this.fetch,`${this.url}/${s}/${a}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Le(a))return{data:null,error:a};throw a}})}info(t){return tt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield gl(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Wd(r),error:null}}catch(r){if(Le(r))return{data:null,error:r};throw r}})}exists(t){return tt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield zC(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Le(r)&&r instanceof Ud){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&s.push(o);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(t){return tt(this,void 0,void 0,function*(){try{return{data:yield $0(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(Le(n))return{data:null,error:n};throw n}})}list(t,n,r){return tt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},HC),n),{prefix:t||""});return{data:yield un(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(Le(s))return{data:null,error:s};throw s}})}listV2(t,n){return tt(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield un(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(Le(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const YC="2.11.0",qC={"X-Client-Info":`storage-js/${YC}`};var gs=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(a,c)}u((r=r.apply(e,t||[])).next())})};class GC{constructor(t,n={},r,s){const o=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href,this.headers=Object.assign(Object.assign({},qC),n),this.fetch=L0(r)}listBuckets(){return gs(this,void 0,void 0,function*(){try{return{data:yield gl(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Le(t))return{data:null,error:t};throw t}})}getBucket(t){return gs(this,void 0,void 0,function*(){try{return{data:yield gl(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(Le(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return gs(this,void 0,void 0,function*(){try{return{data:yield un(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Le(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return gs(this,void 0,void 0,function*(){try{return{data:yield zd(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Le(r))return{data:null,error:r};throw r}})}emptyBucket(t){return gs(this,void 0,void 0,function*(){try{return{data:yield un(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Le(n))return{data:null,error:n};throw n}})}deleteBucket(t){return gs(this,void 0,void 0,function*(){try{return{data:yield $0(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(Le(n))return{data:null,error:n};throw n}})}}class KC extends GC{constructor(t,n={},r,s){super(t,n,r,s)}from(t){return new VC(this.url,this.headers,t,this.fetch)}}const XC="2.55.0";let Vo="";typeof Deno<"u"?Vo="deno":typeof document<"u"?Vo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Vo="react-native":Vo="node";const QC={"X-Client-Info":`supabase-js-${Vo}/${XC}`},JC={headers:QC},ZC={schema:"public"},ej={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},tj={};var nj=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(a,c)}u((r=r.apply(e,t||[])).next())})};const rj=e=>{let t;return e?t=e:typeof fetch>"u"?t=S0:t=fetch,(...n)=>t(...n)},sj=()=>typeof Headers>"u"?k0:Headers,oj=(e,t,n)=>{const r=rj(n),s=sj();return(o,i)=>nj(void 0,void 0,void 0,function*(){var a;const c=(a=yield t())!==null&&a!==void 0?a:e;let u=new s(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(o,Object.assign(Object.assign({},i),{headers:u}))})};var ij=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(a,c)}u((r=r.apply(e,t||[])).next())})};function aj(e){return e.endsWith("/")?e:e+"/"}function lj(e,t){var n,r;const{db:s,auth:o,realtime:i,global:a}=e,{db:c,auth:u,realtime:d,global:f}=t,p={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),o),realtime:Object.assign(Object.assign({},d),i),storage:{},global:Object.assign(Object.assign(Object.assign({},f),a),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>ij(this,void 0,void 0,function*(){return""})};return e.accessToken?p.accessToken=e.accessToken:delete p.accessToken,p}const F0="2.71.1",Cs=30*1e3,Hd=3,fu=Hd*Cs,cj="http://localhost:9999",uj="supabase.auth.token",dj={"X-Client-Info":`gotrue-js/${F0}`},Vd="X-Supabase-Api-Version",B0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},fj=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,hj=10*60*1e3;class ph extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Q(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class mj extends ph{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function pj(e){return Q(e)&&e.name==="AuthApiError"}class U0 extends ph{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Nr extends ph{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class Xn extends Nr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function gj(e){return Q(e)&&e.name==="AuthSessionMissingError"}class ua extends Nr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class da extends Nr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class fa extends Nr{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function vj(e){return Q(e)&&e.name==="AuthImplicitGrantRedirectError"}class zp extends Nr{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Yd extends Nr{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function hu(e){return Q(e)&&e.name==="AuthRetryableFetchError"}class Hp extends Nr{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class qd extends Nr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const vl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Vp=` 	
\r=`.split(""),yj=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Vp.length;t+=1)e[Vp[t].charCodeAt(0)]=-2;for(let t=0;t<vl.length;t+=1)e[vl[t].charCodeAt(0)]=t;return e})();function Yp(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(vl[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(vl[r]),t.queuedBits-=6}}function W0(e,t,n){const r=yj[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function qp(e){const t=[],n=i=>{t.push(String.fromCodePoint(i))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=i=>{bj(i,r,n)};for(let i=0;i<e.length;i+=1)W0(e.charCodeAt(i),s,o);return t.join("")}function xj(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function wj(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}xj(r,t)}}function bj(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function _j(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)W0(e.charCodeAt(s),n,r);return new Uint8Array(t)}function Sj(e){const t=[];return wj(e,n=>t.push(n)),new Uint8Array(t)}function kj(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>Yp(s,n,r)),Yp(null,n,r),t.join("")}function Nj(e){return Math.round(Date.now()/1e3)+e}function Cj(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Wt=()=>typeof window<"u"&&typeof document<"u",Mr={tested:!1,writable:!1},z0=()=>{if(!Wt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Mr.tested)return Mr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Mr.tested=!0,Mr.writable=!0}catch{Mr.tested=!0,Mr.writable=!1}return Mr.writable};function jj(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const H0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Oi(async()=>{const{default:r}=await Promise.resolve().then(()=>xo);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},Ej=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",js=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Dr=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Yn=async(e,t)=>{await e.removeItem(t)};class sc{constructor(){this.promise=new sc.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}sc.promiseConstructor=Promise;function mu(e){const t=e.split(".");if(t.length!==3)throw new qd("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!fj.test(t[r]))throw new qd("JWT not in base64url format");return{header:JSON.parse(qp(t[0])),payload:JSON.parse(qp(t[1])),signature:_j(t[2]),raw:{header:t[0],payload:t[1]}}}async function Pj(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Tj(e,t){return new Promise((r,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await e(o);if(!t(o,null,i)){r(i);return}}catch(i){if(!t(o,i)){s(i);return}}})()})}function Rj(e){return("0"+e.toString(16)).substr(-2)}function Aj(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let o=0;o<56;o++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,Rj).join("")}async function Ij(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function Oj(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await Ij(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function vs(e,t,n=!1){const r=Aj();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await js(e,`${t}-code-verifier`,s);const o=await Oj(r);return[o,r===o?"plain":"s256"]}const Mj=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Dj(e){const t=e.headers.get(Vd);if(!t||!t.match(Mj))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Lj(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function $j(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Fj=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ys(e){if(!Fj.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function pu(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Gp(e){return JSON.parse(JSON.stringify(e))}var Bj=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const Fr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Uj=[502,503,504];async function Kp(e){var t;if(!Ej(e))throw new Yd(Fr(e),0);if(Uj.includes(e.status))throw new Yd(Fr(e),e.status);let n;try{n=await e.json()}catch(o){throw new U0(Fr(o),o)}let r;const s=Dj(e);if(s&&s.getTime()>=B0["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Hp(Fr(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Xn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new Hp(Fr(n),e.status,n.weak_password.reasons);throw new mj(Fr(n),e.status||500,r)}const Wj=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function te(e,t,n,r){var s;const o=Object.assign({},r==null?void 0:r.headers);o[Vd]||(o[Vd]=B0["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const i=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(i.redirect_to=r.redirectTo);const a=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await zj(e,t,n+a,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function zj(e,t,n,r,s,o){const i=Wj(t,r,s,o);let a;try{a=await e(n,Object.assign({},i))}catch(c){throw console.error(c),new Yd(Fr(c),0)}if(a.ok||await Kp(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(c){await Kp(c)}}function Cn(e){var t;let n=null;qj(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=Nj(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Xp(e){const t=Cn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function nr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Hj(e){return{data:e,error:null}}function Vj(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o}=e,i=Bj(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o},c=Object.assign({},i);return{data:{properties:a,user:c},error:null}}function Yj(e){return e}function qj(e){return e.access_token&&e.refresh_token&&e.expires_in}const gu=["global","local","others"];var Gj=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class Kj{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=H0(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=gu[0]){if(gu.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${gu.join(", ")}`);try{return await te(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Q(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await te(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:nr})}catch(r){if(Q(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=Gj(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await te(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Vj,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Q(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await te(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:nr})}catch(n){if(Q(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,o,i,a,c;try{const u={nextPage:null,lastPage:0,total:0},d=await te(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:Yj});if(d.error)throw d.error;const f=await d.json(),p=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,m=(c=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(w=>{const y=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(w.split(";")[1].split("=")[1]);u[`${b}Page`]=y}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Q(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){ys(t);try{return await te(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:nr})}catch(n){if(Q(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){ys(t);try{return await te(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:nr})}catch(r){if(Q(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){ys(t);try{return await te(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:nr})}catch(r){if(Q(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){ys(t.userId);try{const{data:n,error:r}=await te(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _deleteFactor(t){ys(t.userId),ys(t.id);try{return{data:await te(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Q(n))return{data:null,error:n};throw n}}}function Qp(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function Xj(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const xs={debug:!!(globalThis&&z0()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class V0 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Qj extends V0{}async function Jj(e,t,n){xs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),xs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){xs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{xs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw xs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Qj(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(xs.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}Xj();const Zj={url:cj,storageKey:uj,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:dj,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Jp(e,t,n){return await n()}const ws={};class Ci{constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ci.nextInstanceID,Ci.nextInstanceID+=1,this.instanceID>0&&Wt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Zj),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Kj({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=H0(s.fetch),this.lock=s.lock||Jp,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Wt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Jj:this.lock=Jp,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:z0()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Qp(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Qp(this.memoryStorage)),Wt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=ws[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){ws[this.storageKey]=Object.assign(Object.assign({},ws[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=ws[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){ws[this.storageKey]=Object.assign(Object.assign({},ws[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${F0}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=jj(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Wt()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),vj(o)){const c=(t=o.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:i,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",a),await this._saveSession(i),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Q(n)?{error:n}:{error:new U0("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const o=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Cn}),{data:i,error:a}=o;if(a||!i)return{data:{user:null,session:null},error:a};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(Q(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var n,r,s;try{let o;if("email"in t){const{email:d,password:f,options:p}=t;let m=null,w=null;this.flowType==="pkce"&&([m,w]=await vs(this.storage,this.storageKey)),o=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:d,password:f,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:m,code_challenge_method:w},xform:Cn})}else if("phone"in t){const{phone:d,password:f,options:p}=t;o=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},channel:(s=p==null?void 0:p.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Cn})}else throw new da("You must provide either an email or phone number and a password");const{data:i,error:a}=o;if(a||!i)return{data:{user:null,session:null},error:a};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(Q(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:i,options:a}=t;n=await te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Xp})}else if("phone"in t){const{phone:o,password:i,options:a}=t;n=await te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Xp})}else throw new da("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new ua}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(Q(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,s,o,i,a,c,u,d,f,p,m;let w,y;if("message"in t)w=t.message,y=t.signature;else{const{chain:b,wallet:x,statement:h,options:v}=t;let _;if(Wt())if(typeof x=="object")_=x;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))_=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=x}const S=new URL((n=v==null?void 0:v.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in _&&_.signIn){const k=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},v==null?void 0:v.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),h?{statement:h}:null));let N;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")N=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)N=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)w=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),y=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${S.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...h?["",h,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(r=v==null?void 0:v.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=v==null?void 0:v.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...!((i=v==null?void 0:v.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...!((a=v==null?void 0:v.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...!((c=v==null?void 0:v.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...!((u=v==null?void 0:v.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...!((f=(d=v==null?void 0:v.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...v.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const k=await _.signMessage(new TextEncoder().encode(w),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=k}}try{const{data:b,error:x}=await te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:kj(y)},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Cn});if(x)throw x;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new ua}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:x})}catch(b){if(Q(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(t){const n=await Dr(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:o,error:i}=await te(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Cn});if(await Yn(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new ua}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:i})}catch(o){if(Q(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:o,nonce:i}=t,a=await te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Cn}),{data:c,error:u}=a;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new ua}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(Q(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,o,i;try{if("email"in t){const{email:a,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await vs(this.storage,this.storageKey));const{error:f}=await te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:a,options:c}=t,{data:u,error:d}=await te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new da("You must provide either an email or phone number.")}catch(a){if(Q(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var n,r;try{let s,o;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:i,error:a}=await te(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:Cn});if(a)throw a;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,u=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(Q(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let o=null,i=null;return this.flowType==="pkce"&&([o,i]=await vs(this.storage,this.storageKey)),await te(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:i}),headers:this.headers,xform:Hj})}catch(o){if(Q(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Xn;const{error:s}=await te(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(Q(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:o}=t,{error:i}=await te(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in t){const{phone:r,type:s,options:o}=t,{data:i,error:a}=await te(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:a}}throw new da("You must provide either an email or phone number and a type")}catch(n){if(Q(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Dr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<fu:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const i=await Dr(this.userStorage,this.storageKey+"-user");i!=null&&i.user?t.user=i.user:t.user=pu()}if(this.storage.isServer&&t.user){let i=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!i&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:nr}):await this._useSession(async n=>{var r,s,o;const{data:i,error:a}=n;if(a)throw a;return!(!((r=i.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Xn}:await te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:nr})})}catch(n){if(Q(n))return gj(n)&&(await this._removeSession(),await Yn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:o}=r;if(o)throw o;if(!s.session)throw new Xn;const i=s.session;let a=null,c=null;this.flowType==="pkce"&&t.email!=null&&([a,c]=await vs(this.storage,this.storageKey));const{data:u,error:d}=await te(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:c}),jwt:i.access_token,xform:nr});if(d)throw d;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(r){if(Q(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Xn;const n=Date.now()/1e3;let r=n,s=!0,o=null;const{payload:i}=mu(t.access_token);if(i.exp&&(r=i.exp,s=r<=n),s){const{session:a,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!a)return{data:{user:null,session:null},error:null};o=a}else{const{data:a,error:c}=await this._getUser(t.access_token);if(c)throw c;o={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(Q(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:i,error:a}=n;if(a)throw a;t=(r=i.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Xn;const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Q(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Wt())throw new fa("No browser detected.");if(t.error||t.error_description||t.error_code)throw new fa(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new zp("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new fa("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new zp("No code detected.");const{data:h,error:v}=await this._exchangeCodeForSession(t.code);if(v)throw v;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:h.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:o,refresh_token:i,expires_in:a,expires_at:c,token_type:u}=t;if(!o||!a||!i||!u)throw new fa("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(a);let p=d+f;c&&(p=parseInt(c));const m=p-d;m*1e3<=Cs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const w=p-f;d-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,p,d):d-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,p,d);const{data:y,error:b}=await this._getUser(o);if(b)throw b;const x={provider_token:r,provider_refresh_token:s,access_token:o,expires_in:f,expires_at:p,refresh_token:i,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:t.type},error:null}}catch(r){if(Q(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Dr(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return{error:o};const i=(r=s.session)===null||r===void 0?void 0:r.access_token;if(i){const{error:a}=await this.admin.signOut(i,t);if(a&&!(pj(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await Yn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=Cj(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:o},error:i}=n;if(i)throw i;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await vs(this.storage,this.storageKey,!0));try{return await te(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(Q(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(Q(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async o=>{var i,a,c,u,d;const{data:f,error:p}=o;if(p)throw p;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await te(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Wt()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Q(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:o,error:i}=n;if(i)throw i;return await te(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Tj(async s=>(s>0&&await Pj(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await te(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Cn})),(s,o)=>{const i=200*Math.pow(2,s);return o&&hu(o)&&Date.now()+i-r<Cs})}catch(r){if(this._debug(n,"error",r),Q(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Wt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Dr(this.storage,this.storageKey);if(s&&this.userStorage){let i=await Dr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:s.user},await js(this.userStorage,this.storageKey+"-user",i)),s.user=(t=i==null?void 0:i.user)!==null&&t!==void 0?t:pu()}else if(s&&!s.user&&!s.user){const i=await Dr(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(s.user=i.user,await Yn(this.storage,this.storageKey+"-user"),await js(this.storage,this.storageKey,s)):s.user=pu()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const o=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<fu;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${fu}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:i}=await this._callRefreshToken(s.refresh_token);i&&(console.error(i),hu(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:a}=await this._getUser(s.access_token);!a&&(i!=null&&i.user)?(s.user=i.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(r,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Xn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new sc;const{data:o,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!o.session)throw new Xn;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const a={session:o.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(o){if(this._debug(s,"error",o),Q(o)){const i={session:null,error:o};return hu(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(i),i}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(c){o.push(c)}});if(await Promise.all(i),o.length>0){for(let a=0;a<o.length;a+=1)console.error(o[a]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await js(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const o=Gp(s);await js(this.storage,this.storageKey,o)}else{const s=Gp(n);await js(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Yn(this.storage,this.storageKey),await Yn(this.storage,this.storageKey+"-code-verifier"),await Yn(this.storage,this.storageKey+"-user"),this.userStorage&&await Yn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Wt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Cs);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/Cs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Cs}ms, refresh threshold is ${Hd} ticks`),s<=Hd&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof V0)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Wt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,i]=await vs(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);s.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?{data:null,error:o}:await te(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:o,error:i}=n;if(i)return{data:null,error:i};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await te(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return{data:null,error:o};const{data:i,error:a}=await te(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:a})})}catch(n){if(Q(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?{data:null,error:o}:await te(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Q(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(i=>i.factor_type==="totp"&&i.status==="verified"),o=r.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:r,totp:s,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:o}=t;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=mu(s.access_token);let a=null;i.aal&&(a=i.aal);let c=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const d=i.amr||[];return{data:{currentLevel:a,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(a=>a.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(a=>a.kid===t),r&&this.jwks_cached_at+hj>s)return r;const{data:o,error:i}=await te(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,r=o.keys.find(a=>a.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:m,error:w}=await this.getSession();if(w||!m.session)return{data:null,error:w};r=m.session.access_token}const{header:s,payload:o,signature:i,raw:{header:a,payload:c}}=mu(r);n!=null&&n.allowExpired||Lj(o.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:m}=await this.getUser(r);if(m)throw m;return{data:{claims:o,header:s,signature:i},error:null}}const d=$j(s.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,i,Sj(`${a}.${c}`)))throw new qd("Invalid JWT signature");return{data:{claims:o,header:s,signature:i},error:null}}catch(r){if(Q(r))return{data:null,error:r};throw r}}}Ci.nextInstanceID=0;const eE=Ci;class tE extends eE{constructor(t){super(t)}}var nE=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(a,c)}u((r=r.apply(e,t||[])).next())})};class rE{constructor(t,n,r){var s,o,i;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=aj(t),c=new URL(a);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:ZC,realtime:tj,auth:Object.assign(Object.assign({},ej),{storageKey:u}),global:JC},f=lj(r??{},d);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=f.global.headers)!==null&&o!==void 0?o:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(p,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=f.auth)!==null&&i!==void 0?i:{},this.headers,f.global.fetch),this.fetch=oj(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new xC(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new KC(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new KN(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return nE(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:o,flowType:i,lock:a,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new tE({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:o,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:i,lock:a,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new DC(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const sE=(e,t,n)=>new rE(e,t,n);function oE(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}oE()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const iE="https://liuimkjmebgliurclubd.supabase.co",aE="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxpdWlta2ptZWJnbGl1cmNsdWJkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU1OTMzNjAsImV4cCI6MjA3MTE2OTM2MH0.YOHZEYU-zxXvVLohNkiqxhKNsIqHxkQ9B_kJ332wJjU",ue=sE(iE,aE,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),bs="ward_remembered_users",lE=5,oc=()=>{const[e,t]=g.useState([]);g.useEffect(()=>{n()},[]);const n=()=>{try{const c=localStorage.getItem(bs);if(c){const u=JSON.parse(c);u.sort((d,f)=>new Date(f.lastLoginAt).getTime()-new Date(d.lastLoginAt).getTime()),t(u)}}catch(c){console.error("Error loading stored users:",c),t([])}};return{storedUsers:e,saveUser:async(c,u,d=!1)=>{if(!(!c||!d))try{const f={id:c.id,email:c.email,fullName:(u==null?void 0:u.full_name)||c.email.split("@")[0],role:u==null?void 0:u.role,department:u==null?void 0:u.department,ward:u==null?void 0:u.ward,lastLoginAt:new Date().toISOString(),deviceRemembered:!0},p=e.filter(w=>w.id!==c.id),m=[f,...p].slice(0,lE);localStorage.setItem(bs,JSON.stringify(m)),t(m)}catch(f){console.error("Error saving user:",f)}},removeUser:c=>{try{const u=e.filter(d=>d.id!==c);localStorage.setItem(bs,JSON.stringify(u)),t(u)}catch(u){console.error("Error removing user:",u)}},clearAllUsers:()=>{try{localStorage.removeItem(bs),t([])}catch(c){console.error("Error clearing users:",c)}},quickSignIn:async(c,u)=>{try{Object.keys(localStorage).forEach(p=>{(p.startsWith("supabase.auth.")||p.includes("sb-"))&&p!==bs&&localStorage.removeItem(p)});const{data:d,error:f}=await ue.auth.signInWithPassword({email:c,password:u});return f?{error:f}:{data:d,error:null}}catch(d){return{error:d}}},updateUserLastLogin:c=>{try{const u=e.map(d=>d.id===c?{...d,lastLoginAt:new Date().toISOString()}:d);localStorage.setItem(bs,JSON.stringify(u)),t(u)}catch(u){console.error("Error updating last login:",u)}},loadStoredUsers:n}},Li=()=>{const[e,t]=g.useState(null),[n,r]=g.useState(null),[s,o]=g.useState(!0),[i,a]=g.useState(null),{saveUser:c}=oc(),u=ch(),d=async()=>{if(e)try{const{data:y,error:b}=await ue.from("profiles").select("*").eq("user_id",e.id).maybeSingle();!b&&y&&a(y)}catch(y){console.error("Error loading profile:",y)}};g.useEffect(()=>{const{data:{subscription:y}}=ue.auth.onAuthStateChange((b,x)=>{r(x),t((x==null?void 0:x.user)??null),o(!1),x!=null&&x.user?setTimeout(async()=>{try{const{data:h,error:v}=await ue.from("profiles").select("*").eq("user_id",x.user.id).maybeSingle();!v&&h&&a(h)}catch(h){console.error("Error loading profile:",h)}},0):a(null)});return ue.auth.getSession().then(({data:{session:b}})=>{r(b),t((b==null?void 0:b.user)??null),o(!1),b!=null&&b.user&&setTimeout(async()=>{try{const{data:x,error:h}=await ue.from("profiles").select("*").eq("user_id",b.user.id).maybeSingle();!h&&x&&a(x)}catch(x){console.error("Error loading profile:",x)}},0)}),()=>y.unsubscribe()},[]);const f=()=>{Object.keys(localStorage).forEach(y=>{(y.startsWith("supabase.auth.")||y.includes("sb-"))&&localStorage.removeItem(y)}),Object.keys(sessionStorage||{}).forEach(y=>{(y.startsWith("supabase.auth.")||y.includes("sb-"))&&sessionStorage.removeItem(y)})};return{user:e,session:n,loading:s,profile:i,signIn:async(y,b,x=!1)=>{try{f();try{await ue.auth.signOut({scope:"global"})}catch{}const{data:h,error:v}=await ue.auth.signInWithPassword({email:y,password:b});return v?{error:v}:(h.user&&(x&&h.session&&setTimeout(async()=>{try{const{data:_}=await ue.from("profiles").select("*").eq("user_id",h.user.id).maybeSingle();await c(h.user,_,x)}catch(_){console.error("Error saving user profile:",_)}},0),u("/")),{error:null})}catch(h){return{error:h}}},signUp:async(y,b,x)=>{try{f();const{data:h,error:v}=await ue.auth.signUp({email:y,password:b,options:{data:x?{full_name:x}:void 0}});return{error:v}}catch(h){return{error:h}}},signOut:async()=>{try{f();try{await ue.auth.signOut({scope:"global"})}catch{}u("/auth")}catch(y){console.error("Error signing out:",y)}},loadProfile:d}};function Y0(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=Y0(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function q0(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=Y0(e))&&(r&&(r+=" "),r+=t);return r}const gh="-",cE=e=>{const t=dE(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:i=>{const a=i.split(gh);return a[0]===""&&a.length!==1&&a.shift(),G0(a,t)||uE(i)},getConflictingClassGroupIds:(i,a)=>{const c=n[i]||[];return a&&r[i]?[...c,...r[i]]:c}}},G0=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?G0(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const o=e.join(gh);return(i=t.validators.find(({validator:a})=>a(o)))==null?void 0:i.classGroupId},Zp=/^\[(.+)\]$/,uE=e=>{if(Zp.test(e)){const t=Zp.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},dE=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return hE(Object.entries(e.classGroups),n).forEach(([o,i])=>{Gd(i,r,o,t)}),r},Gd=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const o=s===""?t:eg(t,s);o.classGroupId=n;return}if(typeof s=="function"){if(fE(s)){Gd(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([o,i])=>{Gd(i,eg(t,o),n,r)})})},eg=(e,t)=>{let n=e;return t.split(gh).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},fE=e=>e.isThemeGetter,hE=(e,t)=>t?e.map(([n,r])=>{const s=r.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,a])=>[t+i,a])):o);return[n,s]}):e,mE=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(o,i)=>{n.set(o,i),t++,t>e&&(t=0,r=n,n=new Map)};return{get(o){let i=n.get(o);if(i!==void 0)return i;if((i=r.get(o))!==void 0)return s(o,i),i},set(o,i){n.has(o)?n.set(o,i):s(o,i)}}},K0="!",pE=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],o=t.length,i=a=>{const c=[];let u=0,d=0,f;for(let b=0;b<a.length;b++){let x=a[b];if(u===0){if(x===s&&(r||a.slice(b,b+o)===t)){c.push(a.slice(d,b)),d=b+o;continue}if(x==="/"){f=b;continue}}x==="["?u++:x==="]"&&u--}const p=c.length===0?a:a.substring(d),m=p.startsWith(K0),w=m?p.substring(1):p,y=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:w,maybePostfixModifierPosition:y}};return n?a=>n({className:a,parseClassName:i}):i},gE=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},vE=e=>({cache:mE(e.cacheSize),parseClassName:pE(e),...cE(e)}),yE=/\s+/,xE=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,o=[],i=e.trim().split(yE);let a="";for(let c=i.length-1;c>=0;c-=1){const u=i[c],{modifiers:d,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:m}=n(u);let w=!!m,y=r(w?p.substring(0,m):p);if(!y){if(!w){a=u+(a.length>0?" "+a:a);continue}if(y=r(p),!y){a=u+(a.length>0?" "+a:a);continue}w=!1}const b=gE(d).join(":"),x=f?b+K0:b,h=x+y;if(o.includes(h))continue;o.push(h);const v=s(y,w);for(let _=0;_<v.length;++_){const S=v[_];o.push(x+S)}a=u+(a.length>0?" "+a:a)}return a};function wE(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=X0(t))&&(r&&(r+=" "),r+=n);return r}const X0=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=X0(e[r]))&&(n&&(n+=" "),n+=t);return n};function bE(e,...t){let n,r,s,o=i;function i(c){const u=t.reduce((d,f)=>f(d),e());return n=vE(u),r=n.cache.get,s=n.cache.set,o=a,a(c)}function a(c){const u=r(c);if(u)return u;const d=xE(c,n);return s(c,d),d}return function(){return o(wE.apply(null,arguments))}}const be=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},Q0=/^\[(?:([a-z-]+):)?(.+)\]$/i,_E=/^\d+\/\d+$/,SE=new Set(["px","full","screen"]),kE=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,NE=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,CE=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,jE=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,EE=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,kn=e=>qs(e)||SE.has(e)||_E.test(e),qn=e=>bo(e,"length",DE),qs=e=>!!e&&!Number.isNaN(Number(e)),vu=e=>bo(e,"number",qs),Lo=e=>!!e&&Number.isInteger(Number(e)),PE=e=>e.endsWith("%")&&qs(e.slice(0,-1)),J=e=>Q0.test(e),Gn=e=>kE.test(e),TE=new Set(["length","size","percentage"]),RE=e=>bo(e,TE,J0),AE=e=>bo(e,"position",J0),IE=new Set(["image","url"]),OE=e=>bo(e,IE,$E),ME=e=>bo(e,"",LE),$o=()=>!0,bo=(e,t,n)=>{const r=Q0.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},DE=e=>NE.test(e)&&!CE.test(e),J0=()=>!1,LE=e=>jE.test(e),$E=e=>EE.test(e),FE=()=>{const e=be("colors"),t=be("spacing"),n=be("blur"),r=be("brightness"),s=be("borderColor"),o=be("borderRadius"),i=be("borderSpacing"),a=be("borderWidth"),c=be("contrast"),u=be("grayscale"),d=be("hueRotate"),f=be("invert"),p=be("gap"),m=be("gradientColorStops"),w=be("gradientColorStopPositions"),y=be("inset"),b=be("margin"),x=be("opacity"),h=be("padding"),v=be("saturate"),_=be("scale"),S=be("sepia"),k=be("skew"),N=be("space"),E=be("translate"),I=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],U=()=>["auto",J,t],T=()=>[J,t],O=()=>["",kn,qn],j=()=>["auto",qs,J],D=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],L=()=>["solid","dashed","dotted","double","none"],R=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],C=()=>["start","end","center","between","around","evenly","stretch"],P=()=>["","0",J],F=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Y=()=>[qs,J];return{cacheSize:500,separator:":",theme:{colors:[$o],spacing:[kn,qn],blur:["none","",Gn,J],brightness:Y(),borderColor:[e],borderRadius:["none","","full",Gn,J],borderSpacing:T(),borderWidth:O(),contrast:Y(),grayscale:P(),hueRotate:Y(),invert:P(),gap:T(),gradientColorStops:[e],gradientColorStopPositions:[PE,qn],inset:U(),margin:U(),opacity:Y(),padding:T(),saturate:Y(),scale:Y(),sepia:P(),skew:Y(),space:T(),translate:T()},classGroups:{aspect:[{aspect:["auto","square","video",J]}],container:["container"],columns:[{columns:[Gn]}],"break-after":[{"break-after":F()}],"break-before":[{"break-before":F()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...D(),J]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Lo,J]}],basis:[{basis:U()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",J]}],grow:[{grow:P()}],shrink:[{shrink:P()}],order:[{order:["first","last","none",Lo,J]}],"grid-cols":[{"grid-cols":[$o]}],"col-start-end":[{col:["auto",{span:["full",Lo,J]},J]}],"col-start":[{"col-start":j()}],"col-end":[{"col-end":j()}],"grid-rows":[{"grid-rows":[$o]}],"row-start-end":[{row:["auto",{span:[Lo,J]},J]}],"row-start":[{"row-start":j()}],"row-end":[{"row-end":j()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",J]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",J]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...C()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...C(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...C(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[h]}],px:[{px:[h]}],py:[{py:[h]}],ps:[{ps:[h]}],pe:[{pe:[h]}],pt:[{pt:[h]}],pr:[{pr:[h]}],pb:[{pb:[h]}],pl:[{pl:[h]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",J,t]}],"min-w":[{"min-w":[J,t,"min","max","fit"]}],"max-w":[{"max-w":[J,t,"none","full","min","max","fit","prose",{screen:[Gn]},Gn]}],h:[{h:[J,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[J,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[J,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[J,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Gn,qn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",vu]}],"font-family":[{font:[$o]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",J]}],"line-clamp":[{"line-clamp":["none",qs,vu]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",kn,J]}],"list-image":[{"list-image":["none",J]}],"list-style-type":[{list:["none","disc","decimal",J]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...L(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",kn,qn]}],"underline-offset":[{"underline-offset":["auto",kn,J]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",J]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",J]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...D(),AE]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",RE]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},OE]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...L(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:L()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...L()]}],"outline-offset":[{"outline-offset":[kn,J]}],"outline-w":[{outline:[kn,qn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:O()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[kn,qn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Gn,ME]}],"shadow-color":[{shadow:[$o]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...R(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":R()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Gn,J]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[v]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[v]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",J]}],duration:[{duration:Y()}],ease:[{ease:["linear","in","out","in-out",J]}],delay:[{delay:Y()}],animate:[{animate:["none","spin","ping","pulse","bounce",J]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Lo,J]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",J]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",J]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",J]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[kn,qn,vu]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},BE=bE(FE);function H(...e){return BE(q0(e))}const je=g.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:H("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));je.displayName="Card";const en=g.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:H("flex flex-col space-y-1.5 p-6",e),...t}));en.displayName="CardHeader";const tn=g.forwardRef(({className:e,...t},n)=>l.jsx("h3",{ref:n,className:H("text-2xl font-semibold leading-none tracking-tight",e),...t}));tn.displayName="CardTitle";const xr=g.forwardRef(({className:e,...t},n)=>l.jsx("p",{ref:n,className:H("text-sm text-muted-foreground",e),...t}));xr.displayName="CardDescription";const Be=g.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:H("p-6 pt-0",e),...t}));Be.displayName="CardContent";const UE=g.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:H("flex items-center p-6 pt-0",e),...t}));UE.displayName="CardFooter";function tg(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Z0(...e){return t=>{let n=!1;const r=e.map(s=>{const o=tg(s,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():tg(e[s],null)}}}}function se(...e){return g.useCallback(Z0(...e),e)}function es(e){const t=zE(e),n=g.forwardRef((r,s)=>{const{children:o,...i}=r,a=g.Children.toArray(o),c=a.find(VE);if(c){const u=c.props.children,d=a.map(f=>f===c?g.Children.count(u)>1?g.Children.only(null):g.isValidElement(u)?u.props.children:null:f);return l.jsx(t,{...i,ref:s,children:g.isValidElement(u)?g.cloneElement(u,void 0,d):null})}return l.jsx(t,{...i,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}var WE=es("Slot");function zE(e){const t=g.forwardRef((n,r)=>{const{children:s,...o}=n;if(g.isValidElement(s)){const i=qE(s),a=YE(o,s.props);return s.type!==g.Fragment&&(a.ref=r?Z0(r,i):i),g.cloneElement(s,a)}return g.Children.count(s)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var HE=Symbol("radix.slottable");function VE(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===HE}function YE(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...a)=>{const c=o(...a);return s(...a),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function qE(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const ng=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,rg=q0,ic=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return rg(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:o}=t,i=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],f=o==null?void 0:o[u];if(d===null)return null;const p=ng(d)||ng(f);return s[u][p]}),a=n&&Object.entries(n).reduce((u,d)=>{let[f,p]=d;return p===void 0||(u[f]=p),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:p,...m}=d;return Object.entries(m).every(w=>{let[y,b]=w;return Array.isArray(b)?b.includes({...o,...a}[y]):{...o,...a}[y]===b})?[...u,f,p]:u},[]);return rg(e,i,c,n==null?void 0:n.class,n==null?void 0:n.className)},Kd=ic("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ne=g.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},o)=>{const i=r?WE:"button";return l.jsx(i,{className:H(Kd({variant:t,size:n,className:e})),ref:o,...s})});ne.displayName="Button";const Gt=g.forwardRef(({className:e,type:t,...n},r)=>l.jsx("input",{type:t,className:H("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));Gt.displayName="Input";var GE=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],V=GE.reduce((e,t)=>{const n=es(`Primitive.${t}`),r=g.forwardRef((s,o)=>{const{asChild:i,...a}=s,c=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...a,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function KE(e,t){e&&yo.flushSync(()=>e.dispatchEvent(t))}var XE="Label",ex=g.forwardRef((e,t)=>l.jsx(V.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));ex.displayName=XE;var tx=ex;const QE=ic("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Oe=g.forwardRef(({className:e,...t},n)=>l.jsx(tx,{ref:n,className:H(QE(),e),...t}));Oe.displayName=tx.displayName;const JE=ic("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),yl=g.forwardRef(({className:e,variant:t,...n},r)=>l.jsx("div",{ref:r,role:"alert",className:H(JE({variant:t}),e),...n}));yl.displayName="Alert";const ZE=g.forwardRef(({className:e,...t},n)=>l.jsx("h5",{ref:n,className:H("mb-1 font-medium leading-none tracking-tight",e),...t}));ZE.displayName="AlertTitle";const xl=g.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:H("text-sm [&_p]:leading-relaxed",e),...t}));xl.displayName="AlertDescription";function eP(e,t){const n=g.createContext(t),r=o=>{const{children:i,...a}=o,c=g.useMemo(()=>a,Object.values(a));return l.jsx(n.Provider,{value:c,children:i})};r.displayName=e+"Provider";function s(o){const i=g.useContext(n);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[r,s]}function Ct(e,t=[]){let n=[];function r(o,i){const a=g.createContext(i),c=n.length;n=[...n,i];const u=f=>{var x;const{scope:p,children:m,...w}=f,y=((x=p==null?void 0:p[e])==null?void 0:x[c])||a,b=g.useMemo(()=>w,Object.values(w));return l.jsx(y.Provider,{value:b,children:m})};u.displayName=o+"Provider";function d(f,p){var y;const m=((y=p==null?void 0:p[e])==null?void 0:y[c])||a,w=g.useContext(m);if(w)return w;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[u,d]}const s=()=>{const o=n.map(i=>g.createContext(i));return function(a){const c=(a==null?void 0:a[e])||o;return g.useMemo(()=>({[`__scope${e}`]:{...a,[e]:c}}),[a,c])}};return s.scopeName=e,[r,tP(s,...t)]}function tP(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((a,{useScope:c,scopeName:u})=>{const f=c(o)[`__scope${u}`];return{...a,...f}},{});return g.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}function Ze(e){const t=g.useRef(e);return g.useEffect(()=>{t.current=e}),g.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}var Ie=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},nx={exports:{}},rx={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ao=g;function nP(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var rP=typeof Object.is=="function"?Object.is:nP,sP=ao.useState,oP=ao.useEffect,iP=ao.useLayoutEffect,aP=ao.useDebugValue;function lP(e,t){var n=t(),r=sP({inst:{value:n,getSnapshot:t}}),s=r[0].inst,o=r[1];return iP(function(){s.value=n,s.getSnapshot=t,yu(s)&&o({inst:s})},[e,n,t]),oP(function(){return yu(s)&&o({inst:s}),e(function(){yu(s)&&o({inst:s})})},[e]),aP(n),n}function yu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!rP(e,n)}catch{return!0}}function cP(e,t){return t()}var uP=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?cP:lP;rx.useSyncExternalStore=ao.useSyncExternalStore!==void 0?ao.useSyncExternalStore:uP;nx.exports=rx;var dP=nx.exports;function fP(){return dP.useSyncExternalStore(hP,()=>!0,()=>!1)}function hP(){return()=>{}}var vh="Avatar",[mP,S4]=Ct(vh),[pP,sx]=mP(vh),ox=g.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[s,o]=g.useState("idle");return l.jsx(pP,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:o,children:l.jsx(V.span,{...r,ref:t})})});ox.displayName=vh;var ix="AvatarImage",ax=g.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...o}=e,i=sx(ix,n),a=gP(r,o),c=Ze(u=>{s(u),i.onImageLoadingStatusChange(u)});return Ie(()=>{a!=="idle"&&c(a)},[a,c]),a==="loaded"?l.jsx(V.img,{...o,ref:t,src:r}):null});ax.displayName=ix;var lx="AvatarFallback",cx=g.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...s}=e,o=sx(lx,n),[i,a]=g.useState(r===void 0);return g.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(c)}},[r]),i&&o.imageLoadingStatus!=="loaded"?l.jsx(V.span,{...s,ref:t}):null});cx.displayName=lx;function sg(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function gP(e,{referrerPolicy:t,crossOrigin:n}){const r=fP(),s=g.useRef(null),o=r?(s.current||(s.current=new window.Image),s.current):null,[i,a]=g.useState(()=>sg(o,e));return Ie(()=>{a(sg(o,e))},[o,e]),Ie(()=>{const c=f=>()=>{a(f)};if(!o)return;const u=c("loaded"),d=c("error");return o.addEventListener("load",u),o.addEventListener("error",d),t&&(o.referrerPolicy=t),typeof n=="string"&&(o.crossOrigin=n),()=>{o.removeEventListener("load",u),o.removeEventListener("error",d)}},[o,n,t]),i}var ux=ox,dx=ax,fx=cx;const wl=g.forwardRef(({className:e,...t},n)=>l.jsx(ux,{ref:n,className:H("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));wl.displayName=ux.displayName;const vP=g.forwardRef(({className:e,...t},n)=>l.jsx(dx,{ref:n,className:H("aspect-square h-full w-full",e),...t}));vP.displayName=dx.displayName;const bl=g.forwardRef(({className:e,...t},n)=>l.jsx(fx,{ref:n,className:H("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));bl.displayName=fx.displayName;const yP=ic("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ge({className:e,variant:t,...n}){return l.jsx("div",{className:H(yP({variant:t}),e),...n})}const yh=6048e5,xP=864e5,ha=43200,og=1440,ig=Symbol.for("constructDateFrom");function We(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&ig in e?e[ig](t):e instanceof Date?new e.constructor(t):new Date(t)}function oe(e,t){return We(t||e,e)}function rt(e,t,n){const r=oe(e,n==null?void 0:n.in);return isNaN(t)?We((n==null?void 0:n.in)||e,NaN):(t&&r.setDate(r.getDate()+t),r)}function nn(e,t,n){const r=oe(e,n==null?void 0:n.in);if(isNaN(t))return We((n==null?void 0:n.in)||e,NaN);if(!t)return r;const s=r.getDate(),o=We((n==null?void 0:n.in)||e,r.getTime());o.setMonth(r.getMonth()+t+1,0);const i=o.getDate();return s>=i?o:(r.setFullYear(o.getFullYear(),o.getMonth(),s),r)}let wP={};function _o(){return wP}function xn(e,t){var a,c,u,d;const n=_o(),r=(t==null?void 0:t.weekStartsOn)??((c=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=oe(e,t==null?void 0:t.in),o=s.getDay(),i=(o<r?7:0)+o-r;return s.setDate(s.getDate()-i),s.setHours(0,0,0,0),s}function ts(e,t){return xn(e,{...t,weekStartsOn:1})}function hx(e,t){const n=oe(e,t==null?void 0:t.in),r=n.getFullYear(),s=We(n,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const o=ts(s),i=We(n,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const a=ts(i);return n.getTime()>=o.getTime()?r+1:n.getTime()>=a.getTime()?r:r-1}function lo(e){const t=oe(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Cr(e,...t){const n=We.bind(null,e||t.find(r=>typeof r=="object"));return t.map(n)}function co(e,t){const n=oe(e,t==null?void 0:t.in);return n.setHours(0,0,0,0),n}function hn(e,t,n){const[r,s]=Cr(n==null?void 0:n.in,e,t),o=co(r),i=co(s),a=+o-lo(o),c=+i-lo(i);return Math.round((a-c)/xP)}function bP(e,t){const n=hx(e,t),r=We(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),ts(r)}function Xd(e,t,n){return rt(e,t*7,n)}function _P(e,t,n){return nn(e,t*12,n)}function SP(e,t){let n,r=t==null?void 0:t.in;return e.forEach(s=>{!r&&typeof s=="object"&&(r=We.bind(null,s));const o=oe(s,r);(!n||n<o||isNaN(+o))&&(n=o)}),We(r,n||NaN)}function kP(e,t){let n,r=t==null?void 0:t.in;return e.forEach(s=>{!r&&typeof s=="object"&&(r=We.bind(null,s));const o=oe(s,r);(!n||n>o||isNaN(+o))&&(n=o)}),We(r,n||NaN)}function Oa(e,t){const n=+oe(e)-+oe(t);return n<0?-1:n>0?1:n}function NP(e){return We(e,Date.now())}function dt(e,t,n){const[r,s]=Cr(n==null?void 0:n.in,e,t);return+co(r)==+co(s)}function xh(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function CP(e){return!(!xh(e)&&typeof e!="number"||isNaN(+oe(e)))}function uo(e,t,n){const[r,s]=Cr(n==null?void 0:n.in,e,t),o=r.getFullYear()-s.getFullYear(),i=r.getMonth()-s.getMonth();return o*12+i}function jP(e,t,n){const[r,s]=Cr(n==null?void 0:n.in,e,t),o=xn(r,n),i=xn(s,n),a=+o-lo(o),c=+i-lo(i);return Math.round((a-c)/yh)}function EP(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function PP(e,t){return+oe(e)-+oe(t)}function TP(e,t){const n=oe(e,t==null?void 0:t.in);return n.setHours(23,59,59,999),n}function ac(e,t){const n=oe(e,t==null?void 0:t.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function RP(e,t){const n=oe(e,t==null?void 0:t.in);return+TP(n,t)==+ac(n,t)}function AP(e,t,n){const[r,s,o]=Cr(n==null?void 0:n.in,e,e,t),i=Oa(s,o),a=Math.abs(uo(s,o));if(a<1)return 0;s.getMonth()===1&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-i*a);let c=Oa(s,o)===-i;RP(r)&&a===1&&Oa(r,o)===1&&(c=!1);const u=i*(a-+c);return u===0?0:u}function IP(e,t,n){const r=PP(e,t)/1e3;return EP(n==null?void 0:n.roundingMethod)(r)}function pt(e,t){const n=oe(e,t==null?void 0:t.in);return n.setDate(1),n.setHours(0,0,0,0),n}function mx(e,t){const n=oe(e,t==null?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function wh(e,t){var a,c,u,d;const n=_o(),r=(t==null?void 0:t.weekStartsOn)??((c=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=oe(e,t==null?void 0:t.in),o=s.getDay(),i=(o<r?-7:0)+6-(o-r);return s.setDate(s.getDate()+i),s.setHours(23,59,59,999),s}function px(e,t){return wh(e,{...t,weekStartsOn:1})}const OP={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},MP=(e,t,n)=>{let r;const s=OP[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function xu(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const DP={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},LP={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},$P={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},FP={date:xu({formats:DP,defaultWidth:"full"}),time:xu({formats:LP,defaultWidth:"full"}),dateTime:xu({formats:$P,defaultWidth:"full"})},BP={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},UP=(e,t,n,r)=>BP[e];function Fo(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,a=n!=null&&n.width?String(n.width):i;s=e.formattingValues[a]||e.formattingValues[i]}else{const i=e.defaultWidth,a=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[a]||e.values[i]}const o=e.argumentCallback?e.argumentCallback(t):t;return s[o]}}const WP={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},zP={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},HP={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},VP={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},YP={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},qP={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},GP=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},KP={ordinalNumber:GP,era:Fo({values:WP,defaultWidth:"wide"}),quarter:Fo({values:zP,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Fo({values:HP,defaultWidth:"wide"}),day:Fo({values:VP,defaultWidth:"wide"}),dayPeriod:Fo({values:YP,defaultWidth:"wide",formattingValues:qP,defaultFormattingWidth:"wide"})};function Bo(e){return(t,n={})=>{const r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(s);if(!o)return null;const i=o[0],a=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(a)?QP(a,f=>f.test(i)):XP(a,f=>f.test(i));let u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=t.slice(i.length);return{value:u,rest:d}}}function XP(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function QP(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function JP(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const s=r[0],o=t.match(e.parsePattern);if(!o)return null;let i=e.valueCallback?e.valueCallback(o[0]):o[0];i=n.valueCallback?n.valueCallback(i):i;const a=t.slice(s.length);return{value:i,rest:a}}}const ZP=/^(\d+)(th|st|nd|rd)?/i,e2=/\d+/i,t2={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},n2={any:[/^b/i,/^(a|c)/i]},r2={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},s2={any:[/1/i,/2/i,/3/i,/4/i]},o2={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},i2={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},a2={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},l2={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},c2={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},u2={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},d2={ordinalNumber:JP({matchPattern:ZP,parsePattern:e2,valueCallback:e=>parseInt(e,10)}),era:Bo({matchPatterns:t2,defaultMatchWidth:"wide",parsePatterns:n2,defaultParseWidth:"any"}),quarter:Bo({matchPatterns:r2,defaultMatchWidth:"wide",parsePatterns:s2,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Bo({matchPatterns:o2,defaultMatchWidth:"wide",parsePatterns:i2,defaultParseWidth:"any"}),day:Bo({matchPatterns:a2,defaultMatchWidth:"wide",parsePatterns:l2,defaultParseWidth:"any"}),dayPeriod:Bo({matchPatterns:c2,defaultMatchWidth:"any",parsePatterns:u2,defaultParseWidth:"any"})},bh={code:"en-US",formatDistance:MP,formatLong:FP,formatRelative:UP,localize:KP,match:d2,options:{weekStartsOn:0,firstWeekContainsDate:1}};function f2(e,t){const n=oe(e,t==null?void 0:t.in);return hn(n,mx(n))+1}function gx(e,t){const n=oe(e,t==null?void 0:t.in),r=+ts(n)-+bP(n);return Math.round(r/yh)+1}function vx(e,t){var d,f,p,m;const n=oe(e,t==null?void 0:t.in),r=n.getFullYear(),s=_o(),o=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((m=(p=s.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??1,i=We((t==null?void 0:t.in)||e,0);i.setFullYear(r+1,0,o),i.setHours(0,0,0,0);const a=xn(i,t),c=We((t==null?void 0:t.in)||e,0);c.setFullYear(r,0,o),c.setHours(0,0,0,0);const u=xn(c,t);return+n>=+a?r+1:+n>=+u?r:r-1}function h2(e,t){var a,c,u,d;const n=_o(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=vx(e,t),o=We((t==null?void 0:t.in)||e,0);return o.setFullYear(s,0,r),o.setHours(0,0,0,0),xn(o,t)}function yx(e,t){const n=oe(e,t==null?void 0:t.in),r=+xn(n,t)-+h2(n,t);return Math.round(r/yh)+1}function fe(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Kn={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return fe(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):fe(n+1,2)},d(e,t){return fe(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return fe(e.getHours()%12||12,t.length)},H(e,t){return fe(e.getHours(),t.length)},m(e,t){return fe(e.getMinutes(),t.length)},s(e,t){return fe(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return fe(s,t.length)}},_s={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ag={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return Kn.y(e,t)},Y:function(e,t,n,r){const s=vx(e,r),o=s>0?s:1-s;if(t==="YY"){const i=o%100;return fe(i,2)}return t==="Yo"?n.ordinalNumber(o,{unit:"year"}):fe(o,t.length)},R:function(e,t){const n=hx(e);return fe(n,t.length)},u:function(e,t){const n=e.getFullYear();return fe(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return fe(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return fe(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Kn.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return fe(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const s=yx(e,r);return t==="wo"?n.ordinalNumber(s,{unit:"week"}):fe(s,t.length)},I:function(e,t,n){const r=gx(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):fe(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Kn.d(e,t)},D:function(e,t,n){const r=f2(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):fe(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const s=e.getDay(),o=(s-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return fe(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const s=e.getDay(),o=(s-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return fe(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),s=r===0?7:r;switch(t){case"i":return String(s);case"ii":return fe(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let s;switch(r===12?s=_s.noon:r===0?s=_s.midnight:s=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let s;switch(r>=17?s=_s.evening:r>=12?s=_s.afternoon:r>=4?s=_s.morning:s=_s.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Kn.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Kn.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):fe(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):fe(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Kn.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Kn.s(e,t)},S:function(e,t){return Kn.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return cg(r);case"XXXX":case"XX":return Br(r);case"XXXXX":case"XXX":default:return Br(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return cg(r);case"xxxx":case"xx":return Br(r);case"xxxxx":case"xxx":default:return Br(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+lg(r,":");case"OOOO":default:return"GMT"+Br(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+lg(r,":");case"zzzz":default:return"GMT"+Br(r,":")}},t:function(e,t,n){const r=Math.trunc(+e/1e3);return fe(r,t.length)},T:function(e,t,n){return fe(+e,t.length)}};function lg(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=Math.trunc(r/60),o=r%60;return o===0?n+String(s):n+String(s)+t+fe(o,2)}function cg(e,t){return e%60===0?(e>0?"-":"+")+fe(Math.abs(e)/60,2):Br(e,t)}function Br(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=fe(Math.trunc(r/60),2),o=fe(r%60,2);return n+s+t+o}const ug=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},xx=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},m2=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return ug(e,t);let o;switch(r){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",ug(r,t)).replace("{{time}}",xx(s,t))},p2={p:xx,P:m2},g2=/^D+$/,v2=/^Y+$/,y2=["D","DD","YY","YYYY"];function x2(e){return g2.test(e)}function w2(e){return v2.test(e)}function b2(e,t,n){const r=_2(e,t,n);if(console.warn(r),y2.includes(e))throw new RangeError(r)}function _2(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const S2=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,k2=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,N2=/^'([^]*?)'?$/,C2=/''/g,j2=/[a-zA-Z]/;function jr(e,t,n){var d,f,p,m,w,y,b,x;const r=_o(),s=(n==null?void 0:n.locale)??r.locale??bh,o=(n==null?void 0:n.firstWeekContainsDate)??((f=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((m=(p=r.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??1,i=(n==null?void 0:n.weekStartsOn)??((y=(w=n==null?void 0:n.locale)==null?void 0:w.options)==null?void 0:y.weekStartsOn)??r.weekStartsOn??((x=(b=r.locale)==null?void 0:b.options)==null?void 0:x.weekStartsOn)??0,a=oe(e,n==null?void 0:n.in);if(!CP(a))throw new RangeError("Invalid time value");let c=t.match(k2).map(h=>{const v=h[0];if(v==="p"||v==="P"){const _=p2[v];return _(h,s.formatLong)}return h}).join("").match(S2).map(h=>{if(h==="''")return{isToken:!1,value:"'"};const v=h[0];if(v==="'")return{isToken:!1,value:E2(h)};if(ag[v])return{isToken:!0,value:h};if(v.match(j2))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:h}});s.localize.preprocessor&&(c=s.localize.preprocessor(a,c));const u={firstWeekContainsDate:o,weekStartsOn:i,locale:s};return c.map(h=>{if(!h.isToken)return h.value;const v=h.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&w2(v)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&x2(v))&&b2(v,t,String(e));const _=ag[v[0]];return _(a,v,s.localize,u)}).join("")}function E2(e){const t=e.match(N2);return t?t[1].replace(C2,"'"):e}function P2(e,t,n){const r=_o(),s=(n==null?void 0:n.locale)??r.locale??bh,o=2520,i=Oa(e,t);if(isNaN(i))throw new RangeError("Invalid time value");const a=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:i}),[c,u]=Cr(n==null?void 0:n.in,...i>0?[t,e]:[e,t]),d=IP(u,c),f=(lo(u)-lo(c))/1e3,p=Math.round((d-f)/60);let m;if(p<2)return n!=null&&n.includeSeconds?d<5?s.formatDistance("lessThanXSeconds",5,a):d<10?s.formatDistance("lessThanXSeconds",10,a):d<20?s.formatDistance("lessThanXSeconds",20,a):d<40?s.formatDistance("halfAMinute",0,a):d<60?s.formatDistance("lessThanXMinutes",1,a):s.formatDistance("xMinutes",1,a):p===0?s.formatDistance("lessThanXMinutes",1,a):s.formatDistance("xMinutes",p,a);if(p<45)return s.formatDistance("xMinutes",p,a);if(p<90)return s.formatDistance("aboutXHours",1,a);if(p<og){const w=Math.round(p/60);return s.formatDistance("aboutXHours",w,a)}else{if(p<o)return s.formatDistance("xDays",1,a);if(p<ha){const w=Math.round(p/og);return s.formatDistance("xDays",w,a)}else if(p<ha*2)return m=Math.round(p/ha),s.formatDistance("aboutXMonths",m,a)}if(m=AP(u,c),m<12){const w=Math.round(p/ha);return s.formatDistance("xMonths",w,a)}else{const w=m%12,y=Math.trunc(m/12);return w<3?s.formatDistance("aboutXYears",y,a):w<9?s.formatDistance("overXYears",y,a):s.formatDistance("almostXYears",y+1,a)}}function T2(e,t){return P2(e,NP(e),t)}function R2(e,t){const n=oe(e,t==null?void 0:t.in),r=n.getFullYear(),s=n.getMonth(),o=We(n,0);return o.setFullYear(r,s+1,0),o.setHours(0,0,0,0),o.getDate()}function A2(e){return Math.trunc(+oe(e)/1e3)}function I2(e,t){const n=oe(e,t==null?void 0:t.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(0,0,0,0),oe(n,t==null?void 0:t.in)}function O2(e,t){const n=oe(e,t==null?void 0:t.in);return jP(I2(n,t),pt(n,t),t)+1}function Qd(e,t){return+oe(e)>+oe(t)}function wx(e,t){return+oe(e)<+oe(t)}function _h(e,t,n){const[r,s]=Cr(n==null?void 0:n.in,e,t);return r.getFullYear()===s.getFullYear()&&r.getMonth()===s.getMonth()}function M2(e,t,n){const[r,s]=Cr(n==null?void 0:n.in,e,t);return r.getFullYear()===s.getFullYear()}function wu(e,t,n){return rt(e,-t,n)}function bu(e,t,n){const r=oe(e,n==null?void 0:n.in),s=r.getFullYear(),o=r.getDate(),i=We(e,0);i.setFullYear(s,t,15),i.setHours(0,0,0,0);const a=R2(i);return r.setMonth(t,Math.min(o,a)),r}function dg(e,t,n){const r=oe(e,n==null?void 0:n.in);return isNaN(+r)?We(e,NaN):(r.setFullYear(t),r)}const bx=({onSignInComplete:e,onNewUserSignIn:t})=>{const{storedUsers:n,removeUser:r,clearAllUsers:s,quickSignIn:o,updateUserLastLogin:i}=oc(),[a,c]=g.useState(null),[u,d]=g.useState(""),[f,p]=g.useState(!1),[m,w]=g.useState(null),y=async _=>{var S;if(!u){w("Please enter your password");return}p(!0),w(null);try{const{error:k}=await o(_.email,u);k?(S=k.message)!=null&&S.includes("Invalid login credentials")?w("Invalid password. Please try again."):w(k.message||"Failed to sign in. Please try again."):(i(_.id),e())}catch{w("An unexpected error occurred. Please try again.")}finally{p(!1)}},b=_=>{c(_),d(""),w(null)},x=(_,S)=>{S.stopPropagation(),r(_),(a==null?void 0:a.id)===_&&(c(null),d(""),w(null))},h=_=>_.split(" ").map(S=>S[0]).join("").toUpperCase().slice(0,2),v=_=>{switch(_==null?void 0:_.toLowerCase()){case"doctor":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300";case"nurse":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";case"admin":return"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300"}};return a?l.jsxs(je,{className:"w-full",children:[l.jsxs(en,{className:"text-center",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>c(null),className:"p-2",children:l.jsx(_0,{className:"h-4 w-4"})}),l.jsx("div",{className:"w-8"})]}),l.jsx(tn,{className:"text-xl font-bold",children:"Quick Sign In"}),l.jsxs(xr,{children:["Enter your password to continue as ",a.fullName]})]}),l.jsxs(Be,{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-muted rounded-lg",children:[l.jsx(wl,{className:"h-12 w-12",children:l.jsx(bl,{className:"bg-primary text-primary-foreground",children:h(a.fullName)})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"font-medium",children:a.fullName}),l.jsx("div",{className:"text-sm text-muted-foreground",children:a.email}),l.jsxs("div",{className:"flex gap-2 mt-1",children:[a.role&&l.jsx(ge,{className:v(a.role),children:a.role}),a.department&&l.jsx(ge,{variant:"outline",className:"text-xs",children:a.department})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Oe,{htmlFor:"password",children:"Password"}),l.jsx(Gt,{id:"password",type:"password",placeholder:"Enter your password",value:u,onChange:_=>d(_.target.value),onKeyPress:_=>_.key==="Enter"&&y(a),disabled:f})]}),l.jsx(ne,{onClick:()=>y(a),className:"w-full",disabled:f||!u,children:f?l.jsxs(l.Fragment,{children:[l.jsx(Jt,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing In..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Od,{className:"mr-2 h-4 w-4"}),"Sign In"]})}),m&&l.jsx(yl,{className:"border-destructive",children:l.jsx(xl,{className:"text-destructive",children:m})})]})]}):l.jsxs(je,{className:"w-full",children:[l.jsxs(en,{className:"text-center",children:[l.jsx(tn,{className:"text-xl font-bold",children:"Recent Users"}),l.jsx(xr,{children:"Choose your account for quick access"})]}),l.jsxs(Be,{className:"space-y-6",children:[n.length>0&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"flex items-center justify-end",children:n.length>1&&l.jsx(ne,{variant:"ghost",size:"sm",onClick:s,className:"text-muted-foreground hover:text-destructive",children:"Clear All"})}),l.jsx("div",{className:"space-y-2",children:n.map(_=>l.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-muted cursor-pointer transition-colors",onClick:()=>b(_),children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(wl,{className:"h-10 w-10",children:l.jsx(bl,{className:"bg-primary text-primary-foreground text-sm",children:h(_.fullName)})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"font-medium",children:_.fullName}),l.jsx("div",{className:"text-sm text-muted-foreground",children:_.email}),l.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[_.role&&l.jsx(ge,{className:v(_.role),variant:"secondary",children:_.role}),l.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[l.jsx(yr,{className:"h-3 w-3"}),T2(new Date(_.lastLoginAt),{addSuffix:!0})]})]})]})]}),l.jsx(ne,{variant:"ghost",size:"sm",onClick:S=>x(_.id,S),className:"text-muted-foreground hover:text-destructive",children:l.jsx(UN,{className:"h-4 w-4"})})]},_.id))})]}),l.jsx("div",{className:"space-y-3",children:n.length===0&&l.jsxs(ne,{onClick:t,className:"w-full",children:[l.jsx(Od,{className:"mr-2 h-4 w-4"}),"Sign In"]})})]})]})};function Kt({children:e}){const[t,n]=g.useState(!1),[r,s]=g.useState("portrait"),[o,i]=g.useState(!1);return g.useEffect(()=>{var c,u;const a=window.location.protocol==="capacitor:";if(i(a),a){(u=(c=document.documentElement).requestFullscreen)==null||u.call(c),n(!0);const d=document.querySelector('meta[name="viewport"]');d&&d.setAttribute("content","width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover");const f=()=>{s(window.innerWidth>window.innerHeight?"landscape":"portrait")};return window.addEventListener("orientationchange",f),window.addEventListener("resize",f),f(),()=>{window.removeEventListener("orientationchange",f),window.removeEventListener("resize",f)}}},[]),g.useEffect(()=>{if(!o)return;const a=new MutationObserver(u=>{u.forEach(d=>{if(d.type==="attributes"&&d.attributeName==="style"){const f=d.target;f.style.pointerEvents==="none"&&f.id==="app-root"&&(console.warn("Detected pointer-events: none on app-root, removing..."),f.style.pointerEvents="auto")}})}),c=document.getElementById("app-root");return c&&a.observe(c,{attributes:!0,subtree:!1}),()=>a.disconnect()},[o]),g.useEffect(()=>{const a="android-layout-styles";if(!document.getElementById(a)){const u=document.createElement("style");u.id=a,u.textContent=`
        .android-fullscreen {
          padding-top: env(safe-area-inset-top);
          padding-bottom: env(safe-area-inset-bottom);
          padding-left: env(safe-area-inset-left);
          padding-right: env(safe-area-inset-right);
        }
        
        .landscape-mode .container {
          max-width: none;
          padding-left: 2rem;
          padding-right: 2rem;
        }
        
        /* Optimize touch targets for robot interface */
        .landscape-mode button {
          min-height: 56px;
          min-width: 120px;
        }
        
        .landscape-mode input,
        .landscape-mode select,
        .landscape-mode textarea {
          min-height: 48px;
          font-size: 16px;
        }
      `,document.head.appendChild(u)}return()=>{const u=document.getElementById(a);u&&u.remove()}},[]),l.jsx("div",{className:H("min-h-screen w-full",t&&"android-fullscreen",r==="landscape"&&"landscape-mode",o&&"android-interface"),children:e})}function D2({patient:e}){return e?l.jsxs(je,{className:"bg-medical-pre-populated border-l-4 border-l-primary p-6 mb-6",children:[l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"bg-primary/10 p-3 rounded-full",children:l.jsx(Ni,{className:"h-6 w-6 text-primary"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-foreground",children:e.name}),l.jsxs("p",{className:"text-medical-pre-populated-foreground font-medium",children:["Hospital No: ",e.hospital_no]})]})]}),l.jsx(ge,{variant:"outline",className:"bg-primary text-primary-foreground border-primary",children:e.admission_type})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-4",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Ni,{className:"h-4 w-4 text-muted-foreground"}),l.jsxs("span",{className:"text-sm",children:[e.age," years, ",e.sex]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(hl,{className:"h-4 w-4 text-muted-foreground"}),l.jsxs("span",{className:"text-sm",children:[e.ward," ",e.bed&&`- Bed ${e.bed}`]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(x0,{className:"h-4 w-4 text-muted-foreground"}),l.jsx("span",{className:"text-sm",children:new Date(e.admission_date).toLocaleDateString()})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(yr,{className:"h-4 w-4 text-muted-foreground"}),l.jsx("span",{className:"text-sm",children:"Assessment Active"})]})]})]}):null}function L2(e,t){return g.useReducer((n,r)=>t[n][r]??n,e)}var vt=e=>{const{present:t,children:n}=e,r=$2(t),s=typeof n=="function"?n({present:r.isPresent}):g.Children.only(n),o=se(r.ref,F2(s));return typeof n=="function"||r.isPresent?g.cloneElement(s,{ref:o}):null};vt.displayName="Presence";function $2(e){const[t,n]=g.useState(),r=g.useRef(null),s=g.useRef(e),o=g.useRef("none"),i=e?"mounted":"unmounted",[a,c]=L2(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const u=ma(r.current);o.current=a==="mounted"?u:"none"},[a]),Ie(()=>{const u=r.current,d=s.current;if(d!==e){const p=o.current,m=ma(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&p!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Ie(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const y=ma(r.current).includes(m.animationName);if(m.target===t&&y&&(c("ANIMATION_END"),!s.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},p=m=>{m.target===t&&(o.current=ma(r.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:g.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function ma(e){return(e==null?void 0:e.animationName)||"none"}function F2(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var B2=g.createContext(void 0);function $i(e){const t=g.useContext(B2);return e||t||"ltr"}function Jd(e,[t,n]){return Math.min(n,Math.max(t,e))}function q(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function U2(e,t){return g.useReducer((n,r)=>t[n][r]??n,e)}var Sh="ScrollArea",[_x,k4]=Ct(Sh),[W2,Dt]=_x(Sh),Sx=g.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:o=600,...i}=e,[a,c]=g.useState(null),[u,d]=g.useState(null),[f,p]=g.useState(null),[m,w]=g.useState(null),[y,b]=g.useState(null),[x,h]=g.useState(0),[v,_]=g.useState(0),[S,k]=g.useState(!1),[N,E]=g.useState(!1),I=se(t,U=>c(U)),A=$i(s);return l.jsx(W2,{scope:n,type:r,dir:A,scrollHideDelay:o,scrollArea:a,viewport:u,onViewportChange:d,content:f,onContentChange:p,scrollbarX:m,onScrollbarXChange:w,scrollbarXEnabled:S,onScrollbarXEnabledChange:k,scrollbarY:y,onScrollbarYChange:b,scrollbarYEnabled:N,onScrollbarYEnabledChange:E,onCornerWidthChange:h,onCornerHeightChange:_,children:l.jsx(V.div,{dir:A,...i,ref:I,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":v+"px",...e.style}})})});Sx.displayName=Sh;var kx="ScrollAreaViewport",Nx=g.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:s,...o}=e,i=Dt(kx,n),a=g.useRef(null),c=se(t,a,i.onViewportChange);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),l.jsx(V.div,{"data-radix-scroll-area-viewport":"",...o,ref:c,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:l.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});Nx.displayName=kx;var bn="ScrollAreaScrollbar",kh=g.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Dt(bn,e.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:i}=s,a=e.orientation==="horizontal";return g.useEffect(()=>(a?o(!0):i(!0),()=>{a?o(!1):i(!1)}),[a,o,i]),s.type==="hover"?l.jsx(z2,{...r,ref:t,forceMount:n}):s.type==="scroll"?l.jsx(H2,{...r,ref:t,forceMount:n}):s.type==="auto"?l.jsx(Cx,{...r,ref:t,forceMount:n}):s.type==="always"?l.jsx(Nh,{...r,ref:t}):null});kh.displayName=bn;var z2=g.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Dt(bn,e.__scopeScrollArea),[o,i]=g.useState(!1);return g.useEffect(()=>{const a=s.scrollArea;let c=0;if(a){const u=()=>{window.clearTimeout(c),i(!0)},d=()=>{c=window.setTimeout(()=>i(!1),s.scrollHideDelay)};return a.addEventListener("pointerenter",u),a.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),a.removeEventListener("pointerenter",u),a.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),l.jsx(vt,{present:n||o,children:l.jsx(Cx,{"data-state":o?"visible":"hidden",...r,ref:t})})}),H2=g.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Dt(bn,e.__scopeScrollArea),o=e.orientation==="horizontal",i=cc(()=>c("SCROLL_END"),100),[a,c]=U2("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return g.useEffect(()=>{if(a==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[a,s.scrollHideDelay,c]),g.useEffect(()=>{const u=s.viewport,d=o?"scrollLeft":"scrollTop";if(u){let f=u[d];const p=()=>{const m=u[d];f!==m&&(c("SCROLL"),i()),f=m};return u.addEventListener("scroll",p),()=>u.removeEventListener("scroll",p)}},[s.viewport,o,c,i]),l.jsx(vt,{present:n||a!=="hidden",children:l.jsx(Nh,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:q(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:q(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),Cx=g.forwardRef((e,t)=>{const n=Dt(bn,e.__scopeScrollArea),{forceMount:r,...s}=e,[o,i]=g.useState(!1),a=e.orientation==="horizontal",c=cc(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;i(a?u:d)}},10);return fo(n.viewport,c),fo(n.content,c),l.jsx(vt,{present:r||o,children:l.jsx(Nh,{"data-state":o?"visible":"hidden",...s,ref:t})})}),Nh=g.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,s=Dt(bn,e.__scopeScrollArea),o=g.useRef(null),i=g.useRef(0),[a,c]=g.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=Rx(a.viewport,a.content),d={...r,sizes:a,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:p=>o.current=p,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:p=>i.current=p};function f(p,m){return X2(p,i.current,a,m)}return n==="horizontal"?l.jsx(V2,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const p=s.viewport.scrollLeft,m=fg(p,a,s.dir);o.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollLeft=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollLeft=f(p,s.dir))}}):n==="vertical"?l.jsx(Y2,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const p=s.viewport.scrollTop,m=fg(p,a);o.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollTop=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollTop=f(p))}}):null}),V2=g.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,o=Dt(bn,e.__scopeScrollArea),[i,a]=g.useState(),c=g.useRef(null),u=se(t,c,o.onScrollbarXChange);return g.useEffect(()=>{c.current&&a(getComputedStyle(c.current))},[c]),l.jsx(Ex,{"data-orientation":"horizontal",...s,ref:u,sizes:n,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":lc(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(o.viewport){const p=o.viewport.scrollLeft+d.deltaX;e.onWheelScroll(p),Ix(p,f)&&d.preventDefault()}},onResize:()=>{c.current&&o.viewport&&i&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Sl(i.paddingLeft),paddingEnd:Sl(i.paddingRight)}})}})}),Y2=g.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,o=Dt(bn,e.__scopeScrollArea),[i,a]=g.useState(),c=g.useRef(null),u=se(t,c,o.onScrollbarYChange);return g.useEffect(()=>{c.current&&a(getComputedStyle(c.current))},[c]),l.jsx(Ex,{"data-orientation":"vertical",...s,ref:u,sizes:n,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":lc(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(o.viewport){const p=o.viewport.scrollTop+d.deltaY;e.onWheelScroll(p),Ix(p,f)&&d.preventDefault()}},onResize:()=>{c.current&&o.viewport&&i&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Sl(i.paddingTop),paddingEnd:Sl(i.paddingBottom)}})}})}),[q2,jx]=_x(bn),Ex=g.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:o,onThumbPointerUp:i,onThumbPointerDown:a,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...p}=e,m=Dt(bn,n),[w,y]=g.useState(null),b=se(t,I=>y(I)),x=g.useRef(null),h=g.useRef(""),v=m.viewport,_=r.content-r.viewport,S=Ze(d),k=Ze(c),N=cc(f,10);function E(I){if(x.current){const A=I.clientX-x.current.left,U=I.clientY-x.current.top;u({x:A,y:U})}}return g.useEffect(()=>{const I=A=>{const U=A.target;(w==null?void 0:w.contains(U))&&S(A,_)};return document.addEventListener("wheel",I,{passive:!1}),()=>document.removeEventListener("wheel",I,{passive:!1})},[v,w,_,S]),g.useEffect(k,[r,k]),fo(w,N),fo(m.content,N),l.jsx(q2,{scope:n,scrollbar:w,hasThumb:s,onThumbChange:Ze(o),onThumbPointerUp:Ze(i),onThumbPositionChange:k,onThumbPointerDown:Ze(a),children:l.jsx(V.div,{...p,ref:b,style:{position:"absolute",...p.style},onPointerDown:q(e.onPointerDown,I=>{I.button===0&&(I.target.setPointerCapture(I.pointerId),x.current=w.getBoundingClientRect(),h.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),E(I))}),onPointerMove:q(e.onPointerMove,E),onPointerUp:q(e.onPointerUp,I=>{const A=I.target;A.hasPointerCapture(I.pointerId)&&A.releasePointerCapture(I.pointerId),document.body.style.webkitUserSelect=h.current,m.viewport&&(m.viewport.style.scrollBehavior=""),x.current=null})})})}),_l="ScrollAreaThumb",Px=g.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=jx(_l,e.__scopeScrollArea);return l.jsx(vt,{present:n||s.hasThumb,children:l.jsx(G2,{ref:t,...r})})}),G2=g.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...s}=e,o=Dt(_l,n),i=jx(_l,n),{onThumbPositionChange:a}=i,c=se(t,f=>i.onThumbChange(f)),u=g.useRef(void 0),d=cc(()=>{u.current&&(u.current(),u.current=void 0)},100);return g.useEffect(()=>{const f=o.viewport;if(f){const p=()=>{if(d(),!u.current){const m=Q2(f,a);u.current=m,a()}};return a(),f.addEventListener("scroll",p),()=>f.removeEventListener("scroll",p)}},[o.viewport,d,a]),l.jsx(V.div,{"data-state":i.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:q(e.onPointerDownCapture,f=>{const m=f.target.getBoundingClientRect(),w=f.clientX-m.left,y=f.clientY-m.top;i.onThumbPointerDown({x:w,y})}),onPointerUp:q(e.onPointerUp,i.onThumbPointerUp)})});Px.displayName=_l;var Ch="ScrollAreaCorner",Tx=g.forwardRef((e,t)=>{const n=Dt(Ch,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?l.jsx(K2,{...e,ref:t}):null});Tx.displayName=Ch;var K2=g.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,s=Dt(Ch,n),[o,i]=g.useState(0),[a,c]=g.useState(0),u=!!(o&&a);return fo(s.scrollbarX,()=>{var f;const d=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),fo(s.scrollbarY,()=>{var f;const d=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(d),i(d)}),u?l.jsx(V.div,{...r,ref:t,style:{width:o,height:a,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Sl(e){return e?parseInt(e,10):0}function Rx(e,t){const n=e/t;return isNaN(n)?0:n}function lc(e){const t=Rx(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function X2(e,t,n,r="ltr"){const s=lc(n),o=s/2,i=t||o,a=s-i,c=n.scrollbar.paddingStart+i,u=n.scrollbar.size-n.scrollbar.paddingEnd-a,d=n.content-n.viewport,f=r==="ltr"?[0,d]:[d*-1,0];return Ax([c,u],f)(e)}function fg(e,t,n="ltr"){const r=lc(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-s,i=t.content-t.viewport,a=o-r,c=n==="ltr"?[0,i]:[i*-1,0],u=Jd(e,c);return Ax([0,i],[0,a])(u)}function Ax(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function Ix(e,t){return e>0&&e<t}var Q2=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function s(){const o={left:e.scrollLeft,top:e.scrollTop},i=n.left!==o.left,a=n.top!==o.top;(i||a)&&t(),n=o,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function cc(e,t){const n=Ze(e),r=g.useRef(0);return g.useEffect(()=>()=>window.clearTimeout(r.current),[]),g.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function fo(e,t){const n=Ze(t);Ie(()=>{let r=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(e),()=>{window.cancelAnimationFrame(r),s.unobserve(e)}}},[e,n])}var Ox=Sx,J2=Nx,Z2=Tx;const kl=g.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(Ox,{ref:r,className:H("relative overflow-hidden",e),...n,children:[l.jsx(J2,{className:"h-full w-full rounded-[inherit]",children:t}),l.jsx(Mx,{}),l.jsx(Z2,{})]}));kl.displayName=Ox.displayName;const Mx=g.forwardRef(({className:e,orientation:t="vertical",...n},r)=>l.jsx(kh,{ref:r,orientation:t,className:H("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:l.jsx(Px,{className:"relative flex-1 rounded-full bg-border"})}));Mx.displayName=kh.displayName;const eT=1,tT=1e6;let _u=0;function nT(){return _u=(_u+1)%Number.MAX_SAFE_INTEGER,_u.toString()}const Su=new Map,hg=e=>{if(Su.has(e))return;const t=setTimeout(()=>{Su.delete(e),oi({type:"REMOVE_TOAST",toastId:e})},tT);Su.set(e,t)},rT=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,eT)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?hg(n):e.toasts.forEach(r=>{hg(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Ma=[];let Da={toasts:[]};function oi(e){Da=rT(Da,e),Ma.forEach(t=>{t(Da)})}function sT({...e}){const t=nT(),n=s=>oi({type:"UPDATE_TOAST",toast:{...s,id:t}}),r=()=>oi({type:"DISMISS_TOAST",toastId:t});return oi({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||r()}}}),{id:t,dismiss:r,update:n}}function jh(){const[e,t]=g.useState(Da);return g.useEffect(()=>(Ma.push(t),()=>{const n=Ma.indexOf(t);n>-1&&Ma.splice(n,1)}),[e]),{...e,toast:sT,dismiss:n=>oi({type:"DISMISS_TOAST",toastId:n})}}function oT({onRecordingStart:e,onRecordingStop:t,transcriptText:n,isProcessing:r=!1}){const{toast:s}=jh(),[o,i]=g.useState(!1),[a,c]=g.useState(null),[u,d]=g.useState([]),[f,p]=g.useState(null),m=g.useRef(null),w=async()=>{try{p(null);const h={audio:/iPad|iPhone|iPod/.test(navigator.userAgent)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1?{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0}:{sampleRate:44100,channelCount:1,echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0}},v=await navigator.mediaDevices.getUserMedia(h);return s({title:"Microphone Access Granted",description:"Recording is ready to start"}),v}catch(x){console.error("Microphone permission error:",x);let h="Unable to access microphone. ";switch(x.name){case"NotAllowedError":h+="Please allow microphone access in your browser settings and try again.";break;case"NotFoundError":h+="No microphone found. Please check your device.";break;case"NotReadableError":h+="Microphone is being used by another application.";break;case"OverconstrainedError":h+="Microphone constraints cannot be satisfied.";break;default:h+=`Error: ${x.message}`}return p(h),s({title:"Microphone Access Error",description:h,variant:"destructive"}),null}},y=async()=>{if(o)b();else{const x=await w();if(!x)return;try{m.current=x;let h="audio/webm;codecs=opus";MediaRecorder.isTypeSupported(h)||(h=["audio/webm","audio/mp4","audio/ogg;codecs=opus","audio/wav"].find(k=>MediaRecorder.isTypeSupported(k))||"");const v=new MediaRecorder(x,{mimeType:h||void 0}),_=[];v.ondataavailable=S=>{S.data.size>0&&_.push(S.data)},v.onstop=()=>{const S=new Blob(_,{type:h||"audio/webm"});d([]),t(S),m.current&&(m.current.getTracks().forEach(k=>k.stop()),m.current=null)},v.onerror=S=>{var k;console.error("MediaRecorder error:",S.error),s({title:"Recording Error",description:`Recording failed: ${((k=S.error)==null?void 0:k.message)||"Unknown error"}`,variant:"destructive"}),b()},c(v),d(_),v.start(1e3),i(!0),e(),s({title:"Recording Started",description:"Speak clearly into your device's microphone"})}catch(h){console.error("Error starting recording:",h),m.current&&(m.current.getTracks().forEach(v=>v.stop()),m.current=null),s({title:"Recording Error",description:`Failed to start recording: ${h.message}`,variant:"destructive"})}}},b=()=>{a&&a.state==="recording"&&a.stop(),i(!1),c(null)};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs(je,{className:"p-8 border-2 shadow-lg",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-6",children:[l.jsx("div",{className:H("p-4 rounded-full transition-all duration-300 shadow-md",o?"bg-red-100 dark:bg-red-900/20 animate-pulse":"bg-muted"),children:o?l.jsx(Md,{className:"h-8 w-8 text-red-500 animate-pulse"}):l.jsx(DN,{className:"h-6 w-6 text-muted-foreground"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-xl mb-1",children:o?"Recording Active":"Ready to Record"}),l.jsx("p",{className:"text-base text-muted-foreground",children:o?"Listening to conversation... Tap Stop when finished":"Start recording to begin AI-assisted documentation"})]})]}),l.jsx(ne,{onClick:y,size:"lg",variant:o?"destructive":"default",className:H("px-12 py-6 font-bold text-lg transition-all duration-200 min-h-[60px] min-w-[200px]","touch-manipulation select-none","active:scale-95 hover:shadow-lg",o&&"bg-red-500 hover:bg-red-600 shadow-red-200"),disabled:r,children:r?l.jsxs(l.Fragment,{children:[l.jsx(Jt,{className:"h-6 w-6 mr-3 animate-spin"}),"Processing..."]}):o?l.jsxs(l.Fragment,{children:[l.jsx(BN,{className:"h-6 w-6 mr-3"}),"Stop Scribing"]}):l.jsxs(l.Fragment,{children:[l.jsx(Md,{className:"h-6 w-6 mr-3"}),"Start Scribing"]})})]}),f&&l.jsx("div",{className:"mt-6 p-4 bg-yellow-50 dark:bg-yellow-900/20 rounded-xl border-2 border-yellow-200 dark:border-yellow-800",children:l.jsxs("div",{className:"flex items-start",children:[l.jsx(pl,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400 mt-0.5 mr-3 flex-shrink-0"}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-200 mb-1",children:"Microphone Access Required"}),l.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:f}),l.jsxs("div",{className:"mt-3 text-xs text-yellow-600 dark:text-yellow-400",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"On iPad/iPhone:"})," Go to Settings → Safari → Camera & Microphone → Allow"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"On other devices:"})," Look for the microphone icon in your browser's address bar"]})]})]})]})}),o&&l.jsx("div",{className:"mt-6 p-4 bg-red-50 dark:bg-red-900/20 rounded-xl border-2 border-red-200 dark:border-red-800 animate-pulse",children:l.jsxs("p",{className:"text-base text-red-700 dark:text-red-300 font-semibold flex items-center",children:[l.jsx("span",{className:"w-3 h-3 bg-red-500 rounded-full mr-3 animate-ping"}),"Recording in progress - Patient conversations are being processed for documentation"]})}),r&&l.jsx("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-xl border-2 border-blue-200 dark:border-blue-800",children:l.jsxs("p",{className:"text-base text-blue-700 dark:text-blue-300 font-semibold flex items-center",children:[l.jsx(Jt,{className:"h-4 w-4 mr-3 animate-spin"}),"Processing audio with AI - Transcribing and extracting form data..."]})})]}),n&&l.jsxs(je,{children:[l.jsx(en,{className:"pb-3",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs(tn,{className:"text-lg flex items-center gap-2",children:[l.jsx(w0,{className:"h-5 w-5"}),"Latest Conversation Transcript"]}),l.jsx(ge,{variant:"secondary",className:"text-xs",children:"Just Processed"})]})}),l.jsxs(Be,{children:[l.jsx(kl,{className:"h-32 w-full rounded-md border p-4",children:l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Recorded conversation:"}),l.jsx("p",{className:"text-sm leading-relaxed",children:n})]})}),l.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"This transcript was used to automatically fill form fields. You can edit any field manually if needed."})]})]})]})}var iT=gf[" useInsertionEffect ".trim().toString()]||Ie;function Ln({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,o,i]=aT({defaultProp:t,onChange:n}),a=e!==void 0,c=a?e:s;{const d=g.useRef(e!==void 0);g.useEffect(()=>{const f=d.current;f!==a&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,r])}const u=g.useCallback(d=>{var f;if(a){const p=lT(d)?d(e):d;p!==e&&((f=i.current)==null||f.call(i,p))}else o(d)},[a,e,o,i]);return[c,u]}function aT({defaultProp:e,onChange:t}){const[n,r]=g.useState(e),s=g.useRef(n),o=g.useRef(t);return iT(()=>{o.current=t},[t]),g.useEffect(()=>{var i;s.current!==n&&((i=o.current)==null||i.call(o,n),s.current=n)},[n,s]),[n,r,o]}function lT(e){return typeof e=="function"}var cT=gf[" useId ".trim().toString()]||(()=>{}),uT=0;function vn(e){const[t,n]=g.useState(cT());return Ie(()=>{e||n(r=>r??String(uT++))},[e]),e||(t?`radix-${t}`:"")}var uc="Collapsible",[dT,N4]=Ct(uc),[fT,Eh]=dT(uc),Dx=g.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:s,disabled:o,onOpenChange:i,...a}=e,[c,u]=Ln({prop:r,defaultProp:s??!1,onChange:i,caller:uc});return l.jsx(fT,{scope:n,disabled:o,contentId:vn(),open:c,onOpenToggle:g.useCallback(()=>u(d=>!d),[u]),children:l.jsx(V.div,{"data-state":Th(c),"data-disabled":o?"":void 0,...a,ref:t})})});Dx.displayName=uc;var Lx="CollapsibleTrigger",$x=g.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,s=Eh(Lx,n);return l.jsx(V.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":Th(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...r,ref:t,onClick:q(e.onClick,s.onOpenToggle)})});$x.displayName=Lx;var Ph="CollapsibleContent",Fx=g.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Eh(Ph,e.__scopeCollapsible);return l.jsx(vt,{present:n||s.open,children:({present:o})=>l.jsx(hT,{...r,ref:t,present:o})})});Fx.displayName=Ph;var hT=g.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:s,...o}=e,i=Eh(Ph,n),[a,c]=g.useState(r),u=g.useRef(null),d=se(t,u),f=g.useRef(0),p=f.current,m=g.useRef(0),w=m.current,y=i.open||a,b=g.useRef(y),x=g.useRef(void 0);return g.useEffect(()=>{const h=requestAnimationFrame(()=>b.current=!1);return()=>cancelAnimationFrame(h)},[]),Ie(()=>{const h=u.current;if(h){x.current=x.current||{transitionDuration:h.style.transitionDuration,animationName:h.style.animationName},h.style.transitionDuration="0s",h.style.animationName="none";const v=h.getBoundingClientRect();f.current=v.height,m.current=v.width,b.current||(h.style.transitionDuration=x.current.transitionDuration,h.style.animationName=x.current.animationName),c(r)}},[i.open,r]),l.jsx(V.div,{"data-state":Th(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!y,...o,ref:d,style:{"--radix-collapsible-content-height":p?`${p}px`:void 0,"--radix-collapsible-content-width":w?`${w}px`:void 0,...e.style},children:y&&s})});function Th(e){return e?"open":"closed"}var mT=Dx;const mg=mT,pg=$x,ku=Fx,Bx={temperature:{fieldId:"temperature",sectionId:"physical",sectionTitle:"Physical Assessment",fieldLabel:"Temperature",fieldType:"number",expectedFormat:"##.#°C",synonyms:["temp","body temperature","fever","pyrexia","temperature reading"],validationRules:{min:30,max:45},extractionHints:["Look for temperature values in Celsius","May be mentioned as fever or high temp","Normal range 36-37.5°C"]},pulse:{fieldId:"pulse",sectionId:"physical",sectionTitle:"Physical Assessment",fieldLabel:"Pulse Rate",fieldType:"number",expectedFormat:"## bpm",synonyms:["heart rate","HR","beats per minute","bpm","cardiac rate"],validationRules:{min:40,max:200},extractionHints:["Look for pulse or heart rate values","Usually expressed as beats per minute","Normal range 60-100 bpm"]},bp_systolic:{fieldId:"bp_systolic",sectionId:"physical",sectionTitle:"Physical Assessment",fieldLabel:"Systolic Blood Pressure",fieldType:"number",expectedFormat:"### mmHg",synonyms:["systolic BP","systolic pressure","upper BP","blood pressure systolic"],validationRules:{min:60,max:250},extractionHints:["First number in blood pressure reading","Look for BP format like 120/80","Normal range 100-140 mmHg"]},bp_diastolic:{fieldId:"bp_diastolic",sectionId:"physical",sectionTitle:"Physical Assessment",fieldLabel:"Diastolic Blood Pressure",fieldType:"number",expectedFormat:"## mmHg",synonyms:["diastolic BP","diastolic pressure","lower BP","blood pressure diastolic"],validationRules:{min:40,max:130},extractionHints:["Second number in blood pressure reading","Look for BP format like 120/80","Normal range 60-90 mmHg"]},respiratory_rate:{fieldId:"respiratory_rate",sectionId:"physical",sectionTitle:"Physical Assessment",fieldLabel:"Respiratory Rate",fieldType:"number",expectedFormat:"## breaths/min",synonyms:["RR","respiration rate","breathing rate","breaths per minute"],validationRules:{min:8,max:40},extractionHints:["Look for respiratory or breathing rate","Usually expressed as breaths per minute","Normal range 12-20 breaths/min"]},spo2:{fieldId:"spo2",sectionId:"physical",sectionTitle:"Physical Assessment",fieldLabel:"Oxygen Saturation",fieldType:"number",expectedFormat:"##%",synonyms:["SpO2","oxygen saturation","O2 sat","pulse oximetry","oxygen level"],validationRules:{min:70,max:100},extractionHints:["Look for SpO2 or oxygen saturation","Usually expressed as percentage","Normal range 95-100%"]},current_complaint:{fieldId:"current_complaint",sectionId:"physical",sectionTitle:"Physical Assessment",fieldLabel:"Current Complaint",fieldType:"textarea",synonyms:["chief complaint","presenting complaint","main problem","primary concern","symptoms"],extractionHints:["Patient's main reason for admission","Primary symptoms or concerns","What brought patient to hospital"]},level_of_consciousness:{fieldId:"level_of_consciousness",sectionId:"physical",sectionTitle:"Physical Assessment",fieldLabel:"Level of Consciousness",fieldType:"select",synonyms:["LOC","consciousness level","alertness","mental state","awareness"],options:["Alert","Drowsy","Lethargic","Stuporous","Comatose"],extractionHints:["Patient's alertness and awareness level","May be described as alert, drowsy, confused","Part of neurological assessment"]},pain_scale:{fieldId:"pain_scale",sectionId:"skin-pain",sectionTitle:"Skin/Pain Assessment",fieldLabel:"Pain Scale (0-10)",fieldType:"number",expectedFormat:"#/10",synonyms:["pain score","pain level","pain rating","pain intensity","VAS score"],validationRules:{min:0,max:10},extractionHints:["Numeric pain rating 0-10","0 = no pain, 10 = worst pain","May be described as mild/moderate/severe"]},pain_location:{fieldId:"pain_location",sectionId:"skin-pain",sectionTitle:"Skin/Pain Assessment",fieldLabel:"Pain Location",fieldType:"text",synonyms:["where is pain","pain site","location of pain","painful area"],extractionHints:["Where patient feels pain","Body part or region affected","May be multiple locations"]},morse_history_falling:{fieldId:"morse_history_falling",sectionId:"risk",sectionTitle:"Risk Assessment",fieldLabel:"History of Falling",fieldType:"radio",options:["No (0 points)","Yes (25 points)"],synonyms:["fall history","previous falls","history of falls","fallen before"],extractionHints:["Has patient fallen in past 3 months","Any mention of previous falls or accidents","Falls risk factor"]},morse_secondary_diagnosis:{fieldId:"morse_secondary_diagnosis",sectionId:"risk",sectionTitle:"Risk Assessment",fieldLabel:"Secondary Diagnosis",fieldType:"radio",options:["No (0 points)","Yes (15 points)"],synonyms:["multiple diagnoses","comorbidities","other conditions","additional diagnosis"],extractionHints:["Does patient have more than one medical diagnosis","Multiple conditions or comorbidities","Secondary medical problems"]},morse_ambulatory_aid:{fieldId:"morse_ambulatory_aid",sectionId:"risk",sectionTitle:"Risk Assessment",fieldLabel:"Ambulatory Aid",fieldType:"radio",options:["None/bed rest/nurse assist (0 points)","Crutches/cane/walker (15 points)","Furniture (30 points)"],synonyms:["walking aid","mobility aid","assistance walking","cane","walker","crutches"],extractionHints:["What patient uses to walk","Walking aids or support needed","Independence in mobility"]},morse_iv_therapy:{fieldId:"morse_iv_therapy",sectionId:"risk",sectionTitle:"Risk Assessment",fieldLabel:"IV Therapy/Heparin Lock",fieldType:"radio",options:["No (0 points)","Yes (20 points)"],synonyms:["IV line","intravenous","heparin lock","IV access","venous access"],extractionHints:["Does patient have IV line or heparin lock","Intravenous access present","IV therapy ongoing"]},morse_gait:{fieldId:"morse_gait",sectionId:"risk",sectionTitle:"Risk Assessment",fieldLabel:"Gait/Transferring",fieldType:"radio",options:["Normal/bed rest/immobile (0 points)","Weak (10 points)","Impaired (20 points)"],synonyms:["walking pattern","gait pattern","walking ability","mobility","transfer ability"],extractionHints:["How patient walks or moves","Stability when walking","Transfer independence"]},morse_mental_status:{fieldId:"morse_mental_status",sectionId:"risk",sectionTitle:"Risk Assessment",fieldLabel:"Mental Status",fieldType:"radio",options:["Oriented to own ability (0 points)","Forgets limitations (15 points)"],synonyms:["mental state","cognition","awareness","orientation","confusion"],extractionHints:["Patient's mental awareness of limitations","Does patient overestimate abilities","Cognitive awareness of safety"]},hearing_status:{fieldId:"hearing_status",sectionId:"communication",sectionTitle:"Communication/Respiration/Mobility",fieldLabel:"Hearing Status",fieldType:"select",synonyms:["hearing","auditory","deaf","hard of hearing","hearing impaired"],options:["Normal","Impaired","Hearing aid","Deaf"],extractionHints:["Patient's ability to hear","Any hearing problems mentioned","Use of hearing aids"]},vision_status:{fieldId:"vision_status",sectionId:"communication",sectionTitle:"Communication/Respiration/Mobility",fieldLabel:"Vision Status",fieldType:"select",synonyms:["vision","sight","eyesight","visual","blind","glasses"],options:["Normal","Impaired","Glasses/contacts","Legally blind"],extractionHints:["Patient's ability to see","Visual impairments mentioned","Use of glasses or contacts"]},language_preferred:{fieldId:"language_preferred",sectionId:"communication",sectionTitle:"Communication/Respiration/Mobility",fieldLabel:"Preferred Language",fieldType:"text",synonyms:["language","speaks","communication language","native language"],extractionHints:["What language patient prefers","Language barriers mentioned","Need for interpreter"]},bowel_pattern:{fieldId:"bowel_pattern",sectionId:"elimination",sectionTitle:"Elimination",fieldLabel:"Bowel Pattern",fieldType:"select",synonyms:["bowel movements","BM","defecation","stool","constipation","diarrhea"],options:["Normal","Constipated","Diarrhea","Incontinence"],extractionHints:["Patient's bowel movement pattern","Constipation or diarrhea mentioned","Bowel continence status"]},urinary_pattern:{fieldId:"urinary_pattern",sectionId:"elimination",sectionTitle:"Elimination",fieldLabel:"Urinary Pattern",fieldType:"select",synonyms:["urination","voiding","urine","bladder","incontinence","catheter"],options:["Normal","Frequency","Urgency","Incontinence","Retention"],extractionHints:["Patient's urination pattern","Bladder problems mentioned","Urinary continence status"]},appetite:{fieldId:"appetite",sectionId:"nutrition",sectionTitle:"Nutrition/Self-Care",fieldLabel:"Appetite",fieldType:"select",synonyms:["eating","food intake","hunger","appetite","nutrition"],options:["Good","Fair","Poor","NPO"],extractionHints:["Patient's appetite and eating","Food intake mentioned","Nutritional concerns"]},dietary_restrictions:{fieldId:"dietary_restrictions",sectionId:"nutrition",sectionTitle:"Nutrition/Self-Care",fieldLabel:"Dietary Restrictions",fieldType:"text",synonyms:["diet","food restrictions","allergies","special diet","diabetic diet"],extractionHints:["Special dietary needs","Food allergies or restrictions","Therapeutic diets"]},living_arrangement:{fieldId:"living_arrangement",sectionId:"social",sectionTitle:"Social Assessment",fieldLabel:"Living Arrangement",fieldType:"select",synonyms:["lives with","home situation","living situation","family support"],options:["Lives alone","With family","With spouse","Nursing home","Assisted living"],extractionHints:["Who patient lives with","Home living situation","Support system at home"]},discharge_planning_needs:{fieldId:"discharge_planning_needs",sectionId:"social",sectionTitle:"Social Assessment",fieldLabel:"Discharge Planning Needs",fieldType:"textarea",synonyms:["discharge planning","home care needs","follow-up care","support needed"],extractionHints:["Plans for after discharge","Support needed at home","Follow-up care requirements"]},emergency_contact_1_name:{fieldId:"emergency_contact_1_name",sectionId:"general",sectionTitle:"General Information",fieldLabel:"Emergency Contact 1 - Name",fieldType:"text",synonyms:["emergency contact","next of kin","family contact","contact person"],extractionHints:["Primary emergency contact name","Family member to contact","Next of kin information"]},emergency_contact_1_relationship:{fieldId:"emergency_contact_1_relationship",sectionId:"general",sectionTitle:"General Information",fieldLabel:"Emergency Contact 1 - Relationship",fieldType:"text",synonyms:["relationship","family member","spouse","child","parent","sibling"],extractionHints:["Relationship to patient","Family relationship","How they are related"]},emergency_contact_1_phone:{fieldId:"emergency_contact_1_phone",sectionId:"general",sectionTitle:"General Information",fieldLabel:"Emergency Contact 1 - Phone",fieldType:"text",expectedFormat:"+65 #### ####",synonyms:["phone number","contact number","telephone","mobile number"],extractionHints:["Phone number of emergency contact","Contact telephone number","Mobile or home phone"]}},pT=(e,t,n)=>{const r=Bx[e];if(!r)return{isValid:!1,errors:[`Unknown field ID: ${e}`],warnings:[],normalizedValue:t};const s=[],o=[];let i=t.trim();switch(n!==void 0&&n<.5&&o.push(`Low confidence score: ${n}`),r.fieldType){case"number":i=gT(r,t,s,o);break;case"select":case"radio":i=vT(r,t,s,o);break;case"text":case"textarea":i=yT(r,t,s,o);break;default:(!t||t.length===0)&&o.push("Empty value provided")}return{isValid:s.length===0,errors:s,warnings:o,normalizedValue:i}},gT=(e,t,n,r)=>{var i,a;const s=t.match(/(\d+\.?\d*)/);if(!s)return n.push(`Invalid numeric value: ${t}`),t;const o=parseFloat(s[1]);switch(((i=e.validationRules)==null?void 0:i.min)!==void 0&&o<e.validationRules.min&&n.push(`Value ${o} is below minimum ${e.validationRules.min}`),((a=e.validationRules)==null?void 0:a.max)!==void 0&&o>e.validationRules.max&&n.push(`Value ${o} is above maximum ${e.validationRules.max}`),e.fieldId){case"temperature":return(o<35||o>42)&&r.push(`Unusual temperature value: ${o}°C`),`${o}°C`;case"pulse":return(o<50||o>150)&&r.push(`Unusual pulse rate: ${o} bpm`),`${o} bpm`;case"bp_systolic":return(o<80||o>200)&&r.push(`Unusual systolic BP: ${o} mmHg`),`${o} mmHg`;case"bp_diastolic":return(o<40||o>120)&&r.push(`Unusual diastolic BP: ${o} mmHg`),`${o} mmHg`;case"respiratory_rate":return(o<10||o>30)&&r.push(`Unusual respiratory rate: ${o}/min`),`${o}/min`;case"spo2":return(o<85||o>100)&&r.push(`Unusual SpO2: ${o}%`),`${o}%`;case"pain_scale":return(o<0||o>10)&&n.push(`Pain scale must be 0-10, got: ${o}`),`${o}/10`;default:return o.toString()}},vT=(e,t,n,r)=>{if(!e.options||e.options.length===0)return t;const s=e.options.find(i=>i.toLowerCase()===t.toLowerCase());if(s)return s;const o=e.options.find(i=>i.toLowerCase().includes(t.toLowerCase())||t.toLowerCase().includes(i.toLowerCase()));if(o)return r.push(`Partial match found: "${t}" → "${o}"`),o;if(e.fieldId.startsWith("morse_")){const i=t.match(/\((\d+)\s*(?:points?)?\)/i);if(i){const a=i[1],c=e.options.find(u=>u.includes(`(${a}`));if(c)return r.push(`Matched by score: "${t}" → "${c}"`),c}}return n.push(`Invalid option "${t}". Valid options: ${e.options.join(", ")}`),t},yT=(e,t,n,r)=>{var o;let s=t.trim();if(s.length===0)return r.push("Empty text value"),s;if(s.length>1e3&&r.push(`Very long text (${s.length} characters)`),e.fieldId.includes("phone")){const i=s.match(/(\+?65\s?)?\d{4}\s?\d{4}/);i?(s=i[0].replace(/(\d{4})(\d{4})/,"$1 $2"),s.startsWith("+65")||(s=`+65 ${s}`)):s.match(/\d/)&&r.push(`Phone number format may be incorrect: ${s}`)}return(o=e.validationRules)!=null&&o.pattern&&(new RegExp(e.validationRules.pattern).test(s)||r.push(`Value doesn't match expected pattern: ${e.validationRules.pattern}`)),s},xT=e=>{const t=[];for(const n of e){const r=pT(n.fieldId,n.value,n.confidenceScore);t.push({fieldId:n.fieldId,originalValue:n.value,validation:r})}return wT(t),t},wT=e=>{const t=new Map;e.forEach(i=>t.set(i.fieldId,i));const n=t.get("bp_systolic"),r=t.get("bp_diastolic");if(n&&r){const i=parseFloat(n.validation.normalizedValue),a=parseFloat(r.validation.normalizedValue);!isNaN(i)&&!isNaN(a)&&i<=a&&(n.validation.errors.push("Systolic BP should be higher than diastolic BP"),r.validation.errors.push("Diastolic BP should be lower than systolic BP"),n.validation.isValid=!1,r.validation.isValid=!1)}const s=t.get("temperature"),o=t.get("pulse");if(s&&o){const i=parseFloat(s.validation.normalizedValue),a=parseFloat(o.validation.normalizedValue);!isNaN(i)&&!isNaN(a)&&i>38.5&&a<60&&(s.validation.warnings.push("High fever with unusually low pulse rate"),o.validation.warnings.push("Low pulse rate despite elevated temperature"))}},bT=e=>{const t=[];let n=0,r=0,s=0;for(const o of e)o.validation.isValid?n++:(r++,["temperature","pulse","bp_systolic","bp_diastolic","respiratory_rate","spo2"].includes(o.fieldId)&&t.push(`Critical: ${o.fieldId} - ${o.validation.errors.join(", ")}`)),o.validation.warnings.length>0&&s++;return{totalFields:e.length,validFields:n,fieldsWithErrors:r,fieldsWithWarnings:s,criticalErrors:t}};function _T({assessmentId:e,currentFieldValues:t}){const[n,r]=g.useState([]),[s,o]=g.useState([]),[i,a]=g.useState([]),[c,u]=g.useState(!0),[d,f]=g.useState(!1),[p,m]=g.useState(!0),w=g.useCallback(async()=>{if(e)try{const{data:_,error:S}=await ue.from("audio_transcripts").select("*").eq("assessment_id",e).order("created_at",{ascending:!1});S?console.error("Error loading scribe history:",S):r(_||[])}catch(_){console.error("Error in loadScribeHistory:",_)}},[e]),y=g.useCallback(async()=>{if(e)try{const{data:_,error:S}=await ue.from("form_field_values").select("*").eq("assessment_id",e).eq("data_source","ai-filled").order("created_at",{ascending:!1});if(S)console.error("Error loading AI-filled fields:",S);else{const k=_||[];o(k);const N=xT(k.map(I=>({fieldId:I.field_id,value:I.value,confidenceScore:.8}))),E=k.filter(I=>I.field_id&&I.value).map(I=>{const A=N.find(U=>U.fieldId===I.field_id);return{fieldData:I,validation:A||{fieldId:I.field_id||"",originalValue:I.value||"",validation:{isValid:!0,errors:[],warnings:[],normalizedValue:I.value||""}}}});a(E)}}catch(_){console.error("Error in loadAiFilledFields:",_)}},[e]),b=g.useCallback(async()=>{u(!0),await Promise.all([w(),y()]),u(!1)},[w,y]);g.useEffect(()=>{b();const _=ue.channel("audio_transcripts_changes").on("postgres_changes",{event:"*",schema:"public",table:"audio_transcripts",filter:`assessment_id=eq.${e}`},()=>{w()}).subscribe(),S=ue.channel("form_field_values_changes").on("postgres_changes",{event:"*",schema:"public",table:"form_field_values",filter:`assessment_id=eq.${e}`},()=>{y()}).subscribe();return()=>{_.unsubscribe(),S.unsubscribe()}},[e,b,w,y]);const x=_=>{const S=Bx[_];return S?S.fieldLabel:{morse_history_falling:"Fall History (Morse)",morse_secondary_diagnosis:"Secondary Diagnosis (Morse)",morse_ambulatory_aid:"Ambulatory Aid (Morse)",morse_iv_therapy:"IV Therapy/Heparin Lock (Morse)",morse_gait:"Gait/Transferring (Morse)",morse_mental_status:"Mental Status (Morse)"}[_]||_.replace(/_/g," ").replace(/\b\w/g,N=>N.toUpperCase())},h=_=>new Date(_).toLocaleString(),v=bT(i.map(_=>_.validation));return c?l.jsx(je,{children:l.jsxs(Be,{className:"flex items-center justify-center p-6",children:[l.jsx(ml,{className:"h-6 w-6 animate-spin mr-2"}),l.jsx("span",{children:"Loading AI extraction data..."})]})}):l.jsxs("div",{className:"space-y-4",children:[l.jsxs(je,{children:[l.jsxs(en,{children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(PN,{className:"h-5 w-5"}),l.jsx(tn,{children:"Enhanced AI-Extracted Data"})]}),l.jsxs(ne,{variant:"outline",size:"sm",onClick:b,children:[l.jsx(ml,{className:"h-4 w-4 mr-1"}),"Refresh"]})]}),l.jsxs(xr,{children:["Comprehensive field extraction with validation from ",s.length," AI-processed transcripts"]}),v.totalFields>0&&l.jsxs("div",{className:"flex items-center gap-4 pt-2",children:[l.jsxs(ge,{variant:"outline",className:"flex items-center gap-1",children:[l.jsx(oo,{className:"h-3 w-3 text-green-600"}),v.validFields," Valid"]}),v.fieldsWithErrors>0&&l.jsxs(ge,{variant:"destructive",className:"flex items-center gap-1",children:[l.jsx(cu,{className:"h-3 w-3"}),v.fieldsWithErrors," Errors"]}),v.fieldsWithWarnings>0&&l.jsxs(ge,{variant:"secondary",className:"flex items-center gap-1",children:[l.jsx(vr,{className:"h-3 w-3 text-yellow-600"}),v.fieldsWithWarnings," Warnings"]})]})]}),l.jsx(Be,{children:i.length===0?l.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[l.jsx(Md,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),l.jsx("p",{children:"No AI-extracted data available yet."}),l.jsx("p",{className:"text-sm mt-1",children:"Start recording to extract patient information automatically."})]}):l.jsxs(mg,{open:p,onOpenChange:m,children:[l.jsx(pg,{asChild:!0,children:l.jsxs(ne,{variant:"ghost",className:"flex items-center gap-2 w-full justify-start p-0 h-auto",children:[p?l.jsx(Id,{className:"h-4 w-4"}):l.jsx(fl,{className:"h-4 w-4"}),l.jsxs("span",{className:"font-medium",children:["Extracted Fields (",i.length,")"]}),v.criticalErrors.length>0&&l.jsxs(ge,{variant:"destructive",className:"ml-2",children:[v.criticalErrors.length," Critical"]})]})}),l.jsx(ku,{className:"space-y-2 mt-4",children:l.jsx(kl,{className:"h-[400px]",children:l.jsx("div",{className:"space-y-3",children:i.map((_,S)=>l.jsx("div",{className:`p-3 rounded-lg border ${_.validation.validation.isValid?_.validation.validation.warnings.length>0?"border-yellow-200 bg-yellow-50":"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"font-medium text-sm",children:x(_.fieldData.field_id)}),l.jsx(ge,{variant:"outline",className:"text-xs",children:_.fieldData.section_id})]}),l.jsxs("div",{className:"mt-1",children:[l.jsx("span",{className:"text-sm font-mono bg-white px-2 py-1 rounded border",children:_.validation.validation.normalizedValue}),_.validation.originalValue!==_.validation.validation.normalizedValue&&l.jsxs("span",{className:"text-xs text-muted-foreground ml-2",children:["(normalized from: ",_.validation.originalValue,")"]})]}),_.validation.validation.errors.length>0&&l.jsx("div",{className:"mt-2",children:_.validation.validation.errors.map((k,N)=>l.jsxs("div",{className:"flex items-center gap-1 text-xs text-red-600",children:[l.jsx(cu,{className:"h-3 w-3"}),k]},N))}),_.validation.validation.warnings.length>0&&l.jsx("div",{className:"mt-2",children:_.validation.validation.warnings.map((k,N)=>l.jsxs("div",{className:"flex items-center gap-1 text-xs text-yellow-600",children:[l.jsx(vr,{className:"h-3 w-3"}),k]},N))}),_.fieldData.ai_source_text&&l.jsxs("div",{className:"mt-2 text-xs text-muted-foreground",children:[l.jsx("strong",{children:"Source:"}),' "',_.fieldData.ai_source_text,'"']})]}),l.jsxs("div",{className:"flex items-center gap-1 ml-3",children:[_.validation.validation.isValid?l.jsx(oo,{className:"h-4 w-4 text-green-600"}):l.jsx(cu,{className:"h-4 w-4 text-red-600"}),l.jsx("span",{className:"text-xs text-muted-foreground",children:h(_.fieldData.created_at).split(" ")[1]})]})]})},`${_.fieldData.id}-${S}`))})})})]})})]}),l.jsx(je,{children:l.jsxs(mg,{open:d,onOpenChange:f,children:[l.jsxs(en,{children:[l.jsx(pg,{asChild:!0,children:l.jsxs(ne,{variant:"ghost",className:"flex items-center gap-2 w-full justify-start p-0 h-auto",children:[d?l.jsx(Id,{className:"h-4 w-4"}):l.jsx(fl,{className:"h-4 w-4"}),l.jsx(yr,{className:"h-4 w-4"}),l.jsxs(tn,{className:"text-left",children:["Scribe History (",n.length,")"]})]})}),l.jsx(ku,{children:l.jsx(xr,{className:"mt-2",children:"Complete history of audio transcriptions and AI processing"})})]}),l.jsx(ku,{children:l.jsx(Be,{children:n.length===0?l.jsxs("div",{className:"text-center py-6 text-muted-foreground",children:[l.jsx(yr,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),l.jsx("p",{children:"No transcription history yet."})]}):l.jsx(kl,{className:"h-[300px]",children:l.jsx("div",{className:"space-y-3",children:n.map((_,S)=>l.jsxs("div",{className:"border rounded-lg p-3",children:[l.jsxs("div",{className:"flex items-start justify-between mb-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ge,{variant:_.processed?"default":"secondary",children:_.processed?"Processed":"Processing"}),l.jsx("span",{className:"text-sm text-muted-foreground",children:h(_.created_at)})]}),l.jsx(WN,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsx("div",{className:"text-sm",children:l.jsx("p",{className:"line-clamp-3",children:_.transcript_text})})]},_.id))})})})})]})})]})}function ST({scores:e}){const t=r=>{switch(r){case"low":return l.jsx(Gr,{className:"h-4 w-4"});case"medium":return l.jsx(vr,{className:"h-4 w-4"});case"high":return l.jsx(pl,{className:"h-4 w-4"});case"none":return l.jsx(Gr,{className:"h-4 w-4 opacity-50"});default:return l.jsx(Gr,{className:"h-4 w-4"})}},n=r=>{switch(r){case"low":return"bg-risk-low text-risk-low-foreground border-risk-low-foreground/20";case"medium":return"bg-risk-medium text-risk-medium-foreground border-risk-medium-foreground/20";case"high":return"bg-risk-high text-risk-high-foreground border-risk-high-foreground/20";case"none":return"bg-muted text-muted-foreground border-muted-foreground/20";default:return"bg-risk-low text-risk-low-foreground border-risk-low-foreground/20"}};return l.jsxs(je,{className:"p-6 mb-6",children:[l.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[l.jsx(pl,{className:"h-5 w-5 mr-2 text-primary"}),"Risk Assessment Scores"]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:e.map(r=>l.jsxs("div",{className:H("p-4 rounded-lg border transition-colors",n(r.level)),children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[t(r.level),l.jsx("span",{className:"font-medium text-sm",children:r.name})]}),l.jsx(ge,{variant:"outline",className:H("text-xs capitalize",r.level==="high"&&"border-destructive text-destructive",r.level==="medium"&&"border-warning text-warning",r.level==="low"&&"border-success text-success",r.level==="none"&&"border-muted-foreground text-muted-foreground"),children:r.level==="none"?"N/A":r.level})]}),l.jsxs("div",{className:"text-2xl font-bold mb-1",children:[r.score!==null?r.score:"-",l.jsxs("span",{className:"text-sm font-normal opacity-70",children:["/",r.maxScore]})]}),l.jsx("p",{className:"text-xs opacity-80",children:r.description})]},r.name))})]})}function Ux(e){const t=e+"CollectionProvider",[n,r]=Ct(t),[s,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=y=>{const{scope:b,children:x}=y,h=$.useRef(null),v=$.useRef(new Map).current;return l.jsx(s,{scope:b,itemMap:v,collectionRef:h,children:x})};i.displayName=t;const a=e+"CollectionSlot",c=es(a),u=$.forwardRef((y,b)=>{const{scope:x,children:h}=y,v=o(a,x),_=se(b,v.collectionRef);return l.jsx(c,{ref:_,children:h})});u.displayName=a;const d=e+"CollectionItemSlot",f="data-radix-collection-item",p=es(d),m=$.forwardRef((y,b)=>{const{scope:x,children:h,...v}=y,_=$.useRef(null),S=se(b,_),k=o(d,x);return $.useEffect(()=>(k.itemMap.set(_,{ref:_,...v}),()=>void k.itemMap.delete(_))),l.jsx(p,{[f]:"",ref:S,children:h})});m.displayName=d;function w(y){const b=o(e+"CollectionConsumer",y);return $.useCallback(()=>{const h=b.collectionRef.current;if(!h)return[];const v=Array.from(h.querySelectorAll(`[${f}]`));return Array.from(b.itemMap.values()).sort((k,N)=>v.indexOf(k.ref.current)-v.indexOf(N.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:i,Slot:u,ItemSlot:m},w,r]}var Nu="rovingFocusGroup.onEntryFocus",kT={bubbles:!1,cancelable:!0},Fi="RovingFocusGroup",[Zd,Wx,NT]=Ux(Fi),[CT,dc]=Ct(Fi,[NT]),[jT,ET]=CT(Fi),zx=g.forwardRef((e,t)=>l.jsx(Zd.Provider,{scope:e.__scopeRovingFocusGroup,children:l.jsx(Zd.Slot,{scope:e.__scopeRovingFocusGroup,children:l.jsx(PT,{...e,ref:t})})}));zx.displayName=Fi;var PT=g.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,p=g.useRef(null),m=se(t,p),w=$i(o),[y,b]=Ln({prop:i,defaultProp:a??null,onChange:c,caller:Fi}),[x,h]=g.useState(!1),v=Ze(u),_=Wx(n),S=g.useRef(!1),[k,N]=g.useState(0);return g.useEffect(()=>{const E=p.current;if(E)return E.addEventListener(Nu,v),()=>E.removeEventListener(Nu,v)},[v]),l.jsx(jT,{scope:n,orientation:r,dir:w,loop:s,currentTabStopId:y,onItemFocus:g.useCallback(E=>b(E),[b]),onItemShiftTab:g.useCallback(()=>h(!0),[]),onFocusableItemAdd:g.useCallback(()=>N(E=>E+1),[]),onFocusableItemRemove:g.useCallback(()=>N(E=>E-1),[]),children:l.jsx(V.div,{tabIndex:x||k===0?-1:0,"data-orientation":r,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:q(e.onMouseDown,()=>{S.current=!0}),onFocus:q(e.onFocus,E=>{const I=!S.current;if(E.target===E.currentTarget&&I&&!x){const A=new CustomEvent(Nu,kT);if(E.currentTarget.dispatchEvent(A),!A.defaultPrevented){const U=_().filter(L=>L.focusable),T=U.find(L=>L.active),O=U.find(L=>L.id===y),D=[T,O,...U].filter(Boolean).map(L=>L.ref.current);Yx(D,d)}}S.current=!1}),onBlur:q(e.onBlur,()=>h(!1))})})}),Hx="RovingFocusGroupItem",Vx=g.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:o,children:i,...a}=e,c=vn(),u=o||c,d=ET(Hx,n),f=d.currentTabStopId===u,p=Wx(n),{onFocusableItemAdd:m,onFocusableItemRemove:w,currentTabStopId:y}=d;return g.useEffect(()=>{if(r)return m(),()=>w()},[r,m,w]),l.jsx(Zd.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:l.jsx(V.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...a,ref:t,onMouseDown:q(e.onMouseDown,b=>{r?d.onItemFocus(u):b.preventDefault()}),onFocus:q(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:q(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){d.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const x=AT(b,d.orientation,d.dir);if(x!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let v=p().filter(_=>_.focusable).map(_=>_.ref.current);if(x==="last")v.reverse();else if(x==="prev"||x==="next"){x==="prev"&&v.reverse();const _=v.indexOf(b.currentTarget);v=d.loop?IT(v,_+1):v.slice(_+1)}setTimeout(()=>Yx(v))}}),children:typeof i=="function"?i({isCurrentTabStop:f,hasTabStop:y!=null}):i})})});Vx.displayName=Hx;var TT={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function RT(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function AT(e,t,n){const r=RT(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return TT[r]}function Yx(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function IT(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var qx=zx,Gx=Vx,fc="Tabs",[OT,C4]=Ct(fc,[dc]),Kx=dc(),[MT,Rh]=OT(fc),Xx=g.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:o,orientation:i="horizontal",dir:a,activationMode:c="automatic",...u}=e,d=$i(a),[f,p]=Ln({prop:r,onChange:s,defaultProp:o??"",caller:fc});return l.jsx(MT,{scope:n,baseId:vn(),value:f,onValueChange:p,orientation:i,dir:d,activationMode:c,children:l.jsx(V.div,{dir:d,"data-orientation":i,...u,ref:t})})});Xx.displayName=fc;var Qx="TabsList",Jx=g.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,o=Rh(Qx,n),i=Kx(n);return l.jsx(qx,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:r,children:l.jsx(V.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:t})})});Jx.displayName=Qx;var Zx="TabsTrigger",ew=g.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...o}=e,i=Rh(Zx,n),a=Kx(n),c=rw(i.baseId,r),u=sw(i.baseId,r),d=r===i.value;return l.jsx(Gx,{asChild:!0,...a,focusable:!s,active:d,children:l.jsx(V.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...o,ref:t,onMouseDown:q(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?i.onValueChange(r):f.preventDefault()}),onKeyDown:q(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&i.onValueChange(r)}),onFocus:q(e.onFocus,()=>{const f=i.activationMode!=="manual";!d&&!s&&f&&i.onValueChange(r)})})})});ew.displayName=Zx;var tw="TabsContent",nw=g.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:o,...i}=e,a=Rh(tw,n),c=rw(a.baseId,r),u=sw(a.baseId,r),d=r===a.value,f=g.useRef(d);return g.useEffect(()=>{const p=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(p)},[]),l.jsx(vt,{present:s||d,children:({present:p})=>l.jsx(V.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:u,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:p&&o})})});nw.displayName=tw;function rw(e,t){return`${e}-trigger-${t}`}function sw(e,t){return`${e}-content-${t}`}var DT=Xx,ow=Jx,iw=ew,aw=nw;const lw=DT,Ah=g.forwardRef(({className:e,...t},n)=>l.jsx(ow,{ref:n,className:H("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Ah.displayName=ow.displayName;const Nl=g.forwardRef(({className:e,...t},n)=>l.jsx(iw,{ref:n,className:H("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Nl.displayName=iw.displayName;const gt=g.forwardRef(({className:e,...t},n)=>l.jsx(aw,{ref:n,className:H("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));gt.displayName=aw.displayName;function LT({sections:e,currentSection:t,onSectionChange:n,children:r}){const s=o=>{if(o.hasErrors)return l.jsx(vr,{className:"w-4 h-4 text-destructive"});if(o.completed)return l.jsx(uh,{className:"w-4 h-4 text-green-600"});if(o.completedFields&&o.fieldsCount){const i=Math.round(o.completedFields/o.fieldsCount*100);return l.jsxs(ge,{variant:"secondary",className:"text-xs",children:[i,"%"]})}return null};return l.jsx(je,{className:"p-6",children:l.jsxs(lw,{value:t,onValueChange:n,className:"w-full",children:[l.jsx("div",{className:"mb-6 overflow-x-auto",children:l.jsx(Ah,{className:"inline-flex h-auto p-1 space-x-1 bg-muted rounded-lg min-w-full",children:e.map(o=>l.jsxs(Nl,{value:o.id,className:H("flex items-center space-x-2 px-4 py-3 text-sm font-medium rounded-md transition-all","data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm","flex-shrink-0 min-w-fit whitespace-nowrap",o.hasErrors&&"text-destructive",o.completed&&"text-green-600"),children:[l.jsx("span",{children:o.title}),s(o)]},o.id))})}),r]})})}const cw=g.forwardRef(({className:e,...t},n)=>l.jsx("textarea",{className:H("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));cw.displayName="Textarea";function $T(e,t=globalThis==null?void 0:globalThis.document){const n=Ze(e);g.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var FT="DismissableLayer",ef="dismissableLayer.update",BT="dismissableLayer.pointerDownOutside",UT="dismissableLayer.focusOutside",gg,uw=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),hc=g.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:a,...c}=e,u=g.useContext(uw),[d,f]=g.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=g.useState({}),w=se(t,N=>f(N)),y=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=y.indexOf(b),h=d?y.indexOf(d):-1,v=u.layersWithOutsidePointerEventsDisabled.size>0,_=h>=x,S=HT(N=>{const E=N.target,I=[...u.branches].some(A=>A.contains(E));!_||I||(s==null||s(N),i==null||i(N),N.defaultPrevented||a==null||a())},p),k=VT(N=>{const E=N.target;[...u.branches].some(A=>A.contains(E))||(o==null||o(N),i==null||i(N),N.defaultPrevented||a==null||a())},p);return $T(N=>{h===u.layers.size-1&&(r==null||r(N),!N.defaultPrevented&&a&&(N.preventDefault(),a()))},p),g.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(gg=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),vg(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=gg)}},[d,p,n,u]),g.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),vg())},[d,u]),g.useEffect(()=>{const N=()=>m({});return document.addEventListener(ef,N),()=>document.removeEventListener(ef,N)},[]),l.jsx(V.div,{...c,ref:w,style:{pointerEvents:v?_?"auto":"none":void 0,...e.style},onFocusCapture:q(e.onFocusCapture,k.onFocusCapture),onBlurCapture:q(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:q(e.onPointerDownCapture,S.onPointerDownCapture)})});hc.displayName=FT;var WT="DismissableLayerBranch",zT=g.forwardRef((e,t)=>{const n=g.useContext(uw),r=g.useRef(null),s=se(t,r);return g.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),l.jsx(V.div,{...e,ref:s})});zT.displayName=WT;function HT(e,t=globalThis==null?void 0:globalThis.document){const n=Ze(e),r=g.useRef(!1),s=g.useRef(()=>{});return g.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let c=function(){dw(BT,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function VT(e,t=globalThis==null?void 0:globalThis.document){const n=Ze(e),r=g.useRef(!1);return g.useEffect(()=>{const s=o=>{o.target&&!r.current&&dw(UT,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function vg(){const e=new CustomEvent(ef);document.dispatchEvent(e)}function dw(e,t,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?KE(s,o):s.dispatchEvent(o)}var Cu=0;function Ih(){g.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??yg()),document.body.insertAdjacentElement("beforeend",e[1]??yg()),Cu++,()=>{Cu===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Cu--}},[])}function yg(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var ju="focusScope.autoFocusOnMount",Eu="focusScope.autoFocusOnUnmount",xg={bubbles:!1,cancelable:!0},YT="FocusScope",mc=g.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=e,[a,c]=g.useState(null),u=Ze(s),d=Ze(o),f=g.useRef(null),p=se(t,y=>c(y)),m=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(r){let y=function(v){if(m.paused||!a)return;const _=v.target;a.contains(_)?f.current=_:Qn(f.current,{select:!0})},b=function(v){if(m.paused||!a)return;const _=v.relatedTarget;_!==null&&(a.contains(_)||Qn(f.current,{select:!0}))},x=function(v){if(document.activeElement===document.body)for(const S of v)S.removedNodes.length>0&&Qn(a)};document.addEventListener("focusin",y),document.addEventListener("focusout",b);const h=new MutationObserver(x);return a&&h.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",b),h.disconnect()}}},[r,a,m.paused]),g.useEffect(()=>{if(a){bg.add(m);const y=document.activeElement;if(!a.contains(y)){const x=new CustomEvent(ju,xg);a.addEventListener(ju,u),a.dispatchEvent(x),x.defaultPrevented||(qT(JT(fw(a)),{select:!0}),document.activeElement===y&&Qn(a))}return()=>{a.removeEventListener(ju,u),setTimeout(()=>{const x=new CustomEvent(Eu,xg);a.addEventListener(Eu,d),a.dispatchEvent(x),x.defaultPrevented||Qn(y??document.body,{select:!0}),a.removeEventListener(Eu,d),bg.remove(m)},0)}}},[a,u,d,m]);const w=g.useCallback(y=>{if(!n&&!r||m.paused)return;const b=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,x=document.activeElement;if(b&&x){const h=y.currentTarget,[v,_]=GT(h);v&&_?!y.shiftKey&&x===_?(y.preventDefault(),n&&Qn(v,{select:!0})):y.shiftKey&&x===v&&(y.preventDefault(),n&&Qn(_,{select:!0})):x===h&&y.preventDefault()}},[n,r,m.paused]);return l.jsx(V.div,{tabIndex:-1,...i,ref:p,onKeyDown:w})});mc.displayName=YT;function qT(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Qn(r,{select:t}),document.activeElement!==n)return}function GT(e){const t=fw(e),n=wg(t,e),r=wg(t.reverse(),e);return[n,r]}function fw(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function wg(e,t){for(const n of e)if(!KT(n,{upTo:t}))return n}function KT(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function XT(e){return e instanceof HTMLInputElement&&"select"in e}function Qn(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&XT(e)&&t&&e.select()}}var bg=QT();function QT(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=_g(e,t),e.unshift(t)},remove(t){var n;e=_g(e,t),(n=e[0])==null||n.resume()}}}function _g(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function JT(e){return e.filter(t=>t.tagName!=="A")}const ZT=["top","right","bottom","left"],wr=Math.min,xt=Math.max,Cl=Math.round,pa=Math.floor,yn=e=>({x:e,y:e}),eR={left:"right",right:"left",bottom:"top",top:"bottom"},tR={start:"end",end:"start"};function tf(e,t,n){return xt(e,wr(t,n))}function $n(e,t){return typeof e=="function"?e(t):e}function Fn(e){return e.split("-")[0]}function So(e){return e.split("-")[1]}function Oh(e){return e==="x"?"y":"x"}function Mh(e){return e==="y"?"height":"width"}const nR=new Set(["top","bottom"]);function mn(e){return nR.has(Fn(e))?"y":"x"}function Dh(e){return Oh(mn(e))}function rR(e,t,n){n===void 0&&(n=!1);const r=So(e),s=Dh(e),o=Mh(s);let i=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=jl(i)),[i,jl(i)]}function sR(e){const t=jl(e);return[nf(e),t,nf(t)]}function nf(e){return e.replace(/start|end/g,t=>tR[t])}const Sg=["left","right"],kg=["right","left"],oR=["top","bottom"],iR=["bottom","top"];function aR(e,t,n){switch(e){case"top":case"bottom":return n?t?kg:Sg:t?Sg:kg;case"left":case"right":return t?oR:iR;default:return[]}}function lR(e,t,n,r){const s=So(e);let o=aR(Fn(e),n==="start",r);return s&&(o=o.map(i=>i+"-"+s),t&&(o=o.concat(o.map(nf)))),o}function jl(e){return e.replace(/left|right|bottom|top/g,t=>eR[t])}function cR(e){return{top:0,right:0,bottom:0,left:0,...e}}function hw(e){return typeof e!="number"?cR(e):{top:e,right:e,bottom:e,left:e}}function El(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function Ng(e,t,n){let{reference:r,floating:s}=e;const o=mn(t),i=Dh(t),a=Mh(i),c=Fn(t),u=o==="y",d=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let m;switch(c){case"top":m={x:d,y:r.y-s.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-s.width,y:f};break;default:m={x:r.x,y:r.y}}switch(So(t)){case"start":m[i]-=p*(n&&u?-1:1);break;case"end":m[i]+=p*(n&&u?-1:1);break}return m}const uR=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:i}=n,a=o.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=Ng(u,r,c),p=r,m={},w=0;for(let y=0;y<a.length;y++){const{name:b,fn:x}=a[y],{x:h,y:v,data:_,reset:S}=await x({x:d,y:f,initialPlacement:r,placement:p,strategy:s,middlewareData:m,rects:u,platform:i,elements:{reference:e,floating:t}});d=h??d,f=v??f,m={...m,[b]:{...m[b],..._}},S&&w<=50&&(w++,typeof S=="object"&&(S.placement&&(p=S.placement),S.rects&&(u=S.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):S.rects),{x:d,y:f}=Ng(u,p,c)),y=-1)}return{x:d,y:f,placement:p,strategy:s,middlewareData:m}};async function ji(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:o,rects:i,elements:a,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:p=!1,padding:m=0}=$n(t,e),w=hw(m),b=a[p?f==="floating"?"reference":"floating":f],x=El(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(b)))==null||n?b:b.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:c})),h=f==="floating"?{x:r,y:s,width:i.floating.width,height:i.floating.height}:i.reference,v=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),_=await(o.isElement==null?void 0:o.isElement(v))?await(o.getScale==null?void 0:o.getScale(v))||{x:1,y:1}:{x:1,y:1},S=El(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:h,offsetParent:v,strategy:c}):h);return{top:(x.top-S.top+w.top)/_.y,bottom:(S.bottom-x.bottom+w.bottom)/_.y,left:(x.left-S.left+w.left)/_.x,right:(S.right-x.right+w.right)/_.x}}const dR=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:o,platform:i,elements:a,middlewareData:c}=t,{element:u,padding:d=0}=$n(e,t)||{};if(u==null)return{};const f=hw(d),p={x:n,y:r},m=Dh(s),w=Mh(m),y=await i.getDimensions(u),b=m==="y",x=b?"top":"left",h=b?"bottom":"right",v=b?"clientHeight":"clientWidth",_=o.reference[w]+o.reference[m]-p[m]-o.floating[w],S=p[m]-o.reference[m],k=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let N=k?k[v]:0;(!N||!await(i.isElement==null?void 0:i.isElement(k)))&&(N=a.floating[v]||o.floating[w]);const E=_/2-S/2,I=N/2-y[w]/2-1,A=wr(f[x],I),U=wr(f[h],I),T=A,O=N-y[w]-U,j=N/2-y[w]/2+E,D=tf(T,j,O),L=!c.arrow&&So(s)!=null&&j!==D&&o.reference[w]/2-(j<T?A:U)-y[w]/2<0,R=L?j<T?j-T:j-O:0;return{[m]:p[m]+R,data:{[m]:D,centerOffset:j-D-R,...L&&{alignmentOffset:R}},reset:L}}}),fR=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:o,rects:i,initialPlacement:a,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:y=!0,...b}=$n(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const x=Fn(s),h=mn(a),v=Fn(a)===a,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),S=p||(v||!y?[jl(a)]:sR(a)),k=w!=="none";!p&&k&&S.push(...lR(a,y,w,_));const N=[a,...S],E=await ji(t,b),I=[];let A=((r=o.flip)==null?void 0:r.overflows)||[];if(d&&I.push(E[x]),f){const j=rR(s,i,_);I.push(E[j[0]],E[j[1]])}if(A=[...A,{placement:s,overflows:I}],!I.every(j=>j<=0)){var U,T;const j=(((U=o.flip)==null?void 0:U.index)||0)+1,D=N[j];if(D&&(!(f==="alignment"?h!==mn(D):!1)||A.every(C=>C.overflows[0]>0&&mn(C.placement)===h)))return{data:{index:j,overflows:A},reset:{placement:D}};let L=(T=A.filter(R=>R.overflows[0]<=0).sort((R,C)=>R.overflows[1]-C.overflows[1])[0])==null?void 0:T.placement;if(!L)switch(m){case"bestFit":{var O;const R=(O=A.filter(C=>{if(k){const P=mn(C.placement);return P===h||P==="y"}return!0}).map(C=>[C.placement,C.overflows.filter(P=>P>0).reduce((P,F)=>P+F,0)]).sort((C,P)=>C[1]-P[1])[0])==null?void 0:O[0];R&&(L=R);break}case"initialPlacement":L=a;break}if(s!==L)return{reset:{placement:L}}}return{}}}};function Cg(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function jg(e){return ZT.some(t=>e[t]>=0)}const hR=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=$n(e,t);switch(r){case"referenceHidden":{const o=await ji(t,{...s,elementContext:"reference"}),i=Cg(o,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:jg(i)}}}case"escaped":{const o=await ji(t,{...s,altBoundary:!0}),i=Cg(o,n.floating);return{data:{escapedOffsets:i,escaped:jg(i)}}}default:return{}}}}},mw=new Set(["left","top"]);async function mR(e,t){const{placement:n,platform:r,elements:s}=e,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),i=Fn(n),a=So(n),c=mn(n)==="y",u=mw.has(i)?-1:1,d=o&&c?-1:1,f=$n(t,e);let{mainAxis:p,crossAxis:m,alignmentAxis:w}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof w=="number"&&(m=a==="end"?w*-1:w),c?{x:m*d,y:p*u}:{x:p*u,y:m*d}}const pR=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:o,placement:i,middlewareData:a}=t,c=await mR(t,e);return i===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:o+c.y,data:{...c,placement:i}}}}},gR=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:a={fn:b=>{let{x,y:h}=b;return{x,y:h}}},...c}=$n(e,t),u={x:n,y:r},d=await ji(t,c),f=mn(Fn(s)),p=Oh(f);let m=u[p],w=u[f];if(o){const b=p==="y"?"top":"left",x=p==="y"?"bottom":"right",h=m+d[b],v=m-d[x];m=tf(h,m,v)}if(i){const b=f==="y"?"top":"left",x=f==="y"?"bottom":"right",h=w+d[b],v=w-d[x];w=tf(h,w,v)}const y=a.fn({...t,[p]:m,[f]:w});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[p]:o,[f]:i}}}}}},vR=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:o,middlewareData:i}=t,{offset:a=0,mainAxis:c=!0,crossAxis:u=!0}=$n(e,t),d={x:n,y:r},f=mn(s),p=Oh(f);let m=d[p],w=d[f];const y=$n(a,t),b=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(c){const v=p==="y"?"height":"width",_=o.reference[p]-o.floating[v]+b.mainAxis,S=o.reference[p]+o.reference[v]-b.mainAxis;m<_?m=_:m>S&&(m=S)}if(u){var x,h;const v=p==="y"?"width":"height",_=mw.has(Fn(s)),S=o.reference[f]-o.floating[v]+(_&&((x=i.offset)==null?void 0:x[f])||0)+(_?0:b.crossAxis),k=o.reference[f]+o.reference[v]+(_?0:((h=i.offset)==null?void 0:h[f])||0)-(_?b.crossAxis:0);w<S?w=S:w>k&&(w=k)}return{[p]:m,[f]:w}}}},yR=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:o,platform:i,elements:a}=t,{apply:c=()=>{},...u}=$n(e,t),d=await ji(t,u),f=Fn(s),p=So(s),m=mn(s)==="y",{width:w,height:y}=o.floating;let b,x;f==="top"||f==="bottom"?(b=f,x=p===(await(i.isRTL==null?void 0:i.isRTL(a.floating))?"start":"end")?"left":"right"):(x=f,b=p==="end"?"top":"bottom");const h=y-d.top-d.bottom,v=w-d.left-d.right,_=wr(y-d[b],h),S=wr(w-d[x],v),k=!t.middlewareData.shift;let N=_,E=S;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(E=v),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(N=h),k&&!p){const A=xt(d.left,0),U=xt(d.right,0),T=xt(d.top,0),O=xt(d.bottom,0);m?E=w-2*(A!==0||U!==0?A+U:xt(d.left,d.right)):N=y-2*(T!==0||O!==0?T+O:xt(d.top,d.bottom))}await c({...t,availableWidth:E,availableHeight:N});const I=await i.getDimensions(a.floating);return w!==I.width||y!==I.height?{reset:{rects:!0}}:{}}}};function pc(){return typeof window<"u"}function ko(e){return pw(e)?(e.nodeName||"").toLowerCase():"#document"}function _t(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function _n(e){var t;return(t=(pw(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function pw(e){return pc()?e instanceof Node||e instanceof _t(e).Node:!1}function rn(e){return pc()?e instanceof Element||e instanceof _t(e).Element:!1}function wn(e){return pc()?e instanceof HTMLElement||e instanceof _t(e).HTMLElement:!1}function Eg(e){return!pc()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof _t(e).ShadowRoot}const xR=new Set(["inline","contents"]);function Bi(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=sn(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!xR.has(s)}const wR=new Set(["table","td","th"]);function bR(e){return wR.has(ko(e))}const _R=[":popover-open",":modal"];function gc(e){return _R.some(t=>{try{return e.matches(t)}catch{return!1}})}const SR=["transform","translate","scale","rotate","perspective"],kR=["transform","translate","scale","rotate","perspective","filter"],NR=["paint","layout","strict","content"];function Lh(e){const t=$h(),n=rn(e)?sn(e):e;return SR.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||kR.some(r=>(n.willChange||"").includes(r))||NR.some(r=>(n.contain||"").includes(r))}function CR(e){let t=br(e);for(;wn(t)&&!ho(t);){if(Lh(t))return t;if(gc(t))return null;t=br(t)}return null}function $h(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const jR=new Set(["html","body","#document"]);function ho(e){return jR.has(ko(e))}function sn(e){return _t(e).getComputedStyle(e)}function vc(e){return rn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function br(e){if(ko(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Eg(e)&&e.host||_n(e);return Eg(t)?t.host:t}function gw(e){const t=br(e);return ho(t)?e.ownerDocument?e.ownerDocument.body:e.body:wn(t)&&Bi(t)?t:gw(t)}function Ei(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=gw(e),o=s===((r=e.ownerDocument)==null?void 0:r.body),i=_t(s);if(o){const a=rf(i);return t.concat(i,i.visualViewport||[],Bi(s)?s:[],a&&n?Ei(a):[])}return t.concat(s,Ei(s,[],n))}function rf(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function vw(e){const t=sn(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=wn(e),o=s?e.offsetWidth:n,i=s?e.offsetHeight:r,a=Cl(n)!==o||Cl(r)!==i;return a&&(n=o,r=i),{width:n,height:r,$:a}}function Fh(e){return rn(e)?e:e.contextElement}function Gs(e){const t=Fh(e);if(!wn(t))return yn(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:o}=vw(t);let i=(o?Cl(n.width):n.width)/r,a=(o?Cl(n.height):n.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!a||!Number.isFinite(a))&&(a=1),{x:i,y:a}}const ER=yn(0);function yw(e){const t=_t(e);return!$h()||!t.visualViewport?ER:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function PR(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==_t(e)?!1:t}function ns(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),o=Fh(e);let i=yn(1);t&&(r?rn(r)&&(i=Gs(r)):i=Gs(e));const a=PR(o,n,r)?yw(o):yn(0);let c=(s.left+a.x)/i.x,u=(s.top+a.y)/i.y,d=s.width/i.x,f=s.height/i.y;if(o){const p=_t(o),m=r&&rn(r)?_t(r):r;let w=p,y=rf(w);for(;y&&r&&m!==w;){const b=Gs(y),x=y.getBoundingClientRect(),h=sn(y),v=x.left+(y.clientLeft+parseFloat(h.paddingLeft))*b.x,_=x.top+(y.clientTop+parseFloat(h.paddingTop))*b.y;c*=b.x,u*=b.y,d*=b.x,f*=b.y,c+=v,u+=_,w=_t(y),y=rf(w)}}return El({width:d,height:f,x:c,y:u})}function Bh(e,t){const n=vc(e).scrollLeft;return t?t.left+n:ns(_n(e)).left+n}function xw(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=r.left+t.scrollLeft-(n?0:Bh(e,r)),o=r.top+t.scrollTop;return{x:s,y:o}}function TR(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const o=s==="fixed",i=_n(r),a=t?gc(t.floating):!1;if(r===i||a&&o)return n;let c={scrollLeft:0,scrollTop:0},u=yn(1);const d=yn(0),f=wn(r);if((f||!f&&!o)&&((ko(r)!=="body"||Bi(i))&&(c=vc(r)),wn(r))){const m=ns(r);u=Gs(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const p=i&&!f&&!o?xw(i,c,!0):yn(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+p.x,y:n.y*u.y-c.scrollTop*u.y+d.y+p.y}}function RR(e){return Array.from(e.getClientRects())}function AR(e){const t=_n(e),n=vc(e),r=e.ownerDocument.body,s=xt(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=xt(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+Bh(e);const a=-n.scrollTop;return sn(r).direction==="rtl"&&(i+=xt(t.clientWidth,r.clientWidth)-s),{width:s,height:o,x:i,y:a}}function IR(e,t){const n=_t(e),r=_n(e),s=n.visualViewport;let o=r.clientWidth,i=r.clientHeight,a=0,c=0;if(s){o=s.width,i=s.height;const u=$h();(!u||u&&t==="fixed")&&(a=s.offsetLeft,c=s.offsetTop)}return{width:o,height:i,x:a,y:c}}const OR=new Set(["absolute","fixed"]);function MR(e,t){const n=ns(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,o=wn(e)?Gs(e):yn(1),i=e.clientWidth*o.x,a=e.clientHeight*o.y,c=s*o.x,u=r*o.y;return{width:i,height:a,x:c,y:u}}function Pg(e,t,n){let r;if(t==="viewport")r=IR(e,n);else if(t==="document")r=AR(_n(e));else if(rn(t))r=MR(t,n);else{const s=yw(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return El(r)}function ww(e,t){const n=br(e);return n===t||!rn(n)||ho(n)?!1:sn(n).position==="fixed"||ww(n,t)}function DR(e,t){const n=t.get(e);if(n)return n;let r=Ei(e,[],!1).filter(a=>rn(a)&&ko(a)!=="body"),s=null;const o=sn(e).position==="fixed";let i=o?br(e):e;for(;rn(i)&&!ho(i);){const a=sn(i),c=Lh(i);!c&&a.position==="fixed"&&(s=null),(o?!c&&!s:!c&&a.position==="static"&&!!s&&OR.has(s.position)||Bi(i)&&!c&&ww(e,i))?r=r.filter(d=>d!==i):s=a,i=br(i)}return t.set(e,r),r}function LR(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const i=[...n==="clippingAncestors"?gc(t)?[]:DR(t,this._c):[].concat(n),r],a=i[0],c=i.reduce((u,d)=>{const f=Pg(t,d,s);return u.top=xt(f.top,u.top),u.right=wr(f.right,u.right),u.bottom=wr(f.bottom,u.bottom),u.left=xt(f.left,u.left),u},Pg(t,a,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function $R(e){const{width:t,height:n}=vw(e);return{width:t,height:n}}function FR(e,t,n){const r=wn(t),s=_n(t),o=n==="fixed",i=ns(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const c=yn(0);function u(){c.x=Bh(s)}if(r||!r&&!o)if((ko(t)!=="body"||Bi(s))&&(a=vc(t)),r){const m=ns(t,!0,o,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else s&&u();o&&!r&&s&&u();const d=s&&!r&&!o?xw(s,a):yn(0),f=i.left+a.scrollLeft-c.x-d.x,p=i.top+a.scrollTop-c.y-d.y;return{x:f,y:p,width:i.width,height:i.height}}function Pu(e){return sn(e).position==="static"}function Tg(e,t){if(!wn(e)||sn(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return _n(e)===n&&(n=n.ownerDocument.body),n}function bw(e,t){const n=_t(e);if(gc(e))return n;if(!wn(e)){let s=br(e);for(;s&&!ho(s);){if(rn(s)&&!Pu(s))return s;s=br(s)}return n}let r=Tg(e,t);for(;r&&bR(r)&&Pu(r);)r=Tg(r,t);return r&&ho(r)&&Pu(r)&&!Lh(r)?n:r||CR(e)||n}const BR=async function(e){const t=this.getOffsetParent||bw,n=this.getDimensions,r=await n(e.floating);return{reference:FR(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function UR(e){return sn(e).direction==="rtl"}const WR={convertOffsetParentRelativeRectToViewportRelativeRect:TR,getDocumentElement:_n,getClippingRect:LR,getOffsetParent:bw,getElementRects:BR,getClientRects:RR,getDimensions:$R,getScale:Gs,isElement:rn,isRTL:UR};function _w(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function zR(e,t){let n=null,r;const s=_n(e);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function i(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),o();const u=e.getBoundingClientRect(),{left:d,top:f,width:p,height:m}=u;if(a||t(),!p||!m)return;const w=pa(f),y=pa(s.clientWidth-(d+p)),b=pa(s.clientHeight-(f+m)),x=pa(d),v={rootMargin:-w+"px "+-y+"px "+-b+"px "+-x+"px",threshold:xt(0,wr(1,c))||1};let _=!0;function S(k){const N=k[0].intersectionRatio;if(N!==c){if(!_)return i();N?i(!1,N):r=setTimeout(()=>{i(!1,1e-7)},1e3)}N===1&&!_w(u,e.getBoundingClientRect())&&i(),_=!1}try{n=new IntersectionObserver(S,{...v,root:s.ownerDocument})}catch{n=new IntersectionObserver(S,v)}n.observe(e)}return i(!0),o}function HR(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=Fh(e),d=s||o?[...u?Ei(u):[],...Ei(t)]:[];d.forEach(x=>{s&&x.addEventListener("scroll",n,{passive:!0}),o&&x.addEventListener("resize",n)});const f=u&&a?zR(u,n):null;let p=-1,m=null;i&&(m=new ResizeObserver(x=>{let[h]=x;h&&h.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var v;(v=m)==null||v.observe(t)})),n()}),u&&!c&&m.observe(u),m.observe(t));let w,y=c?ns(e):null;c&&b();function b(){const x=ns(e);y&&!_w(y,x)&&n(),y=x,w=requestAnimationFrame(b)}return n(),()=>{var x;d.forEach(h=>{s&&h.removeEventListener("scroll",n),o&&h.removeEventListener("resize",n)}),f==null||f(),(x=m)==null||x.disconnect(),m=null,c&&cancelAnimationFrame(w)}}const VR=pR,YR=gR,qR=fR,GR=yR,KR=hR,Rg=dR,XR=vR,QR=(e,t,n)=>{const r=new Map,s={platform:WR,...n},o={...s.platform,_c:r};return uR(e,t,{...s,platform:o})};var JR=typeof document<"u",ZR=function(){},La=JR?g.useLayoutEffect:ZR;function Pl(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Pl(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&e.$$typeof)&&!Pl(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function Sw(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Ag(e,t){const n=Sw(e);return Math.round(t*n)/n}function Tu(e){const t=g.useRef(e);return La(()=>{t.current=e}),t}function eA(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:i}={},transform:a=!0,whileElementsMounted:c,open:u}=e,[d,f]=g.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,m]=g.useState(r);Pl(p,r)||m(r);const[w,y]=g.useState(null),[b,x]=g.useState(null),h=g.useCallback(C=>{C!==k.current&&(k.current=C,y(C))},[]),v=g.useCallback(C=>{C!==N.current&&(N.current=C,x(C))},[]),_=o||w,S=i||b,k=g.useRef(null),N=g.useRef(null),E=g.useRef(d),I=c!=null,A=Tu(c),U=Tu(s),T=Tu(u),O=g.useCallback(()=>{if(!k.current||!N.current)return;const C={placement:t,strategy:n,middleware:p};U.current&&(C.platform=U.current),QR(k.current,N.current,C).then(P=>{const F={...P,isPositioned:T.current!==!1};j.current&&!Pl(E.current,F)&&(E.current=F,yo.flushSync(()=>{f(F)}))})},[p,t,n,U,T]);La(()=>{u===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,f(C=>({...C,isPositioned:!1})))},[u]);const j=g.useRef(!1);La(()=>(j.current=!0,()=>{j.current=!1}),[]),La(()=>{if(_&&(k.current=_),S&&(N.current=S),_&&S){if(A.current)return A.current(_,S,O);O()}},[_,S,O,A,I]);const D=g.useMemo(()=>({reference:k,floating:N,setReference:h,setFloating:v}),[h,v]),L=g.useMemo(()=>({reference:_,floating:S}),[_,S]),R=g.useMemo(()=>{const C={position:n,left:0,top:0};if(!L.floating)return C;const P=Ag(L.floating,d.x),F=Ag(L.floating,d.y);return a?{...C,transform:"translate("+P+"px, "+F+"px)",...Sw(L.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:P,top:F}},[n,a,L.floating,d.x,d.y]);return g.useMemo(()=>({...d,update:O,refs:D,elements:L,floatingStyles:R}),[d,O,D,L,R])}const tA=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Rg({element:r.current,padding:s}).fn(n):{}:r?Rg({element:r,padding:s}).fn(n):{}}}},nA=(e,t)=>({...VR(e),options:[e,t]}),rA=(e,t)=>({...YR(e),options:[e,t]}),sA=(e,t)=>({...XR(e),options:[e,t]}),oA=(e,t)=>({...qR(e),options:[e,t]}),iA=(e,t)=>({...GR(e),options:[e,t]}),aA=(e,t)=>({...KR(e),options:[e,t]}),lA=(e,t)=>({...tA(e),options:[e,t]});var cA="Arrow",kw=g.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...o}=e;return l.jsx(V.svg,{...o,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});kw.displayName=cA;var uA=kw;function Uh(e){const[t,n]=g.useState(void 0);return Ie(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,a;if("borderBoxSize"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,a=u.blockSize}else i=e.offsetWidth,a=e.offsetHeight;n({width:i,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Wh="Popper",[Nw,yc]=Ct(Wh),[dA,Cw]=Nw(Wh),jw=e=>{const{__scopePopper:t,children:n}=e,[r,s]=g.useState(null);return l.jsx(dA,{scope:t,anchor:r,onAnchorChange:s,children:n})};jw.displayName=Wh;var Ew="PopperAnchor",Pw=g.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,o=Cw(Ew,n),i=g.useRef(null),a=se(t,i);return g.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||i.current)}),r?null:l.jsx(V.div,{...s,ref:a})});Pw.displayName=Ew;var zh="PopperContent",[fA,hA]=Nw(zh),Tw=g.forwardRef((e,t)=>{var B,de,Te,ce,ie,le;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:m="optimized",onPlaced:w,...y}=e,b=Cw(zh,n),[x,h]=g.useState(null),v=se(t,Ge=>h(Ge)),[_,S]=g.useState(null),k=Uh(_),N=(k==null?void 0:k.width)??0,E=(k==null?void 0:k.height)??0,I=r+(o!=="center"?"-"+o:""),A=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},U=Array.isArray(u)?u:[u],T=U.length>0,O={padding:A,boundary:U.filter(pA),altBoundary:T},{refs:j,floatingStyles:D,placement:L,isPositioned:R,middlewareData:C}=eA({strategy:"fixed",placement:I,whileElementsMounted:(...Ge)=>HR(...Ge,{animationFrame:m==="always"}),elements:{reference:b.anchor},middleware:[nA({mainAxis:s+E,alignmentAxis:i}),c&&rA({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?sA():void 0,...O}),c&&oA({...O}),iA({...O,apply:({elements:Ge,rects:jt,availableWidth:Rr,availableHeight:Un})=>{const{width:Ar,height:Co}=jt.reference,ds=Ge.floating.style;ds.setProperty("--radix-popper-available-width",`${Rr}px`),ds.setProperty("--radix-popper-available-height",`${Un}px`),ds.setProperty("--radix-popper-anchor-width",`${Ar}px`),ds.setProperty("--radix-popper-anchor-height",`${Co}px`)}}),_&&lA({element:_,padding:a}),gA({arrowWidth:N,arrowHeight:E}),p&&aA({strategy:"referenceHidden",...O})]}),[P,F]=Iw(L),Y=Ze(w);Ie(()=>{R&&(Y==null||Y())},[R,Y]);const z=(B=C.arrow)==null?void 0:B.x,Z=(de=C.arrow)==null?void 0:de.y,K=((Te=C.arrow)==null?void 0:Te.centerOffset)!==0,[me,we]=g.useState();return Ie(()=>{x&&we(window.getComputedStyle(x).zIndex)},[x]),l.jsx("div",{ref:j.setFloating,"data-radix-popper-content-wrapper":"",style:{...D,transform:R?D.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:me,"--radix-popper-transform-origin":[(ce=C.transformOrigin)==null?void 0:ce.x,(ie=C.transformOrigin)==null?void 0:ie.y].join(" "),...((le=C.hide)==null?void 0:le.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:l.jsx(fA,{scope:n,placedSide:P,onArrowChange:S,arrowX:z,arrowY:Z,shouldHideArrow:K,children:l.jsx(V.div,{"data-side":P,"data-align":F,...y,ref:v,style:{...y.style,animation:R?void 0:"none"}})})})});Tw.displayName=zh;var Rw="PopperArrow",mA={top:"bottom",right:"left",bottom:"top",left:"right"},Aw=g.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,o=hA(Rw,r),i=mA[o.placedSide];return l.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:l.jsx(uA,{...s,ref:n,style:{...s.style,display:"block"}})})});Aw.displayName=Rw;function pA(e){return e!==null}var gA=e=>({name:"transformOrigin",options:e,fn(t){var b,x,h;const{placement:n,rects:r,middlewareData:s}=t,i=((b=s.arrow)==null?void 0:b.centerOffset)!==0,a=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,d]=Iw(n),f={start:"0%",center:"50%",end:"100%"}[d],p=(((x=s.arrow)==null?void 0:x.x)??0)+a/2,m=(((h=s.arrow)==null?void 0:h.y)??0)+c/2;let w="",y="";return u==="bottom"?(w=i?f:`${p}px`,y=`${-c}px`):u==="top"?(w=i?f:`${p}px`,y=`${r.floating.height+c}px`):u==="right"?(w=`${-c}px`,y=i?f:`${m}px`):u==="left"&&(w=`${r.floating.width+c}px`,y=i?f:`${m}px`),{data:{x:w,y}}}});function Iw(e){const[t,n="center"]=e.split("-");return[t,n]}var Ow=jw,Hh=Pw,Mw=Tw,Dw=Aw,vA="Portal",xc=g.forwardRef((e,t)=>{var a;const{container:n,...r}=e,[s,o]=g.useState(!1);Ie(()=>o(!0),[]);const i=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return i?o0.createPortal(l.jsx(V.div,{...r,ref:t}),i):null});xc.displayName=vA;function Vh(e){const t=g.useRef({value:e,previous:e});return g.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Lw=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),yA="VisuallyHidden",xA=g.forwardRef((e,t)=>l.jsx(V.span,{...e,ref:t,style:{...Lw,...e.style}}));xA.displayName=yA;var wA=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ss=new WeakMap,ga=new WeakMap,va={},Ru=0,$w=function(e){return e&&(e.host||$w(e.parentNode))},bA=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=$w(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},_A=function(e,t,n,r){var s=bA(t,Array.isArray(e)?e:[e]);va[n]||(va[n]=new WeakMap);var o=va[n],i=[],a=new Set,c=new Set(s),u=function(f){!f||a.has(f)||(a.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(p){if(a.has(p))d(p);else try{var m=p.getAttribute(r),w=m!==null&&m!=="false",y=(Ss.get(p)||0)+1,b=(o.get(p)||0)+1;Ss.set(p,y),o.set(p,b),i.push(p),y===1&&w&&ga.set(p,!0),b===1&&p.setAttribute(n,"true"),w||p.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",p,x)}})};return d(t),a.clear(),Ru++,function(){i.forEach(function(f){var p=Ss.get(f)-1,m=o.get(f)-1;Ss.set(f,p),o.set(f,m),p||(ga.has(f)||f.removeAttribute(r),ga.delete(f)),m||f.removeAttribute(n)}),Ru--,Ru||(Ss=new WeakMap,Ss=new WeakMap,ga=new WeakMap,va={})}},Yh=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=wA(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),_A(r,s,n,"aria-hidden")):function(){return null}},fn=function(){return fn=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},fn.apply(this,arguments)};function Fw(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function SA(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,o;r<s;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var $a="right-scroll-bar-position",Fa="width-before-scroll-bar",kA="with-scroll-bars-hidden",NA="--removed-body-scroll-bar-size";function Au(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function CA(e,t){var n=g.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var jA=typeof window<"u"?g.useLayoutEffect:g.useEffect,Ig=new WeakMap;function EA(e,t){var n=CA(null,function(r){return e.forEach(function(s){return Au(s,r)})});return jA(function(){var r=Ig.get(n);if(r){var s=new Set(r),o=new Set(e),i=n.current;s.forEach(function(a){o.has(a)||Au(a,null)}),o.forEach(function(a){s.has(a)||Au(a,i)})}Ig.set(n,e)},[e]),n}function PA(e){return e}function TA(e,t){t===void 0&&(t=PA);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var i=t(o,r);return n.push(i),function(){n=n.filter(function(a){return a!==i})}},assignSyncMedium:function(o){for(r=!0;n.length;){var i=n;n=[],i.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var i=[];if(n.length){var a=n;n=[],a.forEach(o),i=n}var c=function(){var d=i;i=[],d.forEach(o)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){i.push(d),u()},filter:function(d){return i=i.filter(d),n}}}};return s}function RA(e){e===void 0&&(e={});var t=TA(null);return t.options=fn({async:!0,ssr:!1},e),t}var Bw=function(e){var t=e.sideCar,n=Fw(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return g.createElement(r,fn({},n))};Bw.isSideCarExport=!0;function AA(e,t){return e.useMedium(t),Bw}var Uw=RA(),Iu=function(){},wc=g.forwardRef(function(e,t){var n=g.useRef(null),r=g.useState({onScrollCapture:Iu,onWheelCapture:Iu,onTouchMoveCapture:Iu}),s=r[0],o=r[1],i=e.forwardProps,a=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,p=e.sideCar,m=e.noRelative,w=e.noIsolation,y=e.inert,b=e.allowPinchZoom,x=e.as,h=x===void 0?"div":x,v=e.gapMode,_=Fw(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=p,k=EA([n,t]),N=fn(fn({},_),s);return g.createElement(g.Fragment,null,d&&g.createElement(S,{sideCar:Uw,removeScrollBar:u,shards:f,noRelative:m,noIsolation:w,inert:y,setCallbacks:o,allowPinchZoom:!!b,lockRef:n,gapMode:v}),i?g.cloneElement(g.Children.only(a),fn(fn({},N),{ref:k})):g.createElement(h,fn({},N,{className:c,ref:k}),a))});wc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};wc.classNames={fullWidth:Fa,zeroRight:$a};var IA=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function OA(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=IA();return t&&e.setAttribute("nonce",t),e}function MA(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function DA(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var LA=function(){var e=0,t=null;return{add:function(n){e==0&&(t=OA())&&(MA(t,n),DA(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},$A=function(){var e=LA();return function(t,n){g.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Ww=function(){var e=$A(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},FA={left:0,top:0,right:0,gap:0},Ou=function(e){return parseInt(e||"",10)||0},BA=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Ou(n),Ou(r),Ou(s)]},UA=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return FA;var t=BA(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},WA=Ww(),Ks="data-scroll-locked",zA=function(e,t,n,r){var s=e.left,o=e.top,i=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(kA,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Ks,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat($a,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Fa,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat($a," .").concat($a,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Fa," .").concat(Fa,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ks,`] {
    `).concat(NA,": ").concat(a,`px;
  }
`)},Og=function(){var e=parseInt(document.body.getAttribute(Ks)||"0",10);return isFinite(e)?e:0},HA=function(){g.useEffect(function(){return document.body.setAttribute(Ks,(Og()+1).toString()),function(){var e=Og()-1;e<=0?document.body.removeAttribute(Ks):document.body.setAttribute(Ks,e.toString())}},[])},VA=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;HA();var o=g.useMemo(function(){return UA(s)},[s]);return g.createElement(WA,{styles:zA(o,!t,s,n?"":"!important")})},sf=!1;if(typeof window<"u")try{var ya=Object.defineProperty({},"passive",{get:function(){return sf=!0,!0}});window.addEventListener("test",ya,ya),window.removeEventListener("test",ya,ya)}catch{sf=!1}var ks=sf?{passive:!1}:!1,YA=function(e){return e.tagName==="TEXTAREA"},zw=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!YA(e)&&n[t]==="visible")},qA=function(e){return zw(e,"overflowY")},GA=function(e){return zw(e,"overflowX")},Mg=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=Hw(e,r);if(s){var o=Vw(e,r),i=o[1],a=o[2];if(i>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},KA=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},XA=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},Hw=function(e,t){return e==="v"?qA(t):GA(t)},Vw=function(e,t){return e==="v"?KA(t):XA(t)},QA=function(e,t){return e==="h"&&t==="rtl"?-1:1},JA=function(e,t,n,r,s){var o=QA(e,window.getComputedStyle(t).direction),i=o*r,a=n.target,c=t.contains(a),u=!1,d=i>0,f=0,p=0;do{if(!a)break;var m=Vw(e,a),w=m[0],y=m[1],b=m[2],x=y-b-o*w;(w||x)&&Hw(e,a)&&(f+=x,p+=w);var h=a.parentNode;a=h&&h.nodeType===Node.DOCUMENT_FRAGMENT_NODE?h.host:h}while(!c&&a!==document.body||c&&(t.contains(a)||t===a));return(d&&(Math.abs(f)<1||!s)||!d&&(Math.abs(p)<1||!s))&&(u=!0),u},xa=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Dg=function(e){return[e.deltaX,e.deltaY]},Lg=function(e){return e&&"current"in e?e.current:e},ZA=function(e,t){return e[0]===t[0]&&e[1]===t[1]},eI=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},tI=0,Ns=[];function nI(e){var t=g.useRef([]),n=g.useRef([0,0]),r=g.useRef(),s=g.useState(tI++)[0],o=g.useState(Ww)[0],i=g.useRef(e);g.useEffect(function(){i.current=e},[e]),g.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var y=SA([e.lockRef.current],(e.shards||[]).map(Lg),!0).filter(Boolean);return y.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var a=g.useCallback(function(y,b){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!i.current.allowPinchZoom;var x=xa(y),h=n.current,v="deltaX"in y?y.deltaX:h[0]-x[0],_="deltaY"in y?y.deltaY:h[1]-x[1],S,k=y.target,N=Math.abs(v)>Math.abs(_)?"h":"v";if("touches"in y&&N==="h"&&k.type==="range")return!1;var E=Mg(N,k);if(!E)return!0;if(E?S=N:(S=N==="v"?"h":"v",E=Mg(N,k)),!E)return!1;if(!r.current&&"changedTouches"in y&&(v||_)&&(r.current=S),!S)return!0;var I=r.current||S;return JA(I,b,y,I==="h"?v:_,!0)},[]),c=g.useCallback(function(y){var b=y;if(!(!Ns.length||Ns[Ns.length-1]!==o)){var x="deltaY"in b?Dg(b):xa(b),h=t.current.filter(function(S){return S.name===b.type&&(S.target===b.target||b.target===S.shadowParent)&&ZA(S.delta,x)})[0];if(h&&h.should){b.cancelable&&b.preventDefault();return}if(!h){var v=(i.current.shards||[]).map(Lg).filter(Boolean).filter(function(S){return S.contains(b.target)}),_=v.length>0?a(b,v[0]):!i.current.noIsolation;_&&b.cancelable&&b.preventDefault()}}},[]),u=g.useCallback(function(y,b,x,h){var v={name:y,delta:b,target:x,should:h,shadowParent:rI(x)};t.current.push(v),setTimeout(function(){t.current=t.current.filter(function(_){return _!==v})},1)},[]),d=g.useCallback(function(y){n.current=xa(y),r.current=void 0},[]),f=g.useCallback(function(y){u(y.type,Dg(y),y.target,a(y,e.lockRef.current))},[]),p=g.useCallback(function(y){u(y.type,xa(y),y.target,a(y,e.lockRef.current))},[]);g.useEffect(function(){return Ns.push(o),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",c,ks),document.addEventListener("touchmove",c,ks),document.addEventListener("touchstart",d,ks),function(){Ns=Ns.filter(function(y){return y!==o}),document.removeEventListener("wheel",c,ks),document.removeEventListener("touchmove",c,ks),document.removeEventListener("touchstart",d,ks)}},[]);var m=e.removeScrollBar,w=e.inert;return g.createElement(g.Fragment,null,w?g.createElement(o,{styles:eI(s)}):null,m?g.createElement(VA,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function rI(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const sI=AA(Uw,nI);var bc=g.forwardRef(function(e,t){return g.createElement(wc,fn({},e,{ref:t,sideCar:sI}))});bc.classNames=wc.classNames;var oI=[" ","Enter","ArrowUp","ArrowDown"],iI=[" ","Enter"],rs="Select",[_c,Sc,aI]=Ux(rs),[No,j4]=Ct(rs,[aI,yc]),kc=yc(),[lI,Er]=No(rs),[cI,uI]=No(rs),Yw=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:o,value:i,defaultValue:a,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:p,required:m,form:w}=e,y=kc(t),[b,x]=g.useState(null),[h,v]=g.useState(null),[_,S]=g.useState(!1),k=$i(u),[N,E]=Ln({prop:r,defaultProp:s??!1,onChange:o,caller:rs}),[I,A]=Ln({prop:i,defaultProp:a,onChange:c,caller:rs}),U=g.useRef(null),T=b?w||!!b.closest("form"):!0,[O,j]=g.useState(new Set),D=Array.from(O).map(L=>L.props.value).join(";");return l.jsx(Ow,{...y,children:l.jsxs(lI,{required:m,scope:t,trigger:b,onTriggerChange:x,valueNode:h,onValueNodeChange:v,valueNodeHasChildren:_,onValueNodeHasChildrenChange:S,contentId:vn(),value:I,onValueChange:A,open:N,onOpenChange:E,dir:k,triggerPointerDownPosRef:U,disabled:p,children:[l.jsx(_c.Provider,{scope:t,children:l.jsx(cI,{scope:e.__scopeSelect,onNativeOptionAdd:g.useCallback(L=>{j(R=>new Set(R).add(L))},[]),onNativeOptionRemove:g.useCallback(L=>{j(R=>{const C=new Set(R);return C.delete(L),C})},[]),children:n})}),T?l.jsxs(gb,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:I,onChange:L=>A(L.target.value),disabled:p,form:w,children:[I===void 0?l.jsx("option",{value:""}):null,Array.from(O)]},D):null]})})};Yw.displayName=rs;var qw="SelectTrigger",Gw=g.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,o=kc(n),i=Er(qw,n),a=i.disabled||r,c=se(t,i.onTriggerChange),u=Sc(n),d=g.useRef("touch"),[f,p,m]=yb(y=>{const b=u().filter(v=>!v.disabled),x=b.find(v=>v.value===i.value),h=xb(b,y,x);h!==void 0&&i.onValueChange(h.value)}),w=y=>{a||(i.onOpenChange(!0),m()),y&&(i.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return l.jsx(Hh,{asChild:!0,...o,children:l.jsx(V.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":vb(i.value)?"":void 0,...s,ref:c,onClick:q(s.onClick,y=>{y.currentTarget.focus(),d.current!=="mouse"&&w(y)}),onPointerDown:q(s.onPointerDown,y=>{d.current=y.pointerType;const b=y.target;b.hasPointerCapture(y.pointerId)&&b.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(w(y),y.preventDefault())}),onKeyDown:q(s.onKeyDown,y=>{const b=f.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&p(y.key),!(b&&y.key===" ")&&oI.includes(y.key)&&(w(),y.preventDefault())})})})});Gw.displayName=qw;var Kw="SelectValue",Xw=g.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:o,placeholder:i="",...a}=e,c=Er(Kw,n),{onValueNodeHasChildrenChange:u}=c,d=o!==void 0,f=se(t,c.onValueNodeChange);return Ie(()=>{u(d)},[u,d]),l.jsx(V.span,{...a,ref:f,style:{pointerEvents:"none"},children:vb(c.value)?l.jsx(l.Fragment,{children:i}):o})});Xw.displayName=Kw;var dI="SelectIcon",Qw=g.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return l.jsx(V.span,{"aria-hidden":!0,...s,ref:t,children:r||"▼"})});Qw.displayName=dI;var fI="SelectPortal",Jw=e=>l.jsx(xc,{asChild:!0,...e});Jw.displayName=fI;var ss="SelectContent",Zw=g.forwardRef((e,t)=>{const n=Er(ss,e.__scopeSelect),[r,s]=g.useState();if(Ie(()=>{s(new DocumentFragment)},[]),!n.open){const o=r;return o?yo.createPortal(l.jsx(eb,{scope:e.__scopeSelect,children:l.jsx(_c.Slot,{scope:e.__scopeSelect,children:l.jsx("div",{children:e.children})})}),o):null}return l.jsx(tb,{...e,ref:t})});Zw.displayName=ss;var zt=10,[eb,Pr]=No(ss),hI="SelectContentImpl",mI=es("SelectContent.RemoveScroll"),tb=g.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:i,side:a,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:m,sticky:w,hideWhenDetached:y,avoidCollisions:b,...x}=e,h=Er(ss,n),[v,_]=g.useState(null),[S,k]=g.useState(null),N=se(t,B=>_(B)),[E,I]=g.useState(null),[A,U]=g.useState(null),T=Sc(n),[O,j]=g.useState(!1),D=g.useRef(!1);g.useEffect(()=>{if(v)return Yh(v)},[v]),Ih();const L=g.useCallback(B=>{const[de,...Te]=T().map(le=>le.ref.current),[ce]=Te.slice(-1),ie=document.activeElement;for(const le of B)if(le===ie||(le==null||le.scrollIntoView({block:"nearest"}),le===de&&S&&(S.scrollTop=0),le===ce&&S&&(S.scrollTop=S.scrollHeight),le==null||le.focus(),document.activeElement!==ie))return},[T,S]),R=g.useCallback(()=>L([E,v]),[L,E,v]);g.useEffect(()=>{O&&R()},[O,R]);const{onOpenChange:C,triggerPointerDownPosRef:P}=h;g.useEffect(()=>{if(v){let B={x:0,y:0};const de=ce=>{var ie,le;B={x:Math.abs(Math.round(ce.pageX)-(((ie=P.current)==null?void 0:ie.x)??0)),y:Math.abs(Math.round(ce.pageY)-(((le=P.current)==null?void 0:le.y)??0))}},Te=ce=>{B.x<=10&&B.y<=10?ce.preventDefault():v.contains(ce.target)||C(!1),document.removeEventListener("pointermove",de),P.current=null};return P.current!==null&&(document.addEventListener("pointermove",de),document.addEventListener("pointerup",Te,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",de),document.removeEventListener("pointerup",Te,{capture:!0})}}},[v,C,P]),g.useEffect(()=>{const B=()=>C(!1);return window.addEventListener("blur",B),window.addEventListener("resize",B),()=>{window.removeEventListener("blur",B),window.removeEventListener("resize",B)}},[C]);const[F,Y]=yb(B=>{const de=T().filter(ie=>!ie.disabled),Te=de.find(ie=>ie.ref.current===document.activeElement),ce=xb(de,B,Te);ce&&setTimeout(()=>ce.ref.current.focus())}),z=g.useCallback((B,de,Te)=>{const ce=!D.current&&!Te;(h.value!==void 0&&h.value===de||ce)&&(I(B),ce&&(D.current=!0))},[h.value]),Z=g.useCallback(()=>v==null?void 0:v.focus(),[v]),K=g.useCallback((B,de,Te)=>{const ce=!D.current&&!Te;(h.value!==void 0&&h.value===de||ce)&&U(B)},[h.value]),me=r==="popper"?of:nb,we=me===of?{side:a,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:m,sticky:w,hideWhenDetached:y,avoidCollisions:b}:{};return l.jsx(eb,{scope:n,content:v,viewport:S,onViewportChange:k,itemRefCallback:z,selectedItem:E,onItemLeave:Z,itemTextRefCallback:K,focusSelectedItem:R,selectedItemText:A,position:r,isPositioned:O,searchRef:F,children:l.jsx(bc,{as:mI,allowPinchZoom:!0,children:l.jsx(mc,{asChild:!0,trapped:h.open,onMountAutoFocus:B=>{B.preventDefault()},onUnmountAutoFocus:q(s,B=>{var de;(de=h.trigger)==null||de.focus({preventScroll:!0}),B.preventDefault()}),children:l.jsx(hc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:B=>B.preventDefault(),onDismiss:()=>h.onOpenChange(!1),children:l.jsx(me,{role:"listbox",id:h.contentId,"data-state":h.open?"open":"closed",dir:h.dir,onContextMenu:B=>B.preventDefault(),...x,...we,onPlaced:()=>j(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:q(x.onKeyDown,B=>{const de=B.ctrlKey||B.altKey||B.metaKey;if(B.key==="Tab"&&B.preventDefault(),!de&&B.key.length===1&&Y(B.key),["ArrowUp","ArrowDown","Home","End"].includes(B.key)){let ce=T().filter(ie=>!ie.disabled).map(ie=>ie.ref.current);if(["ArrowUp","End"].includes(B.key)&&(ce=ce.slice().reverse()),["ArrowUp","ArrowDown"].includes(B.key)){const ie=B.target,le=ce.indexOf(ie);ce=ce.slice(le+1)}setTimeout(()=>L(ce)),B.preventDefault()}})})})})})})});tb.displayName=hI;var pI="SelectItemAlignedPosition",nb=g.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,o=Er(ss,n),i=Pr(ss,n),[a,c]=g.useState(null),[u,d]=g.useState(null),f=se(t,N=>d(N)),p=Sc(n),m=g.useRef(!1),w=g.useRef(!0),{viewport:y,selectedItem:b,selectedItemText:x,focusSelectedItem:h}=i,v=g.useCallback(()=>{if(o.trigger&&o.valueNode&&a&&u&&y&&b&&x){const N=o.trigger.getBoundingClientRect(),E=u.getBoundingClientRect(),I=o.valueNode.getBoundingClientRect(),A=x.getBoundingClientRect();if(o.dir!=="rtl"){const ie=A.left-E.left,le=I.left-ie,Ge=N.left-le,jt=N.width+Ge,Rr=Math.max(jt,E.width),Un=window.innerWidth-zt,Ar=Jd(le,[zt,Math.max(zt,Un-Rr)]);a.style.minWidth=jt+"px",a.style.left=Ar+"px"}else{const ie=E.right-A.right,le=window.innerWidth-I.right-ie,Ge=window.innerWidth-N.right-le,jt=N.width+Ge,Rr=Math.max(jt,E.width),Un=window.innerWidth-zt,Ar=Jd(le,[zt,Math.max(zt,Un-Rr)]);a.style.minWidth=jt+"px",a.style.right=Ar+"px"}const U=p(),T=window.innerHeight-zt*2,O=y.scrollHeight,j=window.getComputedStyle(u),D=parseInt(j.borderTopWidth,10),L=parseInt(j.paddingTop,10),R=parseInt(j.borderBottomWidth,10),C=parseInt(j.paddingBottom,10),P=D+L+O+C+R,F=Math.min(b.offsetHeight*5,P),Y=window.getComputedStyle(y),z=parseInt(Y.paddingTop,10),Z=parseInt(Y.paddingBottom,10),K=N.top+N.height/2-zt,me=T-K,we=b.offsetHeight/2,B=b.offsetTop+we,de=D+L+B,Te=P-de;if(de<=K){const ie=U.length>0&&b===U[U.length-1].ref.current;a.style.bottom="0px";const le=u.clientHeight-y.offsetTop-y.offsetHeight,Ge=Math.max(me,we+(ie?Z:0)+le+R),jt=de+Ge;a.style.height=jt+"px"}else{const ie=U.length>0&&b===U[0].ref.current;a.style.top="0px";const Ge=Math.max(K,D+y.offsetTop+(ie?z:0)+we)+Te;a.style.height=Ge+"px",y.scrollTop=de-K+y.offsetTop}a.style.margin=`${zt}px 0`,a.style.minHeight=F+"px",a.style.maxHeight=T+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[p,o.trigger,o.valueNode,a,u,y,b,x,o.dir,r]);Ie(()=>v(),[v]);const[_,S]=g.useState();Ie(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const k=g.useCallback(N=>{N&&w.current===!0&&(v(),h==null||h(),w.current=!1)},[v,h]);return l.jsx(vI,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:m,onScrollButtonChange:k,children:l.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:l.jsx(V.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});nb.displayName=pI;var gI="SelectPopperPosition",of=g.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=zt,...o}=e,i=kc(n);return l.jsx(Mw,{...i,...o,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});of.displayName=gI;var[vI,qh]=No(ss,{}),af="SelectViewport",rb=g.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,o=Pr(af,n),i=qh(af,n),a=se(t,o.onViewportChange),c=g.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),l.jsx(_c.Slot,{scope:n,children:l.jsx(V.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:q(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=i;if(p!=null&&p.current&&f){const m=Math.abs(c.current-d.scrollTop);if(m>0){const w=window.innerHeight-zt*2,y=parseFloat(f.style.minHeight),b=parseFloat(f.style.height),x=Math.max(y,b);if(x<w){const h=x+m,v=Math.min(w,h),_=h-v;f.style.height=v+"px",f.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});rb.displayName=af;var sb="SelectGroup",[yI,xI]=No(sb),wI=g.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=vn();return l.jsx(yI,{scope:n,id:s,children:l.jsx(V.div,{role:"group","aria-labelledby":s,...r,ref:t})})});wI.displayName=sb;var ob="SelectLabel",ib=g.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=xI(ob,n);return l.jsx(V.div,{id:s.id,...r,ref:t})});ib.displayName=ob;var Tl="SelectItem",[bI,ab]=No(Tl),lb=g.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:o,...i}=e,a=Er(Tl,n),c=Pr(Tl,n),u=a.value===r,[d,f]=g.useState(o??""),[p,m]=g.useState(!1),w=se(t,h=>{var v;return(v=c.itemRefCallback)==null?void 0:v.call(c,h,r,s)}),y=vn(),b=g.useRef("touch"),x=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(bI,{scope:n,value:r,disabled:s,textId:y,isSelected:u,onItemTextChange:g.useCallback(h=>{f(v=>v||((h==null?void 0:h.textContent)??"").trim())},[]),children:l.jsx(_c.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:l.jsx(V.div,{role:"option","aria-labelledby":y,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:w,onFocus:q(i.onFocus,()=>m(!0)),onBlur:q(i.onBlur,()=>m(!1)),onClick:q(i.onClick,()=>{b.current!=="mouse"&&x()}),onPointerUp:q(i.onPointerUp,()=>{b.current==="mouse"&&x()}),onPointerDown:q(i.onPointerDown,h=>{b.current=h.pointerType}),onPointerMove:q(i.onPointerMove,h=>{var v;b.current=h.pointerType,s?(v=c.onItemLeave)==null||v.call(c):b.current==="mouse"&&h.currentTarget.focus({preventScroll:!0})}),onPointerLeave:q(i.onPointerLeave,h=>{var v;h.currentTarget===document.activeElement&&((v=c.onItemLeave)==null||v.call(c))}),onKeyDown:q(i.onKeyDown,h=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&h.key===" "||(iI.includes(h.key)&&x(),h.key===" "&&h.preventDefault())})})})})});lb.displayName=Tl;var Yo="SelectItemText",cb=g.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...o}=e,i=Er(Yo,n),a=Pr(Yo,n),c=ab(Yo,n),u=uI(Yo,n),[d,f]=g.useState(null),p=se(t,x=>f(x),c.onItemTextChange,x=>{var h;return(h=a.itemTextRefCallback)==null?void 0:h.call(a,x,c.value,c.disabled)}),m=d==null?void 0:d.textContent,w=g.useMemo(()=>l.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:y,onNativeOptionRemove:b}=u;return Ie(()=>(y(w),()=>b(w)),[y,b,w]),l.jsxs(l.Fragment,{children:[l.jsx(V.span,{id:c.textId,...o,ref:p}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?yo.createPortal(o.children,i.valueNode):null]})});cb.displayName=Yo;var ub="SelectItemIndicator",db=g.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return ab(ub,n).isSelected?l.jsx(V.span,{"aria-hidden":!0,...r,ref:t}):null});db.displayName=ub;var lf="SelectScrollUpButton",fb=g.forwardRef((e,t)=>{const n=Pr(lf,e.__scopeSelect),r=qh(lf,e.__scopeSelect),[s,o]=g.useState(!1),i=se(t,r.onScrollButtonChange);return Ie(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=c.scrollTop>0;o(u)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?l.jsx(mb,{...e,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop-c.offsetHeight)}}):null});fb.displayName=lf;var cf="SelectScrollDownButton",hb=g.forwardRef((e,t)=>{const n=Pr(cf,e.__scopeSelect),r=qh(cf,e.__scopeSelect),[s,o]=g.useState(!1),i=se(t,r.onScrollButtonChange);return Ie(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;o(d)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?l.jsx(mb,{...e,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop+c.offsetHeight)}}):null});hb.displayName=cf;var mb=g.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,o=Pr("SelectScrollButton",n),i=g.useRef(null),a=Sc(n),c=g.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return g.useEffect(()=>()=>c(),[c]),Ie(()=>{var d;const u=a().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),l.jsx(V.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:q(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:q(s.onPointerMove,()=>{var u;(u=o.onItemLeave)==null||u.call(o),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:q(s.onPointerLeave,()=>{c()})})}),_I="SelectSeparator",pb=g.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return l.jsx(V.div,{"aria-hidden":!0,...r,ref:t})});pb.displayName=_I;var uf="SelectArrow",SI=g.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=kc(n),o=Er(uf,n),i=Pr(uf,n);return o.open&&i.position==="popper"?l.jsx(Dw,{...s,...r,ref:t}):null});SI.displayName=uf;var kI="SelectBubbleInput",gb=g.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const s=g.useRef(null),o=se(r,s),i=Vh(t);return g.useEffect(()=>{const a=s.current;if(!a)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==t&&d){const f=new Event("change",{bubbles:!0});d.call(a,t),a.dispatchEvent(f)}},[i,t]),l.jsx(V.select,{...n,style:{...Lw,...n.style},ref:o,defaultValue:t})});gb.displayName=kI;function vb(e){return e===""||e===void 0}function yb(e){const t=Ze(e),n=g.useRef(""),r=g.useRef(0),s=g.useCallback(i=>{const a=n.current+i;t(a),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(a)},[t]),o=g.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,o]}function xb(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let i=NI(e,Math.max(o,0));s.length===1&&(i=i.filter(u=>u!==n));const c=i.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function NI(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var CI=Yw,wb=Gw,jI=Xw,EI=Qw,PI=Jw,bb=Zw,TI=rb,_b=ib,Sb=lb,RI=cb,AI=db,kb=fb,Nb=hb,Cb=pb;const II=CI,OI=jI,jb=g.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(wb,{ref:r,className:H("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,l.jsx(EI,{asChild:!0,children:l.jsx(fl,{className:"h-4 w-4 opacity-50"})})]}));jb.displayName=wb.displayName;const Eb=g.forwardRef(({className:e,...t},n)=>l.jsx(kb,{ref:n,className:H("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(Id,{className:"h-4 w-4"})}));Eb.displayName=kb.displayName;const Pb=g.forwardRef(({className:e,...t},n)=>l.jsx(Nb,{ref:n,className:H("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(fl,{className:"h-4 w-4"})}));Pb.displayName=Nb.displayName;const Tb=g.forwardRef(({className:e,children:t,position:n="popper",...r},s)=>l.jsx(PI,{children:l.jsxs(bb,{ref:s,className:H("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md pointer-events-auto data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[l.jsx(Eb,{}),l.jsx(TI,{className:H("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),l.jsx(Pb,{})]})}));Tb.displayName=bb.displayName;const MI=g.forwardRef(({className:e,...t},n)=>l.jsx(_b,{ref:n,className:H("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));MI.displayName=_b.displayName;const Rb=g.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(Sb,{ref:r,className:H("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(AI,{children:l.jsx(uh,{className:"h-4 w-4"})})}),l.jsx(RI,{children:t})]}));Rb.displayName=Sb.displayName;const DI=g.forwardRef(({className:e,...t},n)=>l.jsx(Cb,{ref:n,className:H("-mx-1 my-1 h-px bg-muted",e),...t}));DI.displayName=Cb.displayName;var Nc="Checkbox",[LI,E4]=Ct(Nc),[$I,Gh]=LI(Nc);function FI(e){const{__scopeCheckbox:t,checked:n,children:r,defaultChecked:s,disabled:o,form:i,name:a,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[p,m]=Ln({prop:n,defaultProp:s??!1,onChange:c,caller:Nc}),[w,y]=g.useState(null),[b,x]=g.useState(null),h=g.useRef(!1),v=w?!!i||!!w.closest("form"):!0,_={checked:p,disabled:o,setChecked:m,control:w,setControl:y,name:a,form:i,value:d,hasConsumerStoppedPropagationRef:h,required:u,defaultChecked:mr(s)?!1:s,isFormControl:v,bubbleInput:b,setBubbleInput:x};return l.jsx($I,{scope:t,..._,children:BI(f)?f(_):r})}var Ab="CheckboxTrigger",Ib=g.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...r},s)=>{const{control:o,value:i,disabled:a,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:p,isFormControl:m,bubbleInput:w}=Gh(Ab,e),y=se(s,d),b=g.useRef(c);return g.useEffect(()=>{const x=o==null?void 0:o.form;if(x){const h=()=>f(b.current);return x.addEventListener("reset",h),()=>x.removeEventListener("reset",h)}},[o,f]),l.jsx(V.button,{type:"button",role:"checkbox","aria-checked":mr(c)?"mixed":c,"aria-required":u,"data-state":$b(c),"data-disabled":a?"":void 0,disabled:a,value:i,...r,ref:y,onKeyDown:q(t,x=>{x.key==="Enter"&&x.preventDefault()}),onClick:q(n,x=>{f(h=>mr(h)?!0:!h),w&&m&&(p.current=x.isPropagationStopped(),p.current||x.stopPropagation())})})});Ib.displayName=Ab;var Kh=g.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:o,required:i,disabled:a,value:c,onCheckedChange:u,form:d,...f}=e;return l.jsx(FI,{__scopeCheckbox:n,checked:s,defaultChecked:o,disabled:a,required:i,onCheckedChange:u,name:r,form:d,value:c,internal_do_not_use_render:({isFormControl:p})=>l.jsxs(l.Fragment,{children:[l.jsx(Ib,{...f,ref:t,__scopeCheckbox:n}),p&&l.jsx(Lb,{__scopeCheckbox:n})]})})});Kh.displayName=Nc;var Ob="CheckboxIndicator",Mb=g.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...s}=e,o=Gh(Ob,n);return l.jsx(vt,{present:r||mr(o.checked)||o.checked===!0,children:l.jsx(V.span,{"data-state":$b(o.checked),"data-disabled":o.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});Mb.displayName=Ob;var Db="CheckboxBubbleInput",Lb=g.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:o,defaultChecked:i,required:a,disabled:c,name:u,value:d,form:f,bubbleInput:p,setBubbleInput:m}=Gh(Db,e),w=se(n,m),y=Vh(o),b=Uh(r);g.useEffect(()=>{const h=p;if(!h)return;const v=window.HTMLInputElement.prototype,S=Object.getOwnPropertyDescriptor(v,"checked").set,k=!s.current;if(y!==o&&S){const N=new Event("click",{bubbles:k});h.indeterminate=mr(o),S.call(h,mr(o)?!1:o),h.dispatchEvent(N)}},[p,y,o,s]);const x=g.useRef(mr(o)?!1:o);return l.jsx(V.input,{type:"checkbox","aria-hidden":!0,defaultChecked:i??x.current,required:a,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:w,style:{...t.style,...b,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Lb.displayName=Db;function BI(e){return typeof e=="function"}function mr(e){return e==="indeterminate"}function $b(e){return mr(e)?"indeterminate":e?"checked":"unchecked"}const Bs=g.forwardRef(({className:e,...t},n)=>l.jsx(Kh,{ref:n,className:H("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:l.jsx(Mb,{className:H("flex items-center justify-center text-current"),children:l.jsx(uh,{className:"h-4 w-4"})})}));Bs.displayName=Kh.displayName;var Xh="Radio",[UI,Fb]=Ct(Xh),[WI,zI]=UI(Xh),Bb=g.forwardRef((e,t)=>{const{__scopeRadio:n,name:r,checked:s=!1,required:o,disabled:i,value:a="on",onCheck:c,form:u,...d}=e,[f,p]=g.useState(null),m=se(t,b=>p(b)),w=g.useRef(!1),y=f?u||!!f.closest("form"):!0;return l.jsxs(WI,{scope:n,checked:s,disabled:i,children:[l.jsx(V.button,{type:"button",role:"radio","aria-checked":s,"data-state":Hb(s),"data-disabled":i?"":void 0,disabled:i,value:a,...d,ref:m,onClick:q(e.onClick,b=>{s||c==null||c(),y&&(w.current=b.isPropagationStopped(),w.current||b.stopPropagation())})}),y&&l.jsx(zb,{control:f,bubbles:!w.current,name:r,value:a,checked:s,required:o,disabled:i,form:u,style:{transform:"translateX(-100%)"}})]})});Bb.displayName=Xh;var Ub="RadioIndicator",Wb=g.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:r,...s}=e,o=zI(Ub,n);return l.jsx(vt,{present:r||o.checked,children:l.jsx(V.span,{"data-state":Hb(o.checked),"data-disabled":o.disabled?"":void 0,...s,ref:t})})});Wb.displayName=Ub;var HI="RadioBubbleInput",zb=g.forwardRef(({__scopeRadio:e,control:t,checked:n,bubbles:r=!0,...s},o)=>{const i=g.useRef(null),a=se(i,o),c=Vh(n),u=Uh(t);return g.useEffect(()=>{const d=i.current;if(!d)return;const f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&m){const w=new Event("click",{bubbles:r});m.call(d,n),d.dispatchEvent(w)}},[c,n,r]),l.jsx(V.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:a,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});zb.displayName=HI;function Hb(e){return e?"checked":"unchecked"}var VI=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Cc="RadioGroup",[YI,P4]=Ct(Cc,[dc,Fb]),Vb=dc(),Yb=Fb(),[qI,GI]=YI(Cc),qb=g.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:r,defaultValue:s,value:o,required:i=!1,disabled:a=!1,orientation:c,dir:u,loop:d=!0,onValueChange:f,...p}=e,m=Vb(n),w=$i(u),[y,b]=Ln({prop:o,defaultProp:s??null,onChange:f,caller:Cc});return l.jsx(qI,{scope:n,name:r,required:i,disabled:a,value:y,onValueChange:b,children:l.jsx(qx,{asChild:!0,...m,orientation:c,dir:w,loop:d,children:l.jsx(V.div,{role:"radiogroup","aria-required":i,"aria-orientation":c,"data-disabled":a?"":void 0,dir:w,...p,ref:t})})})});qb.displayName=Cc;var Gb="RadioGroupItem",Kb=g.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:r,...s}=e,o=GI(Gb,n),i=o.disabled||r,a=Vb(n),c=Yb(n),u=g.useRef(null),d=se(t,u),f=o.value===s.value,p=g.useRef(!1);return g.useEffect(()=>{const m=y=>{VI.includes(y.key)&&(p.current=!0)},w=()=>p.current=!1;return document.addEventListener("keydown",m),document.addEventListener("keyup",w),()=>{document.removeEventListener("keydown",m),document.removeEventListener("keyup",w)}},[]),l.jsx(Gx,{asChild:!0,...a,focusable:!i,active:f,children:l.jsx(Bb,{disabled:i,required:o.required,checked:f,...c,...s,name:o.name,ref:d,onCheck:()=>o.onValueChange(s.value),onKeyDown:q(m=>{m.key==="Enter"&&m.preventDefault()}),onFocus:q(s.onFocus,()=>{var m;p.current&&((m=u.current)==null||m.click())})})})});Kb.displayName=Gb;var KI="RadioGroupIndicator",Xb=g.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...r}=e,s=Yb(n);return l.jsx(Wb,{...s,...r,ref:t})});Xb.displayName=KI;var Qb=qb,Jb=Kb,XI=Xb;const Zb=g.forwardRef(({className:e,...t},n)=>l.jsx(Qb,{className:H("grid gap-2",e),...t,ref:n}));Zb.displayName=Qb.displayName;const e_=g.forwardRef(({className:e,...t},n)=>l.jsx(Jb,{ref:n,className:H("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:l.jsx(XI,{className:"flex items-center justify-center",children:l.jsx(ON,{className:"h-2.5 w-2.5 fill-current text-current"})})}));e_.displayName=Jb.displayName;var G=function(){return G=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},G.apply(this,arguments)};function QI(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function t_(e,t,n){for(var r=0,s=t.length,o;r<s;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}function Ui(e){return e.mode==="multiple"}function Wi(e){return e.mode==="range"}function jc(e){return e.mode==="single"}var JI={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function ZI(e,t){return jr(e,"LLLL y",t)}function eO(e,t){return jr(e,"d",t)}function tO(e,t){return jr(e,"LLLL",t)}function nO(e){return"".concat(e)}function rO(e,t){return jr(e,"cccccc",t)}function sO(e,t){return jr(e,"yyyy",t)}var oO=Object.freeze({__proto__:null,formatCaption:ZI,formatDay:eO,formatMonthCaption:tO,formatWeekNumber:nO,formatWeekdayName:rO,formatYearCaption:sO}),iO=function(e,t,n){return jr(e,"do MMMM (EEEE)",n)},aO=function(){return"Month: "},lO=function(){return"Go to next month"},cO=function(){return"Go to previous month"},uO=function(e,t){return jr(e,"cccc",t)},dO=function(e){return"Week n. ".concat(e)},fO=function(){return"Year: "},hO=Object.freeze({__proto__:null,labelDay:iO,labelMonthDropdown:aO,labelNext:lO,labelPrevious:cO,labelWeekNumber:dO,labelWeekday:uO,labelYearDropdown:fO});function mO(){var e="buttons",t=JI,n=bh,r={},s={},o=1,i={},a=new Date;return{captionLayout:e,classNames:t,formatters:oO,labels:hO,locale:n,modifiersClassNames:r,modifiers:s,numberOfMonths:o,styles:i,today:a,mode:"default"}}function pO(e){var t=e.fromYear,n=e.toYear,r=e.fromMonth,s=e.toMonth,o=e.fromDate,i=e.toDate;return r?o=pt(r):t&&(o=new Date(t,0,1)),s?i=ac(s):n&&(i=new Date(n,11,31)),{fromDate:o?co(o):void 0,toDate:i?co(i):void 0}}var n_=g.createContext(void 0);function gO(e){var t,n=e.initialProps,r=mO(),s=pO(n),o=s.fromDate,i=s.toDate,a=(t=n.captionLayout)!==null&&t!==void 0?t:r.captionLayout;a!=="buttons"&&(!o||!i)&&(a="buttons");var c;(jc(n)||Ui(n)||Wi(n))&&(c=n.onSelect);var u=G(G(G({},r),n),{captionLayout:a,classNames:G(G({},r.classNames),n.classNames),components:G({},n.components),formatters:G(G({},r.formatters),n.formatters),fromDate:o,labels:G(G({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:G(G({},r.modifiers),n.modifiers),modifiersClassNames:G(G({},r.modifiersClassNames),n.modifiersClassNames),onSelect:c,styles:G(G({},r.styles),n.styles),toDate:i});return l.jsx(n_.Provider,{value:u,children:e.children})}function xe(){var e=g.useContext(n_);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function r_(e){var t=xe(),n=t.locale,r=t.classNames,s=t.styles,o=t.formatters.formatCaption;return l.jsx("div",{className:r.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:o(e.displayMonth,{locale:n})})}function vO(e){return l.jsx("svg",G({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:l.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function s_(e){var t,n,r=e.onChange,s=e.value,o=e.children,i=e.caption,a=e.className,c=e.style,u=xe(),d=(n=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&n!==void 0?n:vO;return l.jsxs("div",{className:a,style:c,children:[l.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),l.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:s,onChange:r,children:o}),l.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[i,l.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function yO(e){var t,n=xe(),r=n.fromDate,s=n.toDate,o=n.styles,i=n.locale,a=n.formatters.formatMonthCaption,c=n.classNames,u=n.components,d=n.labels.labelMonthDropdown;if(!r)return l.jsx(l.Fragment,{});if(!s)return l.jsx(l.Fragment,{});var f=[];if(M2(r,s))for(var p=pt(r),m=r.getMonth();m<=s.getMonth();m++)f.push(bu(p,m));else for(var p=pt(new Date),m=0;m<=11;m++)f.push(bu(p,m));var w=function(b){var x=Number(b.target.value),h=bu(pt(e.displayMonth),x);e.onChange(h)},y=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:s_;return l.jsx(y,{name:"months","aria-label":d(),className:c.dropdown_month,style:o.dropdown_month,onChange:w,value:e.displayMonth.getMonth(),caption:a(e.displayMonth,{locale:i}),children:f.map(function(b){return l.jsx("option",{value:b.getMonth(),children:a(b,{locale:i})},b.getMonth())})})}function xO(e){var t,n=e.displayMonth,r=xe(),s=r.fromDate,o=r.toDate,i=r.locale,a=r.styles,c=r.classNames,u=r.components,d=r.formatters.formatYearCaption,f=r.labels.labelYearDropdown,p=[];if(!s)return l.jsx(l.Fragment,{});if(!o)return l.jsx(l.Fragment,{});for(var m=s.getFullYear(),w=o.getFullYear(),y=m;y<=w;y++)p.push(dg(mx(new Date),y));var b=function(h){var v=dg(pt(n),Number(h.target.value));e.onChange(v)},x=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:s_;return l.jsx(x,{name:"years","aria-label":f(),className:c.dropdown_year,style:a.dropdown_year,onChange:b,value:n.getFullYear(),caption:d(n,{locale:i}),children:p.map(function(h){return l.jsx("option",{value:h.getFullYear(),children:d(h,{locale:i})},h.getFullYear())})})}function wO(e,t){var n=g.useState(e),r=n[0],s=n[1],o=t===void 0?r:t;return[o,s]}function bO(e){var t=e.month,n=e.defaultMonth,r=e.today,s=t||n||r||new Date,o=e.toDate,i=e.fromDate,a=e.numberOfMonths,c=a===void 0?1:a;if(o&&uo(o,s)<0){var u=-1*(c-1);s=nn(o,u)}return i&&uo(s,i)<0&&(s=i),pt(s)}function _O(){var e=xe(),t=bO(e),n=wO(t,e.month),r=n[0],s=n[1],o=function(i){var a;if(!e.disableNavigation){var c=pt(i);s(c),(a=e.onMonthChange)===null||a===void 0||a.call(e,c)}};return[r,o]}function SO(e,t){for(var n=t.reverseMonths,r=t.numberOfMonths,s=pt(e),o=pt(nn(s,r)),i=uo(o,s),a=[],c=0;c<i;c++){var u=nn(s,c);a.push(u)}return n&&(a=a.reverse()),a}function kO(e,t){if(!t.disableNavigation){var n=t.toDate,r=t.pagedNavigation,s=t.numberOfMonths,o=s===void 0?1:s,i=r?o:1,a=pt(e);if(!n)return nn(a,i);var c=uo(n,e);if(!(c<o))return nn(a,i)}}function NO(e,t){if(!t.disableNavigation){var n=t.fromDate,r=t.pagedNavigation,s=t.numberOfMonths,o=s===void 0?1:s,i=r?o:1,a=pt(e);if(!n)return nn(a,-i);var c=uo(a,n);if(!(c<=0))return nn(a,-i)}}var o_=g.createContext(void 0);function CO(e){var t=xe(),n=_O(),r=n[0],s=n[1],o=SO(r,t),i=kO(r,t),a=NO(r,t),c=function(f){return o.some(function(p){return _h(f,p)})},u=function(f,p){c(f)||(p&&wx(f,p)?s(nn(f,1+t.numberOfMonths*-1)):s(f))},d={currentMonth:r,displayMonths:o,goToMonth:s,goToDate:u,previousMonth:a,nextMonth:i,isDateDisplayed:c};return l.jsx(o_.Provider,{value:d,children:e.children})}function zi(){var e=g.useContext(o_);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function $g(e){var t,n=xe(),r=n.classNames,s=n.styles,o=n.components,i=zi().goToMonth,a=function(d){i(nn(d,e.displayIndex?-e.displayIndex:0))},c=(t=o==null?void 0:o.CaptionLabel)!==null&&t!==void 0?t:r_,u=l.jsx(c,{id:e.id,displayMonth:e.displayMonth});return l.jsxs("div",{className:r.caption_dropdowns,style:s.caption_dropdowns,children:[l.jsx("div",{className:r.vhidden,children:u}),l.jsx(yO,{onChange:a,displayMonth:e.displayMonth}),l.jsx(xO,{onChange:a,displayMonth:e.displayMonth})]})}function jO(e){return l.jsx("svg",G({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:l.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function EO(e){return l.jsx("svg",G({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:l.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Rl=g.forwardRef(function(e,t){var n=xe(),r=n.classNames,s=n.styles,o=[r.button_reset,r.button];e.className&&o.push(e.className);var i=o.join(" "),a=G(G({},s.button_reset),s.button);return e.style&&Object.assign(a,e.style),l.jsx("button",G({},e,{ref:t,type:"button",className:i,style:a}))});function PO(e){var t,n,r=xe(),s=r.dir,o=r.locale,i=r.classNames,a=r.styles,c=r.labels,u=c.labelPrevious,d=c.labelNext,f=r.components;if(!e.nextMonth&&!e.previousMonth)return l.jsx(l.Fragment,{});var p=u(e.previousMonth,{locale:o}),m=[i.nav_button,i.nav_button_previous].join(" "),w=d(e.nextMonth,{locale:o}),y=[i.nav_button,i.nav_button_next].join(" "),b=(t=f==null?void 0:f.IconRight)!==null&&t!==void 0?t:EO,x=(n=f==null?void 0:f.IconLeft)!==null&&n!==void 0?n:jO;return l.jsxs("div",{className:i.nav,style:a.nav,children:[!e.hidePrevious&&l.jsx(Rl,{name:"previous-month","aria-label":p,className:m,style:a.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:s==="rtl"?l.jsx(b,{className:i.nav_icon,style:a.nav_icon}):l.jsx(x,{className:i.nav_icon,style:a.nav_icon})}),!e.hideNext&&l.jsx(Rl,{name:"next-month","aria-label":w,className:y,style:a.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:s==="rtl"?l.jsx(x,{className:i.nav_icon,style:a.nav_icon}):l.jsx(b,{className:i.nav_icon,style:a.nav_icon})})]})}function Fg(e){var t=xe().numberOfMonths,n=zi(),r=n.previousMonth,s=n.nextMonth,o=n.goToMonth,i=n.displayMonths,a=i.findIndex(function(w){return _h(e.displayMonth,w)}),c=a===0,u=a===i.length-1,d=t>1&&(c||!u),f=t>1&&(u||!c),p=function(){r&&o(r)},m=function(){s&&o(s)};return l.jsx(PO,{displayMonth:e.displayMonth,hideNext:d,hidePrevious:f,nextMonth:s,previousMonth:r,onPreviousClick:p,onNextClick:m})}function TO(e){var t,n=xe(),r=n.classNames,s=n.disableNavigation,o=n.styles,i=n.captionLayout,a=n.components,c=(t=a==null?void 0:a.CaptionLabel)!==null&&t!==void 0?t:r_,u;return s?u=l.jsx(c,{id:e.id,displayMonth:e.displayMonth}):i==="dropdown"?u=l.jsx($g,{displayMonth:e.displayMonth,id:e.id}):i==="dropdown-buttons"?u=l.jsxs(l.Fragment,{children:[l.jsx($g,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),l.jsx(Fg,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=l.jsxs(l.Fragment,{children:[l.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),l.jsx(Fg,{displayMonth:e.displayMonth,id:e.id})]}),l.jsx("div",{className:r.caption,style:o.caption,children:u})}function RO(e){var t=xe(),n=t.footer,r=t.styles,s=t.classNames.tfoot;return n?l.jsx("tfoot",{className:s,style:r.tfoot,children:l.jsx("tr",{children:l.jsx("td",{colSpan:8,children:n})})}):l.jsx(l.Fragment,{})}function AO(e,t,n){for(var r=n?ts(new Date):xn(new Date,{locale:e,weekStartsOn:t}),s=[],o=0;o<7;o++){var i=rt(r,o);s.push(i)}return s}function IO(){var e=xe(),t=e.classNames,n=e.styles,r=e.showWeekNumber,s=e.locale,o=e.weekStartsOn,i=e.ISOWeek,a=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,u=AO(s,o,i);return l.jsxs("tr",{style:n.head_row,className:t.head_row,children:[r&&l.jsx("td",{style:n.head_cell,className:t.head_cell}),u.map(function(d,f){return l.jsx("th",{scope:"col",className:t.head_cell,style:n.head_cell,"aria-label":c(d,{locale:s}),children:a(d,{locale:s})},f)})]})}function OO(){var e,t=xe(),n=t.classNames,r=t.styles,s=t.components,o=(e=s==null?void 0:s.HeadRow)!==null&&e!==void 0?e:IO;return l.jsx("thead",{style:r.head,className:n.head,children:l.jsx(o,{})})}function MO(e){var t=xe(),n=t.locale,r=t.formatters.formatDay;return l.jsx(l.Fragment,{children:r(e.date,{locale:n})})}var Qh=g.createContext(void 0);function DO(e){if(!Ui(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return l.jsx(Qh.Provider,{value:t,children:e.children})}return l.jsx(LO,{initialProps:e.initialProps,children:e.children})}function LO(e){var t=e.initialProps,n=e.children,r=t.selected,s=t.min,o=t.max,i=function(u,d,f){var p,m;(p=t.onDayClick)===null||p===void 0||p.call(t,u,d,f);var w=!!(d.selected&&s&&(r==null?void 0:r.length)===s);if(!w){var y=!!(!d.selected&&o&&(r==null?void 0:r.length)===o);if(!y){var b=r?t_([],r):[];if(d.selected){var x=b.findIndex(function(h){return dt(u,h)});b.splice(x,1)}else b.push(u);(m=t.onSelect)===null||m===void 0||m.call(t,b,u,d,f)}}},a={disabled:[]};r&&a.disabled.push(function(u){var d=o&&r.length>o-1,f=r.some(function(p){return dt(p,u)});return!!(d&&!f)});var c={selected:r,onDayClick:i,modifiers:a};return l.jsx(Qh.Provider,{value:c,children:n})}function Jh(){var e=g.useContext(Qh);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function $O(e,t){var n=t||{},r=n.from,s=n.to;return r&&s?dt(s,e)&&dt(r,e)?void 0:dt(s,e)?{from:s,to:void 0}:dt(r,e)?void 0:Qd(r,e)?{from:e,to:s}:{from:r,to:e}:s?Qd(e,s)?{from:s,to:e}:{from:e,to:s}:r?wx(e,r)?{from:e,to:r}:{from:r,to:e}:{from:e,to:void 0}}var Zh=g.createContext(void 0);function FO(e){if(!Wi(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return l.jsx(Zh.Provider,{value:t,children:e.children})}return l.jsx(BO,{initialProps:e.initialProps,children:e.children})}function BO(e){var t=e.initialProps,n=e.children,r=t.selected,s=r||{},o=s.from,i=s.to,a=t.min,c=t.max,u=function(m,w,y){var b,x;(b=t.onDayClick)===null||b===void 0||b.call(t,m,w,y);var h=$O(m,r);(x=t.onSelect)===null||x===void 0||x.call(t,h,m,w,y)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(o?(d.range_start=[o],i?(d.range_end=[i],dt(o,i)||(d.range_middle=[{after:o,before:i}])):d.range_end=[o]):i&&(d.range_start=[i],d.range_end=[i]),a&&(o&&!i&&d.disabled.push({after:wu(o,a-1),before:rt(o,a-1)}),o&&i&&d.disabled.push({after:o,before:rt(o,a-1)}),!o&&i&&d.disabled.push({after:wu(i,a-1),before:rt(i,a-1)})),c){if(o&&!i&&(d.disabled.push({before:rt(o,-c+1)}),d.disabled.push({after:rt(o,c-1)})),o&&i){var f=hn(i,o)+1,p=c-f;d.disabled.push({before:wu(o,p)}),d.disabled.push({after:rt(i,p)})}!o&&i&&(d.disabled.push({before:rt(i,-c+1)}),d.disabled.push({after:rt(i,c-1)}))}return l.jsx(Zh.Provider,{value:{selected:r,onDayClick:u,modifiers:d},children:n})}function em(){var e=g.useContext(Zh);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Ba(e){return Array.isArray(e)?t_([],e):e!==void 0?[e]:[]}function UO(e){var t={};return Object.entries(e).forEach(function(n){var r=n[0],s=n[1];t[r]=Ba(s)}),t}var on;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(on||(on={}));var WO=on.Selected,Nn=on.Disabled,zO=on.Hidden,HO=on.Today,Mu=on.RangeEnd,Du=on.RangeMiddle,Lu=on.RangeStart,VO=on.Outside;function YO(e,t,n){var r,s=(r={},r[WO]=Ba(e.selected),r[Nn]=Ba(e.disabled),r[zO]=Ba(e.hidden),r[HO]=[e.today],r[Mu]=[],r[Du]=[],r[Lu]=[],r[VO]=[],r);return e.fromDate&&s[Nn].push({before:e.fromDate}),e.toDate&&s[Nn].push({after:e.toDate}),Ui(e)?s[Nn]=s[Nn].concat(t.modifiers[Nn]):Wi(e)&&(s[Nn]=s[Nn].concat(n.modifiers[Nn]),s[Lu]=n.modifiers[Lu],s[Du]=n.modifiers[Du],s[Mu]=n.modifiers[Mu]),s}var i_=g.createContext(void 0);function qO(e){var t=xe(),n=Jh(),r=em(),s=YO(t,n,r),o=UO(t.modifiers),i=G(G({},s),o);return l.jsx(i_.Provider,{value:i,children:e.children})}function a_(){var e=g.useContext(i_);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function GO(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function KO(e){return!!(e&&typeof e=="object"&&"from"in e)}function XO(e){return!!(e&&typeof e=="object"&&"after"in e)}function QO(e){return!!(e&&typeof e=="object"&&"before"in e)}function JO(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function ZO(e,t){var n,r=t.from,s=t.to;if(r&&s){var o=hn(s,r)<0;o&&(n=[s,r],r=n[0],s=n[1]);var i=hn(e,r)>=0&&hn(s,e)>=0;return i}return s?dt(s,e):r?dt(r,e):!1}function eM(e){return xh(e)}function tM(e){return Array.isArray(e)&&e.every(xh)}function nM(e,t){return t.some(function(n){if(typeof n=="boolean")return n;if(eM(n))return dt(e,n);if(tM(n))return n.includes(e);if(KO(n))return ZO(e,n);if(JO(n))return n.dayOfWeek.includes(e.getDay());if(GO(n)){var r=hn(n.before,e),s=hn(n.after,e),o=r>0,i=s<0,a=Qd(n.before,n.after);return a?i&&o:o||i}return XO(n)?hn(e,n.after)>0:QO(n)?hn(n.before,e)>0:typeof n=="function"?n(e):!1})}function tm(e,t,n){var r=Object.keys(t).reduce(function(o,i){var a=t[i];return nM(e,a)&&o.push(i),o},[]),s={};return r.forEach(function(o){return s[o]=!0}),n&&!_h(e,n)&&(s.outside=!0),s}function rM(e,t){for(var n=pt(e[0]),r=ac(e[e.length-1]),s,o,i=n;i<=r;){var a=tm(i,t),c=!a.disabled&&!a.hidden;if(!c){i=rt(i,1);continue}if(a.selected)return i;a.today&&!o&&(o=i),s||(s=i),i=rt(i,1)}return o||s}var sM=365;function l_(e,t){var n=t.moveBy,r=t.direction,s=t.context,o=t.modifiers,i=t.retry,a=i===void 0?{count:0,lastFocused:e}:i,c=s.weekStartsOn,u=s.fromDate,d=s.toDate,f=s.locale,p={day:rt,week:Xd,month:nn,year:_P,startOfWeek:function(b){return s.ISOWeek?ts(b):xn(b,{locale:f,weekStartsOn:c})},endOfWeek:function(b){return s.ISOWeek?px(b):wh(b,{locale:f,weekStartsOn:c})}},m=p[n](e,r==="after"?1:-1);r==="before"&&u?m=SP([u,m]):r==="after"&&d&&(m=kP([d,m]));var w=!0;if(o){var y=tm(m,o);w=!y.disabled&&!y.hidden}return w?m:a.count>sM?a.lastFocused:l_(m,{moveBy:n,direction:r,context:s,modifiers:o,retry:G(G({},a),{count:a.count+1})})}var c_=g.createContext(void 0);function oM(e){var t=zi(),n=a_(),r=g.useState(),s=r[0],o=r[1],i=g.useState(),a=i[0],c=i[1],u=rM(t.displayMonths,n),d=s??(a&&t.isDateDisplayed(a))?a:u,f=function(){c(s),o(void 0)},p=function(b){o(b)},m=xe(),w=function(b,x){if(s){var h=l_(s,{moveBy:b,direction:x,context:m,modifiers:n});dt(s,h)||(t.goToDate(h,s),p(h))}},y={focusedDay:s,focusTarget:d,blur:f,focus:p,focusDayAfter:function(){return w("day","after")},focusDayBefore:function(){return w("day","before")},focusWeekAfter:function(){return w("week","after")},focusWeekBefore:function(){return w("week","before")},focusMonthBefore:function(){return w("month","before")},focusMonthAfter:function(){return w("month","after")},focusYearBefore:function(){return w("year","before")},focusYearAfter:function(){return w("year","after")},focusStartOfWeek:function(){return w("startOfWeek","before")},focusEndOfWeek:function(){return w("endOfWeek","after")}};return l.jsx(c_.Provider,{value:y,children:e.children})}function nm(){var e=g.useContext(c_);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function iM(e,t){var n=a_(),r=tm(e,n,t);return r}var rm=g.createContext(void 0);function aM(e){if(!jc(e.initialProps)){var t={selected:void 0};return l.jsx(rm.Provider,{value:t,children:e.children})}return l.jsx(lM,{initialProps:e.initialProps,children:e.children})}function lM(e){var t=e.initialProps,n=e.children,r=function(o,i,a){var c,u,d;if((c=t.onDayClick)===null||c===void 0||c.call(t,o,i,a),i.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,o,i,a);return}(d=t.onSelect)===null||d===void 0||d.call(t,o,o,i,a)},s={selected:t.selected,onDayClick:r};return l.jsx(rm.Provider,{value:s,children:n})}function u_(){var e=g.useContext(rm);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function cM(e,t){var n=xe(),r=u_(),s=Jh(),o=em(),i=nm(),a=i.focusDayAfter,c=i.focusDayBefore,u=i.focusWeekAfter,d=i.focusWeekBefore,f=i.blur,p=i.focus,m=i.focusMonthBefore,w=i.focusMonthAfter,y=i.focusYearBefore,b=i.focusYearAfter,x=i.focusStartOfWeek,h=i.focusEndOfWeek,v=function(R){var C,P,F,Y;jc(n)?(C=r.onDayClick)===null||C===void 0||C.call(r,e,t,R):Ui(n)?(P=s.onDayClick)===null||P===void 0||P.call(s,e,t,R):Wi(n)?(F=o.onDayClick)===null||F===void 0||F.call(o,e,t,R):(Y=n.onDayClick)===null||Y===void 0||Y.call(n,e,t,R)},_=function(R){var C;p(e),(C=n.onDayFocus)===null||C===void 0||C.call(n,e,t,R)},S=function(R){var C;f(),(C=n.onDayBlur)===null||C===void 0||C.call(n,e,t,R)},k=function(R){var C;(C=n.onDayMouseEnter)===null||C===void 0||C.call(n,e,t,R)},N=function(R){var C;(C=n.onDayMouseLeave)===null||C===void 0||C.call(n,e,t,R)},E=function(R){var C;(C=n.onDayPointerEnter)===null||C===void 0||C.call(n,e,t,R)},I=function(R){var C;(C=n.onDayPointerLeave)===null||C===void 0||C.call(n,e,t,R)},A=function(R){var C;(C=n.onDayTouchCancel)===null||C===void 0||C.call(n,e,t,R)},U=function(R){var C;(C=n.onDayTouchEnd)===null||C===void 0||C.call(n,e,t,R)},T=function(R){var C;(C=n.onDayTouchMove)===null||C===void 0||C.call(n,e,t,R)},O=function(R){var C;(C=n.onDayTouchStart)===null||C===void 0||C.call(n,e,t,R)},j=function(R){var C;(C=n.onDayKeyUp)===null||C===void 0||C.call(n,e,t,R)},D=function(R){var C;switch(R.key){case"ArrowLeft":R.preventDefault(),R.stopPropagation(),n.dir==="rtl"?a():c();break;case"ArrowRight":R.preventDefault(),R.stopPropagation(),n.dir==="rtl"?c():a();break;case"ArrowDown":R.preventDefault(),R.stopPropagation(),u();break;case"ArrowUp":R.preventDefault(),R.stopPropagation(),d();break;case"PageUp":R.preventDefault(),R.stopPropagation(),R.shiftKey?y():m();break;case"PageDown":R.preventDefault(),R.stopPropagation(),R.shiftKey?b():w();break;case"Home":R.preventDefault(),R.stopPropagation(),x();break;case"End":R.preventDefault(),R.stopPropagation(),h();break}(C=n.onDayKeyDown)===null||C===void 0||C.call(n,e,t,R)},L={onClick:v,onFocus:_,onBlur:S,onKeyDown:D,onKeyUp:j,onMouseEnter:k,onMouseLeave:N,onPointerEnter:E,onPointerLeave:I,onTouchCancel:A,onTouchEnd:U,onTouchMove:T,onTouchStart:O};return L}function uM(){var e=xe(),t=u_(),n=Jh(),r=em(),s=jc(e)?t.selected:Ui(e)?n.selected:Wi(e)?r.selected:void 0;return s}function dM(e){return Object.values(on).includes(e)}function fM(e,t){var n=[e.classNames.day];return Object.keys(t).forEach(function(r){var s=e.modifiersClassNames[r];if(s)n.push(s);else if(dM(r)){var o=e.classNames["day_".concat(r)];o&&n.push(o)}}),n}function hM(e,t){var n=G({},e.styles.day);return Object.keys(t).forEach(function(r){var s;n=G(G({},n),(s=e.modifiersStyles)===null||s===void 0?void 0:s[r])}),n}function mM(e,t,n){var r,s,o,i=xe(),a=nm(),c=iM(e,t),u=cM(e,c),d=uM(),f=!!(i.onDayClick||i.mode!=="default");g.useEffect(function(){var k;c.outside||a.focusedDay&&f&&dt(a.focusedDay,e)&&((k=n.current)===null||k===void 0||k.focus())},[a.focusedDay,e,n,f,c.outside]);var p=fM(i,c).join(" "),m=hM(i,c),w=!!(c.outside&&!i.showOutsideDays||c.hidden),y=(o=(s=i.components)===null||s===void 0?void 0:s.DayContent)!==null&&o!==void 0?o:MO,b=l.jsx(y,{date:e,displayMonth:t,activeModifiers:c}),x={style:m,className:p,children:b,role:"gridcell"},h=a.focusTarget&&dt(a.focusTarget,e)&&!c.outside,v=a.focusedDay&&dt(a.focusedDay,e),_=G(G(G({},x),(r={disabled:c.disabled,role:"gridcell"},r["aria-selected"]=c.selected,r.tabIndex=v||h?0:-1,r)),u),S={isButton:f,isHidden:w,activeModifiers:c,selectedDays:d,buttonProps:_,divProps:x};return S}function pM(e){var t=g.useRef(null),n=mM(e.date,e.displayMonth,t);return n.isHidden?l.jsx("div",{role:"gridcell"}):n.isButton?l.jsx(Rl,G({name:"day",ref:t},n.buttonProps)):l.jsx("div",G({},n.divProps))}function gM(e){var t=e.number,n=e.dates,r=xe(),s=r.onWeekNumberClick,o=r.styles,i=r.classNames,a=r.locale,c=r.labels.labelWeekNumber,u=r.formatters.formatWeekNumber,d=u(Number(t),{locale:a});if(!s)return l.jsx("span",{className:i.weeknumber,style:o.weeknumber,children:d});var f=c(Number(t),{locale:a}),p=function(m){s(t,n,m)};return l.jsx(Rl,{name:"week-number","aria-label":f,className:i.weeknumber,style:o.weeknumber,onClick:p,children:d})}function vM(e){var t,n,r=xe(),s=r.styles,o=r.classNames,i=r.showWeekNumber,a=r.components,c=(t=a==null?void 0:a.Day)!==null&&t!==void 0?t:pM,u=(n=a==null?void 0:a.WeekNumber)!==null&&n!==void 0?n:gM,d;return i&&(d=l.jsx("td",{className:o.cell,style:s.cell,children:l.jsx(u,{number:e.weekNumber,dates:e.dates})})),l.jsxs("tr",{className:o.row,style:s.row,children:[d,e.dates.map(function(f){return l.jsx("td",{className:o.cell,style:s.cell,role:"presentation",children:l.jsx(c,{displayMonth:e.displayMonth,date:f})},A2(f))})]})}function Bg(e,t,n){for(var r=n!=null&&n.ISOWeek?px(t):wh(t,n),s=n!=null&&n.ISOWeek?ts(e):xn(e,n),o=hn(r,s),i=[],a=0;a<=o;a++)i.push(rt(s,a));var c=i.reduce(function(u,d){var f=n!=null&&n.ISOWeek?gx(d):yx(d,n),p=u.find(function(m){return m.weekNumber===f});return p?(p.dates.push(d),u):(u.push({weekNumber:f,dates:[d]}),u)},[]);return c}function yM(e,t){var n=Bg(pt(e),ac(e),t);if(t!=null&&t.useFixedWeeks){var r=O2(e,t);if(r<6){var s=n[n.length-1],o=s.dates[s.dates.length-1],i=Xd(o,6-r),a=Bg(Xd(o,1),i,t);n.push.apply(n,a)}}return n}function xM(e){var t,n,r,s=xe(),o=s.locale,i=s.classNames,a=s.styles,c=s.hideHead,u=s.fixedWeeks,d=s.components,f=s.weekStartsOn,p=s.firstWeekContainsDate,m=s.ISOWeek,w=yM(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:m,locale:o,weekStartsOn:f,firstWeekContainsDate:p}),y=(t=d==null?void 0:d.Head)!==null&&t!==void 0?t:OO,b=(n=d==null?void 0:d.Row)!==null&&n!==void 0?n:vM,x=(r=d==null?void 0:d.Footer)!==null&&r!==void 0?r:RO;return l.jsxs("table",{id:e.id,className:i.table,style:a.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&l.jsx(y,{}),l.jsx("tbody",{className:i.tbody,style:a.tbody,children:w.map(function(h){return l.jsx(b,{displayMonth:e.displayMonth,dates:h.dates,weekNumber:h.weekNumber},h.weekNumber)})}),l.jsx(x,{displayMonth:e.displayMonth})]})}function wM(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var bM=wM()?g.useLayoutEffect:g.useEffect,$u=!1,_M=0;function Ug(){return"react-day-picker-".concat(++_M)}function SM(e){var t,n=e??($u?Ug():null),r=g.useState(n),s=r[0],o=r[1];return bM(function(){s===null&&o(Ug())},[]),g.useEffect(function(){$u===!1&&($u=!0)},[]),(t=e??s)!==null&&t!==void 0?t:void 0}function kM(e){var t,n,r=xe(),s=r.dir,o=r.classNames,i=r.styles,a=r.components,c=zi().displayMonths,u=SM(r.id?"".concat(r.id,"-").concat(e.displayIndex):void 0),d=r.id?"".concat(r.id,"-grid-").concat(e.displayIndex):void 0,f=[o.month],p=i.month,m=e.displayIndex===0,w=e.displayIndex===c.length-1,y=!m&&!w;s==="rtl"&&(t=[m,w],w=t[0],m=t[1]),m&&(f.push(o.caption_start),p=G(G({},p),i.caption_start)),w&&(f.push(o.caption_end),p=G(G({},p),i.caption_end)),y&&(f.push(o.caption_between),p=G(G({},p),i.caption_between));var b=(n=a==null?void 0:a.Caption)!==null&&n!==void 0?n:TO;return l.jsxs("div",{className:f.join(" "),style:p,children:[l.jsx(b,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),l.jsx(xM,{id:d,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function NM(e){var t=xe(),n=t.classNames,r=t.styles;return l.jsx("div",{className:n.months,style:r.months,children:e.children})}function CM(e){var t,n,r=e.initialProps,s=xe(),o=nm(),i=zi(),a=g.useState(!1),c=a[0],u=a[1];g.useEffect(function(){s.initialFocus&&o.focusTarget&&(c||(o.focus(o.focusTarget),u(!0)))},[s.initialFocus,c,o.focus,o.focusTarget,o]);var d=[s.classNames.root,s.className];s.numberOfMonths>1&&d.push(s.classNames.multiple_months),s.showWeekNumber&&d.push(s.classNames.with_weeknumber);var f=G(G({},s.styles.root),s.style),p=Object.keys(r).filter(function(w){return w.startsWith("data-")}).reduce(function(w,y){var b;return G(G({},w),(b={},b[y]=r[y],b))},{}),m=(n=(t=r.components)===null||t===void 0?void 0:t.Months)!==null&&n!==void 0?n:NM;return l.jsx("div",G({className:d.join(" "),style:f,dir:s.dir,id:s.id,nonce:r.nonce,title:r.title,lang:r.lang},p,{children:l.jsx(m,{children:i.displayMonths.map(function(w,y){return l.jsx(kM,{displayIndex:y,displayMonth:w},y)})})}))}function jM(e){var t=e.children,n=QI(e,["children"]);return l.jsx(gO,{initialProps:n,children:l.jsx(CO,{children:l.jsx(aM,{initialProps:n,children:l.jsx(DO,{initialProps:n,children:l.jsx(FO,{initialProps:n,children:l.jsx(qO,{children:l.jsx(oM,{children:t})})})})})})})}function EM(e){return l.jsx(jM,G({},e,{children:l.jsx(CM,{initialProps:e})}))}function d_({className:e,classNames:t,showOutsideDays:n=!0,...r}){return l.jsx(EM,{showOutsideDays:n,className:H("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:H(Kd({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:H(Kd({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...s})=>l.jsx(AN,{className:"h-4 w-4"}),IconRight:({...s})=>l.jsx(IN,{className:"h-4 w-4"})},...r})}d_.displayName="Calendar";var Ec="Popover",[f_,T4]=Ct(Ec,[yc]),Hi=yc(),[PM,Tr]=f_(Ec),h_=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:i=!1}=e,a=Hi(t),c=g.useRef(null),[u,d]=g.useState(!1),[f,p]=Ln({prop:r,defaultProp:s??!1,onChange:o,caller:Ec});return l.jsx(Ow,{...a,children:l.jsx(PM,{scope:t,contentId:vn(),triggerRef:c,open:f,onOpenChange:p,onOpenToggle:g.useCallback(()=>p(m=>!m),[p]),hasCustomAnchor:u,onCustomAnchorAdd:g.useCallback(()=>d(!0),[]),onCustomAnchorRemove:g.useCallback(()=>d(!1),[]),modal:i,children:n})})};h_.displayName=Ec;var m_="PopoverAnchor",TM=g.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=Tr(m_,n),o=Hi(n),{onCustomAnchorAdd:i,onCustomAnchorRemove:a}=s;return g.useEffect(()=>(i(),()=>a()),[i,a]),l.jsx(Hh,{...o,...r,ref:t})});TM.displayName=m_;var p_="PopoverTrigger",g_=g.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=Tr(p_,n),o=Hi(n),i=se(t,s.triggerRef),a=l.jsx(V.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":b_(s.open),...r,ref:i,onClick:q(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?a:l.jsx(Hh,{asChild:!0,...o,children:a})});g_.displayName=p_;var sm="PopoverPortal",[RM,AM]=f_(sm,{forceMount:void 0}),v_=e=>{const{__scopePopover:t,forceMount:n,children:r,container:s}=e,o=Tr(sm,t);return l.jsx(RM,{scope:t,forceMount:n,children:l.jsx(vt,{present:n||o.open,children:l.jsx(xc,{asChild:!0,container:s,children:r})})})};v_.displayName=sm;var mo="PopoverContent",y_=g.forwardRef((e,t)=>{const n=AM(mo,e.__scopePopover),{forceMount:r=n.forceMount,...s}=e,o=Tr(mo,e.__scopePopover);return l.jsx(vt,{present:r||o.open,children:o.modal?l.jsx(OM,{...s,ref:t}):l.jsx(MM,{...s,ref:t})})});y_.displayName=mo;var IM=es("PopoverContent.RemoveScroll"),OM=g.forwardRef((e,t)=>{const n=Tr(mo,e.__scopePopover),r=g.useRef(null),s=se(t,r),o=g.useRef(!1);return g.useEffect(()=>{const i=r.current;if(i)return Yh(i)},[]),l.jsx(bc,{as:IM,allowPinchZoom:!0,children:l.jsx(x_,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:q(e.onCloseAutoFocus,i=>{var a;i.preventDefault(),o.current||(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:q(e.onPointerDownOutside,i=>{const a=i.detail.originalEvent,c=a.button===0&&a.ctrlKey===!0,u=a.button===2||c;o.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:q(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),MM=g.forwardRef((e,t)=>{const n=Tr(mo,e.__scopePopover),r=g.useRef(!1),s=g.useRef(!1);return l.jsx(x_,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,a;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((u=n.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),x_=g.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:i,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,p=Tr(mo,n),m=Hi(n);return Ih(),l.jsx(mc,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:l.jsx(hc,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:d,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>p.onOpenChange(!1),children:l.jsx(Mw,{"data-state":b_(p.open),role:"dialog",id:p.contentId,...m,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),w_="PopoverClose",DM=g.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=Tr(w_,n);return l.jsx(V.button,{type:"button",...r,ref:t,onClick:q(e.onClick,()=>s.onOpenChange(!1))})});DM.displayName=w_;var LM="PopoverArrow",$M=g.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=Hi(n);return l.jsx(Dw,{...s,...r,ref:t})});$M.displayName=LM;function b_(e){return e?"open":"closed"}var FM=h_,BM=g_,UM=v_,__=y_;const WM=FM,zM=BM,S_=g.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},s)=>l.jsx(UM,{children:l.jsx(__,{ref:s,align:t,sideOffset:n,className:H("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none pointer-events-auto data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));S_.displayName=__.displayName;var Pc="Dialog",[k_,R4]=Ct(Pc),[HM,an]=k_(Pc),N_=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:i=!0}=e,a=g.useRef(null),c=g.useRef(null),[u,d]=Ln({prop:r,defaultProp:s??!1,onChange:o,caller:Pc});return l.jsx(HM,{scope:t,triggerRef:a,contentRef:c,contentId:vn(),titleId:vn(),descriptionId:vn(),open:u,onOpenChange:d,onOpenToggle:g.useCallback(()=>d(f=>!f),[d]),modal:i,children:n})};N_.displayName=Pc;var C_="DialogTrigger",j_=g.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=an(C_,n),o=se(t,s.triggerRef);return l.jsx(V.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":am(s.open),...r,ref:o,onClick:q(e.onClick,s.onOpenToggle)})});j_.displayName=C_;var om="DialogPortal",[VM,E_]=k_(om,{forceMount:void 0}),P_=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,o=an(om,t);return l.jsx(VM,{scope:t,forceMount:n,children:g.Children.map(r,i=>l.jsx(vt,{present:n||o.open,children:l.jsx(xc,{asChild:!0,container:s,children:i})}))})};P_.displayName=om;var Al="DialogOverlay",T_=g.forwardRef((e,t)=>{const n=E_(Al,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=an(Al,e.__scopeDialog);return o.modal?l.jsx(vt,{present:r||o.open,children:l.jsx(qM,{...s,ref:t})}):null});T_.displayName=Al;var YM=es("DialogOverlay.RemoveScroll"),qM=g.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=an(Al,n);return l.jsx(bc,{as:YM,allowPinchZoom:!0,shards:[s.contentRef],children:l.jsx(V.div,{"data-state":am(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),os="DialogContent",R_=g.forwardRef((e,t)=>{const n=E_(os,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=an(os,e.__scopeDialog);return l.jsx(vt,{present:r||o.open,children:o.modal?l.jsx(GM,{...s,ref:t}):l.jsx(KM,{...s,ref:t})})});R_.displayName=os;var GM=g.forwardRef((e,t)=>{const n=an(os,e.__scopeDialog),r=g.useRef(null),s=se(t,n.contentRef,r);return g.useEffect(()=>{const o=r.current;if(o)return Yh(o)},[]),l.jsx(A_,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:q(e.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:q(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,a=i.button===0&&i.ctrlKey===!0;(i.button===2||a)&&o.preventDefault()}),onFocusOutside:q(e.onFocusOutside,o=>o.preventDefault())})}),KM=g.forwardRef((e,t)=>{const n=an(os,e.__scopeDialog),r=g.useRef(!1),s=g.useRef(!1);return l.jsx(A_,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,a;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((u=n.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),A_=g.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=e,a=an(os,n),c=g.useRef(null),u=se(t,c);return Ih(),l.jsxs(l.Fragment,{children:[l.jsx(mc,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:l.jsx(hc,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":am(a.open),...i,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(XM,{titleId:a.titleId}),l.jsx(JM,{contentRef:c,descriptionId:a.descriptionId})]})]})}),im="DialogTitle",I_=g.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=an(im,n);return l.jsx(V.h2,{id:s.titleId,...r,ref:t})});I_.displayName=im;var O_="DialogDescription",M_=g.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=an(O_,n);return l.jsx(V.p,{id:s.descriptionId,...r,ref:t})});M_.displayName=O_;var D_="DialogClose",L_=g.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=an(D_,n);return l.jsx(V.button,{type:"button",...r,ref:t,onClick:q(e.onClick,()=>s.onOpenChange(!1))})});L_.displayName=D_;function am(e){return e?"open":"closed"}var $_="DialogTitleWarning",[A4,F_]=eP($_,{contentName:os,titleName:im,docsSlug:"dialog"}),XM=({titleId:e})=>{const t=F_($_),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return g.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},QM="DialogDescriptionWarning",JM=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${F_(QM).contentName}}.`;return g.useEffect(()=>{var o;const s=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},ZM=N_,eD=j_,tD=P_,B_=T_,U_=R_,W_=I_,z_=M_,nD=L_;const lm=ZM,H_=eD,rD=tD,V_=g.forwardRef(({className:e,...t},n)=>l.jsx(B_,{ref:n,className:H("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));V_.displayName=B_.displayName;const Tc=g.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(rD,{children:[l.jsx(V_,{}),l.jsxs(U_,{ref:r,className:H("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,l.jsxs(nD,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[l.jsx(_0,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Tc.displayName=U_.displayName;const Rc=({className:e,...t})=>l.jsx("div",{className:H("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Rc.displayName="DialogHeader";const Ac=g.forwardRef(({className:e,...t},n)=>l.jsx(W_,{ref:n,className:H("text-lg font-semibold leading-none tracking-tight",e),...t}));Ac.displayName=W_.displayName;const Y_=g.forwardRef(({className:e,...t},n)=>l.jsx(z_,{ref:n,className:H("text-sm text-muted-foreground",e),...t}));Y_.displayName=z_.displayName;function Sn({title:e,description:t,cards:n,layout:r="single",onFieldChange:s,fieldValues:o={}}){const[i,a]=g.useState({}),c=r==="double"?"two-column":r==="triple"?"three-column":r,u=(h,v)=>{try{if(h.includes("includes")){const k=h.match(/(\w+)\.includes\(['"]([^'"]+)['"]\)/);if(k){const[,N,E]=k,I=v[N];return Array.isArray(I)?I.includes(E):!1}}const _=h.match(/(\w+)\s*===?\s*['"]([^'"]+)['"]/);if(_){const[,k,N]=_;return v[k]===N}const S=h.match(/(\w+)\s*===?\s*(true|false)/);if(S){const[,k,N]=S;return v[k]===(N==="true")}return!1}catch{return!1}},d=h=>h?h.map(v=>typeof v=="string"?{value:v,label:v}:v):[],f=h=>h?{opas:"bg-blue-50 dark:bg-blue-950/50",evital:"bg-green-50 dark:bg-green-950/50","previous-assessment":"bg-purple-50 dark:bg-purple-950/50","alert-function":"bg-orange-50 dark:bg-orange-950/50","ai-filled":"bg-medical-ai-filled"}[h]:"",p=(h,v)=>{if(!h||h==="manual"||!!(v==null||typeof v=="string"&&v.trim()===""||Array.isArray(v)&&v.length===0))return null;const S={opas:"OPAS",evital:"eVital","previous-assessment":"History","alert-function":"Alert Function","ai-filled":"AI Filled",manual:""},k={opas:"secondary",evital:"default","previous-assessment":"outline","alert-function":"destructive","ai-filled":"default"};return l.jsx(ge,{variant:k[h],className:"text-xs",children:S[h]})},m=(h,v)=>{const _={...v,id:`${v.id}_${Date.now()}`};a(S=>({...S,[h]:[...S[h]||[],_]}))},w=h=>{var N,E;const v=H("transition-colors border-2",f(h.dataSource),h.dataSource==="ai-filled"&&"border-primary/20"),_=o[h.id]??h.value??h.defaultValue;if(h.displayCondition&&!u(h.displayCondition,o))return null;const S=h.disabledCondition&&u(h.disabledCondition,o),k=d(h.options);switch(h.type){case"text":case"number":case"date":case"time":return l.jsxs("div",{children:[l.jsx(Gt,{type:h.type,value:_||"",onChange:j=>s(h.id,j.target.value),className:v,disabled:S}),h.subLabel&&l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:h.subLabel})]});case"textarea":return l.jsxs("div",{children:[l.jsx(cw,{value:_||"",onChange:j=>s(h.id,j.target.value),className:v,disabled:S,rows:3}),h.subLabel&&l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:h.subLabel})]});case"select":return l.jsxs("div",{children:[l.jsxs(II,{value:_||"",onValueChange:j=>s(h.id,j),disabled:S,children:[l.jsx(jb,{className:v,children:l.jsx(OI,{placeholder:"Select option..."})}),l.jsx(Tb,{className:"z-50",children:k.map(j=>l.jsx(Rb,{value:String(j.value),children:j.label},j.value))})]}),h.subLabel&&l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:h.subLabel})]});case"checkbox":if(h.options&&h.options.length>0){const j=Array.isArray(_)?_:[];return l.jsxs("div",{className:"space-y-2",children:[l.jsx(Oe,{className:"text-sm font-medium",children:h.label}),l.jsx("div",{className:"space-y-2",children:k.map(D=>l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Bs,{checked:j.includes(String(D.value)),onCheckedChange:L=>{const R=L?[...j,String(D.value)]:j.filter(C=>C!==String(D.value));s(h.id,R)},disabled:S,id:`${h.id}-${D.value}`}),l.jsx(Oe,{htmlFor:`${h.id}-${D.value}`,className:"text-sm",children:D.label})]},D.value))}),h.subLabel&&l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:h.subLabel})]})}return l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Bs,{checked:_||!1,onCheckedChange:j=>s(h.id,j),disabled:S}),l.jsx(Oe,{className:"text-sm",children:h.label})]});case"radio":return l.jsxs("div",{children:[l.jsx(Zb,{value:_||"",onValueChange:j=>s(h.id,j),disabled:S,children:k.map(j=>l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(e_,{value:String(j.value),id:`${h.id}-${j.value}`}),l.jsx(Oe,{htmlFor:`${h.id}-${j.value}`,className:"text-sm",children:j.label})]},j.value))}),h.subLabel&&l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:h.subLabel})]});case"calculated":const I=h.calculation?h.calculation(o):"";return l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Gt,{value:I,className:H(v,"bg-muted"),disabled:!0}),l.jsxs(ge,{variant:"secondary",className:"text-xs",children:[l.jsx(RN,{className:"w-3 h-3 mr-1"}),"Auto"]})]});case"datepicker":const A=_?new Date(_):void 0;return l.jsxs(WM,{children:[l.jsx(zM,{asChild:!0,children:l.jsxs(ne,{variant:"outline",className:H("w-full justify-start text-left font-normal",!A&&"text-muted-foreground",v),disabled:S,children:[l.jsx(x0,{className:"mr-2 h-4 w-4"}),A?jr(A,"PPP"):l.jsx("span",{children:"Pick a date"})]})}),l.jsx(S_,{className:"w-auto p-0 z-50",align:"start",children:l.jsx(d_,{mode:"single",selected:A,onSelect:j=>s(h.id,j?j.toISOString():""),initialFocus:!0,className:"p-3 pointer-events-auto"})})]});case"multi-select":const U=Array.isArray(_)?_:[];return l.jsxs("div",{children:[l.jsx("div",{className:"space-y-2",children:k.map(j=>l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Bs,{checked:U.includes(String(j.value)),onCheckedChange:D=>{const L=D?[...U,String(j.value)]:U.filter(R=>R!==String(j.value));s(h.id,L)},disabled:S}),l.jsx(Oe,{className:"text-sm",children:j.label})]},j.value))}),h.subLabel&&l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:h.subLabel})]});case"inline-group":return l.jsx("div",{className:"flex items-center space-x-2",children:(N=h.inlineFields)==null?void 0:N.map(j=>l.jsxs("div",{className:"flex-1",children:[l.jsx(Oe,{className:"text-xs text-muted-foreground mb-1 block",children:j.label}),w(j)]},j.id))});case"file":case"file-upload":return l.jsxs("div",{children:[l.jsx(Gt,{type:"file",accept:h.accept,multiple:h.multiple,onChange:j=>{const D=j.target.files;if(D){const L=Array.from(D);s(h.id,h.multiple?L:L[0])}},className:v,disabled:S}),h.subLabel&&l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:h.subLabel})]});case"dynamic-group":const T=Array.isArray(_)?_:[];return l.jsxs("div",{className:"space-y-4",children:[T.map((j,D)=>{var L;return l.jsxs("div",{className:"p-4 border rounded-lg",children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsxs("h4",{className:"font-medium",children:["Item ",D+1]}),l.jsx(ne,{variant:"outline",size:"sm",onClick:()=>{const R=T.filter((C,P)=>P!==D);s(h.id,R)},children:"Remove"})]}),(L=h.itemSchema)==null?void 0:L.map(R=>l.jsxs("div",{className:"mb-3",children:[l.jsx(Oe,{className:"text-sm font-medium mb-1 block",children:R.label}),w({...R,id:`${h.id}_${D}_${R.id}`,value:j[R.id]})]},R.id))]},D)}),l.jsxs(ne,{variant:"outline",onClick:()=>{const j={},D=[...T,j];s(h.id,D)},children:[l.jsx(Ip,{className:"w-4 h-4 mr-2"}),h.addButtonLabel||"Add Item"]})]});case"nested-tabs":return l.jsx("div",{className:"border rounded-lg p-4",children:l.jsx("p",{className:"text-sm text-muted-foreground",children:"Nested tabs feature coming soon..."})});case"dialog":const O=_===!0;return l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Bs,{checked:O,onCheckedChange:j=>s(h.id,j),disabled:S}),l.jsx(Oe,{className:"text-sm",children:h.label}),O&&l.jsxs(lm,{children:[l.jsx(H_,{asChild:!0,children:l.jsxs(ne,{variant:"outline",size:"sm",className:"ml-2",children:[l.jsx(FN,{className:"w-4 h-4 mr-1"}),h.dialogTriggerLabel||"Configure"]})}),l.jsxs(Tc,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[l.jsx(Rc,{children:l.jsx(Ac,{children:h.dialogTitle||h.label})}),l.jsx("div",{className:"space-y-4 py-4",children:(E=h.dialogFields)==null?void 0:E.map(j=>l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Oe,{className:"text-sm font-medium",children:[j.label,j.required&&l.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),w(j)]},j.id))})]})]})]});default:return null}},y=h=>{const v=i[h.id]||[],_=[...h.fields,...v],S=h.gridColumns||h.columns;return l.jsxs(je,{className:"h-fit",children:[l.jsxs(en,{className:"pb-4",children:[l.jsx(tn,{className:"text-lg",children:h.title}),h.description&&l.jsx("p",{className:"text-sm text-muted-foreground",children:h.description})]}),l.jsxs(Be,{children:[l.jsx("div",{className:H("space-y-4",S===2&&"grid grid-cols-2 gap-4 space-y-0",S===3&&"grid grid-cols-3 gap-4 space-y-0"),children:_.map(k=>k.showCondition&&!k.showCondition(o[k.id])||k.displayCondition&&!u(k.displayCondition,o)?null:l.jsxs("div",{className:H("space-y-2",k.type==="checkbox"&&"flex items-center space-y-0"),children:[k.type!=="checkbox"&&k.type!=="inline-group"&&l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs(Oe,{htmlFor:k.id,className:"text-sm font-medium",children:[k.label,k.required&&l.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),k.dataSource&&p(k.dataSource,o[k.id])]}),w(k),k.conditionalFields&&k.conditionalFields.map(N=>!N.showCondition||!N.showCondition(o[k.id])?null:l.jsxs("div",{className:"ml-4 mt-2 p-3 bg-muted/50 rounded",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(Oe,{className:"text-sm font-medium",children:N.label}),N.dataSource&&p(N.dataSource,o[N.id])]}),w(N)]},N.id)),k.aiSourceText&&k.dataSource==="ai-filled"&&l.jsxs("div",{className:"text-xs text-medical-ai-filled-foreground bg-medical-ai-filled/50 p-2 rounded border",children:[l.jsx("strong",{children:"AI Source:"}),' "',k.aiSourceText,'"']})]},k.id))}),h.id==="skin-wounds"&&l.jsx("div",{className:"mt-4 pt-4 border-t",children:l.jsxs(ne,{variant:"outline",size:"sm",onClick:()=>m(h.id,{id:"wound_detail",label:"Wound Details",type:"textarea",required:!1}),className:"flex items-center gap-2",children:[l.jsx(Ip,{className:"w-4 h-4"}),"Add Wound"]})})]})]},h.id)},b=()=>{switch(c){case"two-column":return"grid grid-cols-1 lg:grid-cols-2 gap-6 items-start";case"three-column":return"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 items-start";default:return"space-y-6"}},x=n.some(h=>h.column);return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:e}),t&&l.jsx("p",{className:"text-muted-foreground",children:t})]}),x?l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsx("div",{className:"space-y-6",children:n.filter(h=>h.column==="left").map(y)}),l.jsx("div",{className:"space-y-6",children:n.filter(h=>h.column==="right").map(y)})]}):l.jsx("div",{className:b(),children:n.map(y)})]})}function sD(){const[e,t]=g.useState(!1),[n,r]=g.useState(null),{toast:s}=jh(),o=async(a,c)=>{t(!0);try{console.log("Populating external data for assessment:",a,"patient:",c);const{data:u,error:d}=await ue.functions.invoke("populate-external-data",{body:{assessmentId:a,patientId:c}});if(d)return console.error("Error calling populate-external-data:",d),s({title:"External Data Error",description:"Failed to retrieve external data. Please try again.",variant:"destructive"}),null;const f=u;if(f.success){r(f.populated);const p=[];if(f.results.opas&&p.push("OPAS"),f.results.evital&&p.push("eVital"),f.results.previousAssessment&&p.push("History"),f.results.alertFunction&&p.push("Alert Function"),p.length>0&&s({title:"External Data Loaded",description:`Successfully retrieved data from: ${p.join(", ")}`,variant:"default"}),f.results.errors.length>0){const m=f.results.errors.map(w=>w.system).join(", ");s({title:"Partial Data Retrieval",description:`Some systems failed: ${m}`,variant:"destructive"})}}return f}catch(u){return console.error("Error in useExternalDataPopulation:",u),s({title:"External Data Error",description:"An unexpected error occurred while retrieving external data.",variant:"destructive"}),null}finally{t(!1)}};return{populateExternalData:o,refreshExternalData:async(a,c)=>await o(a,c),isLoading:e,lastPopulated:n}}function oD({assessmentId:e,patientId:t}){const{refreshExternalData:n,isLoading:r}=sD(),s=async()=>{await n(e,t)};return l.jsxs(ne,{variant:"outline",size:"sm",onClick:s,disabled:r,className:"ml-2",children:[l.jsx(ml,{className:`h-4 w-4 mr-1 ${r?"animate-spin":""}`}),r?"Syncing...":"Refresh"]})}function iD({onFieldChange:e,fieldValues:t,assessmentId:n,patientId:r}){const s=[{id:"emergency-contact-1",title:"Emergency Contact 1",fields:[{id:"emergency_contact_1_name",label:"Full Name",type:"text"},{id:"emergency_contact_1_relationship",label:"Relationship",type:"text"},{id:"emergency_contact_1_phone",label:"Phone Number",type:"text"}]},{id:"emergency-contact-2",title:"Emergency Contact 2",fields:[{id:"emergency_contact_2_name",label:"Full Name",type:"text"},{id:"emergency_contact_2_relationship",label:"Relationship",type:"text"},{id:"emergency_contact_2_phone",label:"Phone Number",type:"text"}]},{id:"belongings",title:"Bring-in Belongings",fields:[{id:"belongings_description",label:"Describe belongings brought by patient",type:"textarea"}]}];return l.jsxs(gt,{value:"general",className:"mt-0",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold",children:"General Information"}),l.jsx("p",{className:"text-muted-foreground text-sm",children:"Basic patient information and emergency contacts"})]}),n&&r&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"External data:"}),l.jsx(oD,{assessmentId:n,patientId:r})]})]}),l.jsx(Sn,{title:"",cards:s,layout:"single",onFieldChange:e,fieldValues:t})]})}function q_(e){let t=0,n=!1;const r=Number(e.systolic_bp);r>0&&(n=!0,r<=70?t+=3:r>=71&&r<=80?t+=2:r>=81&&r<=100?t+=1:r>=101&&r<=199?t+=0:r>=200&&(t+=3));const s=Number(e.pulse);s>0&&(n=!0,s<=40?t+=3:s>=41&&s<=50?t+=2:s>=51&&s<=100||s>=101&&s<=110?t+=0:s>=111&&s<=129?t+=1:s>=130&&(t+=3));const o=Number(e.respiratory_rate);o>0&&(n=!0,o<=8?t+=3:o>=9&&o<=14?t+=1:o>=15&&o<=20?t+=0:o>=21&&o<=29?t+=1:o>=30&&(t+=2));const i=Number(e.temperature);i>0&&(n=!0,i<=35?t+=3:i>=35.1&&i<=36?t+=2:i>=36.1&&i<=38?t+=1:i>=38.1&&i<=38.5?t+=0:i>=38.6&&(t+=2));const a=e.level_of_consciousness;if(a)switch(n=!0,a.toLowerCase()){case"alert":t+=0;break;case"verbal":case"response to voice":t+=1;break;case"pain":case"response to pain":t+=2;break;case"unresponsive":t+=3;break}else{const c=Number(e.gcs_total)||Number(e.gcs_eye||0)+Number(e.gcs_verbal||0)+Number(e.gcs_motor||0);c>0&&(n=!0,c===15?t+=0:c===14?t+=1:c>=9&&c<=13?t+=2:c<=8&&(t+=3))}return n?t:null}function aD({onFieldChange:e,fieldValues:t}){const n=[{id:"clinical-status",title:"Complaint & Consciousness",column:"left",fields:[{id:"current_complaint",label:"Current Complaint / Problem",type:"textarea"},{id:"level_of_consciousness",label:"Level of Consciousness",type:"radio",options:["Alert","Response to Voice","Response to Pain","Unresponsive"]}]},{id:"gcs",title:"Glasgow Coma Scale (GCS)",column:"left",fields:[{id:"gcs_eye",label:"Eye",type:"select",options:[{value:4,label:"Spontaneously (4)"},{value:3,label:"To speech (3)"},{value:2,label:"To pain (2)"},{value:1,label:"None (1)"}]},{id:"gcs_verbal",label:"Verbal",type:"select",options:[{value:5,label:"Oriented (5)"},{value:4,label:"Confused (4)"},{value:3,label:"Inappropriate words (3)"},{value:2,label:"Incomprehensible sounds (2)"},{value:1,label:"None (1)"}]},{id:"gcs_motor",label:"Motor",type:"select",options:[{value:6,label:"Obeys commands (6)"},{value:5,label:"Localizes to pain (5)"},{value:4,label:"Flexion withdrawal (4)"},{value:3,label:"Abnormal flexion (3)"},{value:2,label:"Abnormal extension (2)"},{value:1,label:"None (1)"}]},{id:"gcs_total",label:"Total Score",type:"calculated",subLabel:"/ 15",calculation:r=>(Number(r.gcs_eye)||0)+(Number(r.gcs_verbal)||0)+(Number(r.gcs_motor)||0)}]},{id:"vital-signs",title:"Vital Signs & Observations",column:"right",fields:[{id:"temperature",label:"Temperature",type:"number",subLabel:"°C",dataSource:"evital",sourceSystem:"eVital"},{id:"temp_method",label:"Temp Method",type:"select",options:["Oral","Tympanic","Axilla","Rectal","Skin"],dataSource:"evital",sourceSystem:"eVital"},{id:"pulse",label:"Pulse",type:"number",subLabel:"bpm",dataSource:"evital",sourceSystem:"eVital"},{id:"pulse_location",label:"Pulse Location",type:"select",options:["Radial","Apical","Carotid","Brachial","Femoral","Popliteal","Dorsalis pedis","Other"],dataSource:"evital",sourceSystem:"eVital"},{id:"pulse_pattern",label:"Pulse Pattern",type:"radio",options:["Regular","Irregular"],dataSource:"evital",sourceSystem:"eVital"},{id:"bp_systolic",label:"Systolic",type:"number",subLabel:"mmHg",dataSource:"evital",sourceSystem:"eVital"},{id:"bp_diastolic",label:"Diastolic",type:"number",subLabel:"mmHg",dataSource:"evital",sourceSystem:"eVital"},{id:"bp_position",label:"BP Position",type:"select",options:["Sitting","Standing","Lying","Other"],dataSource:"evital",sourceSystem:"eVital"},{id:"mean_bp",label:"Mean BP",type:"calculated",subLabel:"mmHg",calculation:r=>{const s=Number(r.bp_systolic)||0,o=Number(r.bp_diastolic)||0;return s>0&&o>0?Math.round((o*2+s)/3):0}},{id:"respiratory_rate",label:"RR",type:"number",subLabel:"breaths/min",dataSource:"evital",sourceSystem:"eVital"},{id:"respiration_status",label:"Respiration",type:"radio",options:["Normal","Dyspnoea"],dataSource:"evital",sourceSystem:"eVital"},{id:"spo2",label:"SpO2",type:"number",subLabel:"%",dataSource:"evital",sourceSystem:"eVital"}]},{id:"additional-vitals",title:"Additional Vitals & Observations",column:"right",fields:[{id:"cvp",label:"CVP",type:"number",subLabel:"mmHg/cmH2O"},{id:"cvp_level",label:"CVP Level",type:"radio",options:["Swing","Not swing"]},{id:"pacemaker",label:"Pacemaker",type:"radio",options:["Yes","No"],defaultValue:"No"},{id:"coughing",label:"Coughing",type:"radio",options:["Yes","No"],defaultValue:"No"},{id:"sputum",label:"Sputum",type:"radio",options:["Yes","No"],defaultValue:"No",displayCondition:'coughing === "Yes"'},{id:"sputum_colour",label:"Sputum Colour",type:"select",options:["Clear","White","Yellow","Green","Cream colour","Coffee/Rusty","Blood-stained"],displayCondition:'sputum === "Yes"'},{id:"oxygen_therapy",label:"Oxygen Therapy",type:"radio",options:["Yes","No"],defaultValue:"No"},{id:"oxygen_flow_rate",label:"Flow Rate (L/min)",type:"number",displayCondition:'oxygen_therapy === "Yes"'},{id:"oxygen_via",label:"Via (%)",type:"number",displayCondition:'oxygen_therapy === "Yes"'},{id:"oxygen_device",label:"Device",type:"select",options:["Mask","Cannula","Ventilator"],displayCondition:'oxygen_therapy === "Yes"'}]},{id:"body-measurements",title:"Body & Other Measurements",column:"left",fields:[{id:"weight",label:"Weight (kg)",type:"number"},{id:"height",label:"Height (cm)",type:"number"},{id:"bmi",label:"BMI",type:"calculated",subLabel:"kg/m²",calculation:r=>{const s=Number(r.weight)||0,o=Number(r.height)||0;return s>0&&o>0?(s/(o/100)**2).toFixed(1):0}},{id:"weight_loss_6_months",label:"10% weight loss within 6 months prior to admission",type:"checkbox"},{id:"blood_glucose",label:"Blood Glucose",type:"number",subLabel:"mmol/L"},{id:"lmp",label:"Last Menstrual Period",type:"datepicker",displayCondition:'patient_gender === "Female"'},{id:"pregnancy_test",label:"Pregnancy Test",type:"radio",options:["+ve","-ve","Inconclusive"],displayCondition:'patient_gender === "Female"'}]},{id:"urinalysis",title:"Urinalysis",column:"left",fields:[{id:"urinalysis_sugar",label:"Sugar",type:"select",options:["Negative","Trace","+","++","+++ or above"]},{id:"urinalysis_albumin",label:"Albumin",type:"select",options:["Negative","Trace","+","++","+++ or above"]},{id:"urinalysis_ketone",label:"Ketone",type:"select",options:["Negative","Trace","+","++","+++ or above"]},{id:"urinalysis_wbc",label:"White blood cell",type:"select",options:["Negative","Trace","+","++","+++ or above"]},{id:"urinalysis_rbc",label:"Red blood cell",type:"select",options:["Negative","Trace","+","++","+++ or above"]},{id:"urinalysis_nitrite",label:"Nitrite",type:"select",options:["Negative","Trace","+","++","+++ or above"]},{id:"urinalysis_remarks",label:"Remarks on value",type:"textarea"}]},{id:"mews",title:"Modified Early Warning Score (MEWS)",column:"left",fields:[{id:"mews_total",label:"Total Score",type:"calculated",calculation:r=>{Number(r.bp_systolic),Number(r.pulse),Number(r.respiratory_rate),Number(r.temperature);const s=q_(r);return s!==null?s.toString():""}}]}];return l.jsx(gt,{value:"physical",className:"mt-0",children:l.jsx(Sn,{title:"Physical Assessment",description:"Comprehensive physical examination and vital signs",cards:n,layout:"double",onFieldChange:e,fieldValues:t})})}function lD({onFieldChange:e,fieldValues:t}){const n=[{id:"personal-details",title:"Personal Details",columns:2,fields:[{id:"marital_status",label:"Marital Status",type:"select",options:["Single","Married","Divorced","Widowed","Separated"],dataSource:"previous-assessment",sourceSystem:"Previous Assessment"},{id:"religion",label:"Religion",type:"select",options:["Buddhism","Christianity","Islam","Hinduism","Taoism","Other","None"],dataSource:"previous-assessment",sourceSystem:"Previous Assessment"},{id:"education",label:"Education",type:"select",options:["Primary","Secondary","Tertiary","University","Postgraduate","Other"],dataSource:"previous-assessment",sourceSystem:"Previous Assessment"},{id:"employment_status",label:"Employment Status",type:"select",options:["Employed","Unemployed","Retired","Student","Homemaker","Other"],dataSource:"previous-assessment",sourceSystem:"Previous Assessment"},{id:"occupation",label:"Occupation",type:"text",dataSource:"previous-assessment",sourceSystem:"Previous Assessment"},{id:"financial_support",label:"Financial Support",type:"select",options:["Self","Family","Government","Insurance","Other"],dataSource:"previous-assessment",sourceSystem:"Previous Assessment"},{id:"accommodation",label:"Accommodation",type:"select",options:["Own home","Rental","Care home","Hostel","Homeless","Other"],dataSource:"previous-assessment",sourceSystem:"Previous Assessment"},{id:"nationality",label:"Nationality",type:"text",dataSource:"previous-assessment",sourceSystem:"Previous Assessment"}]},{id:"household",title:"Household Information",fields:[{id:"household_members",label:"Household Members",type:"multi-select",options:["Spouse","Children","Parents","Siblings","Other relatives","Non-relatives","Live alone"],dataSource:"previous-assessment",sourceSystem:"Previous Assessment"}]},{id:"habits",title:"Habits",description:"Please provide information about smoking, drinking, and substance use",fields:[{id:"smoking_status",label:"Smoking",type:"radio",options:["Smoker","Ex-smoker","Non-smoker"],dataSource:"previous-assessment",sourceSystem:"Previous Assessment",conditionalFields:[{id:"smoking_cigarettes_per_day",label:"Cigarettes per day",type:"number",dataSource:"previous-assessment",sourceSystem:"Previous Assessment",showCondition:r=>r==="Smoker"},{id:"smoking_start_since",label:"Started since (years)",type:"number",dataSource:"previous-assessment",sourceSystem:"Previous Assessment",showCondition:r=>r==="Smoker"||r==="Ex-smoker"},{id:"smoking_quit_since",label:"Quit since (years)",type:"number",dataSource:"previous-assessment",sourceSystem:"Previous Assessment",showCondition:r=>r==="Ex-smoker"}]},{id:"drinking_status",label:"Drinking",type:"radio",options:["Drinker","Ex-drinker","Non-drinker"],dataSource:"previous-assessment",sourceSystem:"Previous Assessment",conditionalFields:[{id:"drinking_type",label:"Type of Beverage",type:"select",options:["Beer","Wine","Spirits","Mixed"],dataSource:"previous-assessment",sourceSystem:"Previous Assessment",showCondition:r=>r==="Drinker"},{id:"drinking_frequency",label:"Frequency",type:"select",options:["Daily","Weekly","Monthly","Occasionally"],dataSource:"previous-assessment",sourceSystem:"Previous Assessment",showCondition:r=>r==="Drinker"},{id:"drinking_start_since",label:"Started since (years)",type:"number",dataSource:"previous-assessment",sourceSystem:"Previous Assessment",showCondition:r=>r==="Drinker"||r==="Ex-drinker"}]},{id:"substance_status",label:"Substance Use",type:"radio",options:["Active user","Ex-user","Non-user"],dataSource:"previous-assessment",sourceSystem:"Previous Assessment",conditionalFields:[{id:"substance_type",label:"Type of Substance",type:"text",dataSource:"previous-assessment",sourceSystem:"Previous Assessment",showCondition:r=>r==="Active user"},{id:"substance_frequency",label:"Frequency",type:"select",options:["Daily","Weekly","Monthly","Occasionally"],dataSource:"previous-assessment",sourceSystem:"Previous Assessment",showCondition:r=>r==="Active user"}]}]}];return l.jsx(gt,{value:"social",className:"mt-0",children:l.jsx(Sn,{title:"Social Assessment",description:"Social circumstances, education, employment, and lifestyle habits",cards:n,layout:"two-column",onFieldChange:e,fieldValues:t})})}function cD({onFieldChange:e,fieldValues:t}){const n=i=>i>=51?{level:"High Risk",color:"destructive"}:i>=25?{level:"Moderate Risk",color:"secondary"}:{level:"Low Risk",color:"default"},r=i=>i<10?{level:"Very High Risk",color:"destructive"}:i<=13?{level:"High Risk",color:"destructive"}:i<=18?{level:"Medium Risk",color:"secondary"}:{level:"Low Risk",color:"default"},s=i=>i<=9?{level:"Very High/Severe Risk",color:"destructive"}:i<=12?{level:"High Risk",color:"destructive"}:i<=14?{level:"Moderate Risk",color:"secondary"}:i<=18?{level:"Mild Risk",color:"secondary"}:{level:"No Risk",color:"default"},o=[{id:"infection-isolation",title:"Infection & Isolation",column:"left",fields:[{id:"infection_risk_status",label:"Infection Risk Status",type:"radio",options:["At risk","Not at risk","Unknown"]},{id:"clinical_criteria",label:"Clinical Criteria",type:"multi-select",options:["Nil","Fever","Cough","Shortness of Breath","Sore throat","Running nose","Pneumonia","Others"],dataSource:"manual"},{id:"other_symptoms",label:"Other Symptoms",type:"multi-select",options:["Vomiting","Diarrhea","Rash","Affected body site"],dataSource:"manual"},{id:"cpe_screening",label:"CPE Screening - Patient has history of hospitalization (including day care/procedure in hospital) outside Hong Kong in the last 12 months?",type:"radio",options:["Unknown","No","Yes"],dataSource:"manual",conditionalFields:[{id:"cpe_country_area",label:"Country/Area/City",type:"text",dataSource:"manual",showCondition:i=>i==="Yes"}]},{id:"vre_screening",label:"VRE Screening - Patient has history of hospitalization (including day care/procedure in hospital) outside Hong Kong in the last 12 months?",type:"radio",options:["Unknown","No","Yes"],dataSource:"manual",conditionalFields:[{id:"vre_country_area",label:"Country/Area/City",type:"text",dataSource:"manual",showCondition:i=>i==="Yes"}]},{id:"mdro_tagging",label:"Patient has confirmed or contact case of MDRO Tagging at time of assessment? (Data from CMS Alert)",type:"radio",options:["No","Yes","Manual update"],dataSource:"manual"},{id:"isolation_precaution",label:"Isolation Precaution",type:"multi-select",options:["Airborne","Contact","Droplet","Standard"],dataSource:"manual"},{id:"ftocc",label:"FTOCC",type:"multi-select",options:["At risk","Fever","Travel","Occupation","Clustering","Contact"],dataSource:"manual"},{id:"infectious_status",label:"Infectious Status",type:"radio",options:["Not at Risk — Apply Standard Precaution","At Risk or Unknown — Refer PCP-ID"],dataSource:"manual"}]},{id:"pressure-injury-risk",title:"Pressure Injury Risk Assessment",column:"right",fields:[{id:"pressure_scale_type",label:"Assessment Scale",type:"radio",options:["Norton Scale","Braden Scale"],defaultValue:"Norton Scale",dataSource:"manual"},{id:"norton_physical",label:"Physical Condition",type:"select",options:[{value:"4",label:"Good (4)"},{value:"3",label:"Fair (3)"},{value:"2",label:"Poor (2)"},{value:"1",label:"Very bad (1)"}],dataSource:"manual",displayCondition:'pressure_scale_type == "Norton Scale"'},{id:"norton_mental",label:"Mental Condition",type:"select",options:[{value:"4",label:"Alert (4)"},{value:"3",label:"Apathetic (3)"},{value:"2",label:"Confused (2)"},{value:"1",label:"Stuporous (1)"}],dataSource:"manual",displayCondition:'pressure_scale_type == "Norton Scale"'},{id:"norton_activity",label:"Activity",type:"select",options:[{value:"4",label:"Ambulant (4)"},{value:"3",label:"Walk with help (3)"},{value:"2",label:"Chairfast (2)"},{value:"1",label:"Bedfast (1)"}],dataSource:"manual",displayCondition:'pressure_scale_type == "Norton Scale"'},{id:"norton_mobility",label:"Mobility",type:"select",options:[{value:"4",label:"Full (4)"},{value:"3",label:"Slightly limited (3)"},{value:"2",label:"Very limited (2)"},{value:"1",label:"Immobile (1)"}],dataSource:"manual",displayCondition:'pressure_scale_type == "Norton Scale"'},{id:"norton_incontinent",label:"Incontinent",type:"select",options:[{value:"4",label:"Not (4)"},{value:"3",label:"Occasionally (3)"},{value:"2",label:"Usually (2)"},{value:"1",label:"Doubly (1)"}],dataSource:"manual",displayCondition:'pressure_scale_type == "Norton Scale"'},{id:"norton_total",label:"Total Score /20",type:"calculated",calculation:i=>parseInt(i.norton_physical||"0")+parseInt(i.norton_mental||"0")+parseInt(i.norton_activity||"0")+parseInt(i.norton_mobility||"0")+parseInt(i.norton_incontinent||"0"),displayCondition:'pressure_scale_type == "Norton Scale"'},{id:"braden_sensory",label:"Sensory Perception",type:"select",options:[{value:"1",label:"Completely limited (1)"},{value:"2",label:"Very limited (2)"},{value:"3",label:"Slightly limited (3)"},{value:"4",label:"No impairment (4)"}],dataSource:"manual",displayCondition:'pressure_scale_type == "Braden Scale"'},{id:"braden_moisture",label:"Moisture",type:"select",options:[{value:"1",label:"Constantly moist (1)"},{value:"2",label:"Very moist (2)"},{value:"3",label:"Occasionally moist (3)"},{value:"4",label:"Rarely moist (4)"}],dataSource:"manual",displayCondition:'pressure_scale_type == "Braden Scale"'},{id:"braden_activity",label:"Activity",type:"select",options:[{value:"1",label:"Bedfast (1)"},{value:"2",label:"Chairfast (2)"},{value:"3",label:"Walks occasionally (3)"},{value:"4",label:"Walks frequently (4)"}],dataSource:"manual",displayCondition:'pressure_scale_type == "Braden Scale"'},{id:"braden_mobility",label:"Mobility",type:"select",options:[{value:"1",label:"Completely immobile (1)"},{value:"2",label:"Very limited (2)"},{value:"3",label:"Slightly limited (3)"},{value:"4",label:"No limitation (4)"}],dataSource:"manual",displayCondition:'pressure_scale_type == "Braden Scale"'},{id:"braden_nutrition",label:"Nutrition",type:"select",options:[{value:"1",label:"Very Poor (1)"},{value:"2",label:"Probably inadequate (2)"},{value:"3",label:"Adequate (3)"},{value:"4",label:"Excellent (4)"}],dataSource:"manual",displayCondition:'pressure_scale_type == "Braden Scale"'},{id:"braden_friction",label:"Friction & Shear",type:"select",options:[{value:"1",label:"Problem (1)"},{value:"2",label:"Potential problem (2)"},{value:"3",label:"No apparent problem (3)"}],dataSource:"manual",displayCondition:'pressure_scale_type == "Braden Scale"'},{id:"braden_total",label:"Total Score /23",type:"calculated",calculation:i=>parseInt(i.braden_sensory||"0")+parseInt(i.braden_moisture||"0")+parseInt(i.braden_activity||"0")+parseInt(i.braden_mobility||"0")+parseInt(i.braden_nutrition||"0")+parseInt(i.braden_friction||"0"),displayCondition:'pressure_scale_type == "Braden Scale"'}]},{id:"fall-risk",title:"Fall Risk Assessment",column:"right",fields:[{id:"fall_risk_level",label:"Fall Risk Level",type:"radio",options:["High risk","Low to moderate risk"],dataSource:"manual"},{id:"morse_history_falling",label:"History of Falling",type:"radio",options:["No (0)","Yes (25)"],dataSource:"manual"},{id:"morse_secondary_diagnosis",label:"Secondary Diagnosis",type:"radio",options:["No (0)","Yes (15)"],dataSource:"manual"},{id:"morse_ambulatory_aid",label:"Ambulatory Aid",type:"radio",options:["None/bed rest/nurse assist (0)","Crutches/cane/walker (15)","Furniture (30)"],dataSource:"manual"},{id:"morse_iv_therapy",label:"Intravenous Therapy / Saline Lock",type:"radio",options:["No (0)","Yes (20)"],dataSource:"manual"},{id:"morse_gait",label:"Gait",type:"radio",options:["Normal / Bed rest / Wheelchair (0)","Weak (10)","Impaired (20)"],dataSource:"manual"},{id:"morse_mental_status",label:"Mental Status",type:"radio",options:["Oriented to own ability (0)","Overestimates / Forgets limitations (15)"],dataSource:"manual"},{id:"morse_total_score",label:"Total Score /125",type:"calculated",dataSource:"manual",calculation:i=>{var c,u,d,f,p,m,w,y;const a={history:(c=i.morse_history_falling)!=null&&c.includes("25")?25:0,secondary:(u=i.morse_secondary_diagnosis)!=null&&u.includes("15")?15:0,aid:(d=i.morse_ambulatory_aid)!=null&&d.includes("30")?30:(f=i.morse_ambulatory_aid)!=null&&f.includes("15")?15:0,iv:(p=i.morse_iv_therapy)!=null&&p.includes("20")?20:0,gait:(m=i.morse_gait)!=null&&m.includes("20")?20:(w=i.morse_gait)!=null&&w.includes("10")?10:0,mental:(y=i.morse_mental_status)!=null&&y.includes("15")?15:0};return Object.values(a).reduce((b,x)=>b+x,0)}},{id:"fall_remarks",label:"Remarks",type:"textarea",dataSource:"manual"}]},{id:"suicide-risk",title:"Suicide Risk Assessment",column:"right",fields:[{id:"suicide_admitted_attempt",label:"Patient was admitted because of suicidal attempt or idea",type:"radio",options:["Yes","No"],dataSource:"manual"},{id:"suicide_expresses_idea",label:"Patient expresses suicidal idea or self-harm behaviour",type:"radio",options:["Yes","No"],dataSource:"manual"},{id:"suicide_disclosure_relatives",label:"Disclosure by relatives / friends that patient has suicidal inclination",type:"radio",options:["Yes","No","Not applicable"],dataSource:"manual"}]},{id:"missing-risk",title:"Missing Risk",column:"left",fields:[{id:"missing_risk_status",label:"Missing Risk Assessment",type:"radio",options:["At risk","Not at risk"],dataSource:"manual"}]}];return l.jsxs(gt,{value:"risk",className:"mt-0",children:[l.jsx(Sn,{title:"Risk Assessment",description:"Comprehensive risk evaluation including infection, suicide, fall, and pressure injury risks",cards:o,layout:"double",onFieldChange:e,fieldValues:t}),t.morse_total_score&&l.jsx("div",{className:"mt-4 p-4 bg-muted rounded-lg",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"font-medium",children:"Morse Fall Scale Risk Level:"}),l.jsx(ge,{variant:n(t.morse_total_score).color,children:n(t.morse_total_score).level})]})}),t.norton_total&&t.pressure_scale_type==="Norton Scale"&&l.jsx("div",{className:"mt-4 p-4 bg-muted rounded-lg",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"font-medium",children:"Norton Scale Risk Level:"}),l.jsx(ge,{variant:r(t.norton_total).color,children:r(t.norton_total).level})]})}),t.braden_total&&t.pressure_scale_type==="Braden Scale"&&l.jsx("div",{className:"mt-4 p-4 bg-muted rounded-lg",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"font-medium",children:"Braden Scale Risk Level:"}),l.jsx(ge,{variant:s(t.braden_total).color,children:s(t.braden_total).level})]})})]})}function uD({onFieldChange:e,fieldValues:t}){const n=[{id:"communication",title:"Communication",fields:[{id:"vision_left",label:"Vision (Left Eye)",type:"select",options:["Normal","Cataract","Glaucoma","Blurred vision","Blindness","Other"],dataSource:"manual"},{id:"vision_right",label:"Vision (Right Eye)",type:"select",options:["Normal","Cataract","Glaucoma","Blurred vision","Blindness","Other"],dataSource:"manual"},{id:"hearing_left",label:"Hearing (Left Ear)",type:"select",options:["Normal","Impaired","Deaf"],dataSource:"manual"},{id:"hearing_left_aids",label:"Hearing aids",type:"checkbox",dataSource:"manual",displayCondition:'hearing_left === "Impaired"'},{id:"hearing_right",label:"Hearing (Right Ear)",type:"select",options:["Normal","Impaired","Deaf"],dataSource:"manual"},{id:"hearing_right_aids",label:"Hearing aids",type:"checkbox",dataSource:"manual",displayCondition:'hearing_right === "Impaired"'},{id:"language_dialect",label:"Language / Dialect",type:"select",options:["Cantonese","English","Mandarin","Other"],dataSource:"manual"},{id:"speech",label:"Speech",type:"select",options:["Clear","Slurring","Dysphasia","Incomprehensible sounds"],dataSource:"manual"},{id:"denture_upper",label:"Denture (Upper Jaw)",type:"select",options:["Nil","Fixed","Removable"],dataSource:"manual"},{id:"denture_lower",label:"Denture (Lower Jaw)",type:"select",options:["Nil","Fixed","Removable"],dataSource:"manual"}]},{id:"respiration",title:"Respiration",fields:[{id:"respiration_status",label:"Respiration",type:"radio",options:["Normal","Dyspnoea"],dataSource:"manual"},{id:"respiration_remarks",label:"Remarks",type:"textarea",dataSource:"manual"}]},{id:"mobility",title:"Mobility",fields:[{id:"mobility_status",label:"Mobility Status",type:"radio",options:["Independent","Ambulatory with aids","Dependent"],dataSource:"manual"},{id:"limb_upper_left",label:"Left Upper Limb",type:"select",options:["Normal","Weakness","Paralysis","Contracture","Rigid"],dataSource:"manual"},{id:"limb_upper_right",label:"Right Upper Limb",type:"select",options:["Normal","Weakness","Paralysis","Contracture","Rigid"],dataSource:"manual"},{id:"limb_lower_left",label:"Left Lower Limb",type:"select",options:["Normal","Weakness","Paralysis","Contracture","Rigid"],dataSource:"manual"},{id:"limb_lower_right",label:"Right Lower Limb",type:"select",options:["Normal","Weakness","Paralysis","Contracture","Rigid"],dataSource:"manual"},{id:"walking_aids",label:"Walking Aids",type:"select",options:["None","Stick","Quadripod","Frame","Wheelchair","Crutch"],dataSource:"manual"},{id:"assisted_by",label:"Assisted by (person(s))",type:"number",dataSource:"manual"}]}];return l.jsx(gt,{value:"communication",className:"mt-0",children:l.jsx(Sn,{title:"Communication, Respiration & Mobility",description:"Assessment of functional status.",cards:n,layout:"three-column",onFieldChange:e,fieldValues:t})})}function dD({onFieldChange:e,fieldValues:t}){const n=[{id:"urinary",title:"Elimination - Urinary",column:"left",fields:[{id:"urinary_normal",label:"Normal",type:"checkbox",dataSource:"manual"},{id:"urinary_frequent",label:"Frequent",type:"checkbox",dataSource:"manual"},{id:"urinary_dysuria",label:"Dysuria",type:"checkbox",dataSource:"manual"},{id:"urinary_incontinence",label:"Incontinence",type:"checkbox",dataSource:"manual"},{id:"urinary_retention",label:"Urinary retention",type:"checkbox",dataSource:"manual"},{id:"urinary_anuria",label:"Anuria",type:"checkbox",dataSource:"manual"},{id:"urinary_oliguria",label:"Oliguria",type:"checkbox",dataSource:"manual"},{id:"urinary_others",label:"Others",type:"text",dataSource:"manual"},{id:"urinary_commode",label:"Commode",type:"checkbox",dataSource:"manual"},{id:"urinary_diaper",label:"Diaper",type:"checkbox",dataSource:"manual"},{id:"urinary_bedpan",label:"Bedpan / Urinal",type:"checkbox",dataSource:"manual"},{id:"urinary_incontinence_diaper",label:"Incontinence diaper",type:"checkbox",dataSource:"manual"},{id:"urinary_nephrostomy",label:"Percutaneous nephrostomy tube",type:"checkbox",dataSource:"manual"},{id:"urinary_ileal_conduit",label:"Ileal conduit",type:"checkbox",dataSource:"manual"},{id:"urinary_aids_others",label:"Others (aids)",type:"text",dataSource:"manual"},{id:"urinary_catheter",label:"Urinary catheter",type:"checkbox",dataSource:"manual"},{id:"urinary_catheter_site",label:"Site",type:"select",options:["Urethral","Suprapubic"],dataSource:"manual",displayCondition:"urinary_catheter === true"},{id:"urinary_catheter_size",label:"Size",type:"text",dataSource:"manual",displayCondition:"urinary_catheter === true"},{id:"urinary_catheter_type",label:"Type",type:"select",options:["Latex","Silicone"],dataSource:"manual",displayCondition:"urinary_catheter === true"},{id:"urinary_catheter_renewal_date",label:"Date of last renewal",type:"datepicker",dataSource:"manual",displayCondition:"urinary_catheter === true"},{id:"urinary_catheter_change_days",label:"Change every (day(s))",type:"number",dataSource:"manual",displayCondition:"urinary_catheter === true"},{id:"intermittent_catheterization",label:"Intermittent catheterization",type:"checkbox",dataSource:"manual"},{id:"intermittent_catheter_size",label:"Size",type:"text",dataSource:"manual",displayCondition:"intermittent_catheterization === true"},{id:"self_catheterization",label:"Self catheterization",type:"checkbox",dataSource:"manual",displayCondition:"intermittent_catheterization === true"},{id:"catheterization_times_per_day",label:"Perform (time(s)/day)",type:"number",dataSource:"manual",displayCondition:"intermittent_catheterization === true"}]},{id:"bowel",title:"Elimination - Bowel",column:"right",fields:[{id:"bowel_normal",label:"Normal",type:"checkbox",dataSource:"manual"},{id:"bowel_constipation",label:"Constipation",type:"checkbox",dataSource:"manual"},{id:"bowel_diarrhoea",label:"Diarrhoea",type:"checkbox",dataSource:"manual"},{id:"bowel_incontinence",label:"Incontinence",type:"checkbox",dataSource:"manual"},{id:"bowel_others",label:"Others",type:"text",dataSource:"manual"},{id:"bowel_stoma",label:"Stoma",type:"checkbox",dataSource:"manual"}]}];return l.jsx(gt,{value:"elimination",className:"mt-0",children:l.jsx(Sn,{title:"Elimination Assessment",description:"Patient's urinary and bowel function.",cards:n,layout:"two-column",onFieldChange:e,fieldValues:t})})}function fD({onFieldChange:e,fieldValues:t}){const n=s=>s>=2?{level:"High Risk",color:"destructive"}:s===1?{level:"Medium Risk",color:"secondary"}:{level:"Low Risk",color:"default"},r=[{id:"mst-screening",title:"Malnutrition Screening Tool (MST)",column:"left",fields:[{id:"mst_q1",label:"1. Have you/the patient lost weight recently without trying?",type:"radio",options:[{label:"No (0)",value:"0"},{label:"Unsure (2)",value:"2"},{label:"Yes, how much (kg)?",value:"yes"}],dataSource:"manual"},{id:"mst_q1_weight_amount",label:"Weight loss amount:",type:"radio",options:[{label:"1-5 (1)",value:"1"},{label:"6-10 (2)",value:"2"},{label:"11-15 (3)",value:"3"},{label:">15 (4)",value:"4"},{label:"Unsure (2)",value:"2"}],dataSource:"manual",displayCondition:'mst_q1 === "yes"'},{id:"mst_q2",label:"2. Have you/the patient been eating poorly because of a decreased appetite?",type:"radio",options:[{label:"No (0)",value:"0"},{label:"Yes (1)",value:"1"}],dataSource:"manual"},{id:"mst_total_score",label:"Total MST Score /5",type:"calculated",calculation:s=>{let o=0;s.mst_q1==="0"?o=0:s.mst_q1==="2"?o=2:s.mst_q1==="yes"&&(o=parseInt(s.mst_q1_weight_amount||"0"));const i=parseInt(s.mst_q2||"0");return o+i},dataSource:"manual"}]},{id:"denture-assessment",title:"Denture Assessment",column:"left",fields:[{id:"denture_upper_jaw",label:"Denture (Upper jaw)",type:"radio",options:["Nil","Fixed","Removable"],dataSource:"manual"},{id:"denture_lower_jaw",label:"Denture (Lower jaw)",type:"radio",options:["Nil","Fixed","Removable"],dataSource:"manual"}]},{id:"diet-and-feeding",title:"Diet & Feeding",column:"right",fields:[{id:"diet",label:"Diet",type:"select",options:["Diet as tolerated","Regular diet","Soft diet","Mince diet","Congee diet","Semi-clear fluid diet","Clear fluid diet","D-pureed meat soft rice diet","D-puree diet"],dataSource:"manual"},{id:"thickener_for_dysphagia",label:"Thickener for dysphagia (tsp/100ml fluid)",type:"text",dataSource:"manual"},{id:"thickener_prn",label:"p.r.n.",type:"checkbox",dataSource:"manual"},{id:"food_preference",label:"Food Preference",type:"multi-select",options:["Fish only","No beef","No pork","No chicken","Vegetarian"],dataSource:"manual"},{id:"food_preference_others",label:"Others (food preference)",type:"text",dataSource:"manual"},{id:"oral_supplement_milk",label:"Oral Supplement - Milk",type:"checkbox",dataSource:"manual"},{id:"oral_supplement_milk_details",label:"Milk details",type:"text",dataSource:"manual",displayCondition:"oral_supplement_milk === true"},{id:"oral_supplement_others",label:"Oral Supplement - Others",type:"checkbox",dataSource:"manual"},{id:"oral_supplement_others_details",label:"Others details",type:"text",dataSource:"manual",displayCondition:"oral_supplement_others === true"},{id:"oral_feeding",label:"Oral Feeding",type:"radio",options:["Self-help","With assistance","By others"],dataSource:"manual"}]},{id:"tube-feeding",title:"Tube Feeding",column:"right",fields:[{id:"tube_feeding",label:"Tube Feeding",type:"checkbox",dataSource:"manual"},{id:"tube_feeding_type",label:"Type",type:"radio",options:["Nasogastric","PEG","Gastrostomy","Gastro-duodenal"],dataSource:"manual",displayCondition:"tube_feeding === true"},{id:"tube_feeding_intermittent",label:"Intermittent",type:"checkbox",dataSource:"manual",displayCondition:"tube_feeding === true"},{id:"tube_feeding_feeds_per_day",label:"No. of feed per day",type:"number",dataSource:"manual",displayCondition:"tube_feeding_intermittent === true"},{id:"tube_feeding_ml_per_meal",label:"ml/meal",type:"number",dataSource:"manual",displayCondition:"tube_feeding_intermittent === true"},{id:"tube_feeding_time_from",label:"From (time hh:mm)",type:"text",dataSource:"manual",displayCondition:"tube_feeding_intermittent === true"},{id:"tube_feeding_time_to",label:"To (time hh:mm)",type:"text",dataSource:"manual",displayCondition:"tube_feeding_intermittent === true"},{id:"tube_feeding_continuous",label:"Continuous",type:"checkbox",dataSource:"manual",displayCondition:"tube_feeding === true"},{id:"tube_feeding_hours_per_day",label:"hr/day",type:"number",dataSource:"manual",displayCondition:"tube_feeding_continuous === true"},{id:"tube_feeding_ml_per_day",label:"ml/day",type:"number",dataSource:"manual",displayCondition:"tube_feeding_continuous === true"},{id:"tube_feeding_ml_per_hour",label:"ml/hr",type:"number",dataSource:"manual",displayCondition:"tube_feeding_continuous === true"},{id:"tube_feeding_type_of_feed",label:"Type of feed",type:"text",dataSource:"manual",displayCondition:"tube_feeding === true"},{id:"tube_feeding_type_of_tube",label:"Type of tube",type:"multi-select",options:["Silicone","PVC","Polyurethane"],dataSource:"manual",displayCondition:"tube_feeding === true"},{id:"tube_feeding_size_of_tube",label:"Size of tube",type:"text",dataSource:"manual",displayCondition:"tube_feeding === true"},{id:"tube_feeding_last_renewal_date",label:"Date of last renewal",type:"datepicker",dataSource:"manual",displayCondition:"tube_feeding === true"},{id:"tube_feeding_change_days",label:"Change every ___ day(s) + p.r.n.",type:"number",dataSource:"manual",displayCondition:"tube_feeding === true"},{id:"tube_feeding_remarks",label:"Remarks",type:"textarea",dataSource:"manual",displayCondition:"tube_feeding === true"}]},{id:"self-care",title:"Self Care",column:"left",fields:[{id:"self_care",label:"Self Care Status",type:"radio",options:["Independent","Assisted","Dependent"],dataSource:"manual"}]}];return l.jsxs(gt,{value:"nutrition",className:"mt-0",children:[l.jsx(Sn,{title:"Nutrition & Self-Care",description:"Assessment of patient's nutritional status and ability to perform self-care.",cards:r,layout:"two-column",onFieldChange:e,fieldValues:t}),t.mst_total_score!==void 0&&l.jsx("div",{className:"mt-4 p-4 bg-muted rounded-lg",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"font-medium",children:"MST Risk Level:"}),l.jsx(ge,{variant:n(t.mst_total_score).color,children:n(t.mst_total_score).level})]})})]})}function hD({onFieldChange:e,fieldValues:t}){const n=[{id:"skin-condition",title:"Skin Condition & Wounds",fields:[{id:"skin_condition_status",label:"Skin Condition",type:"checkbox",options:["Intact","Dry","Fragile","Oedema","Rash"],dataSource:"manual"},{id:"wounds",label:"Wounds",type:"dynamic-group",dataSource:"manual",addButtonLabel:"Add Wound",itemSchema:[{id:"wound_type",label:"Type",type:"select",options:["Pressure injury","Abrasion","Laceration","Ulcer","Suture wound","Burn"],dataSource:"manual"},{id:"wound_location",label:"Location / Site",type:"text",dataSource:"manual"},{id:"wound_size",label:"Size (LxWxD, cm)",type:"text",dataSource:"manual"},{id:"wound_severity",label:"Severity",type:"select",options:["Shallow","Deep","Stage 1","Stage 2","Stage 3","Stage 4","Unstageable"],dataSource:"manual"},{id:"wound_discharge",label:"Discharge",type:"radio",options:["Nil","Small amount","Profuse"],dataSource:"manual"},{id:"wound_necrotic_tissue",label:"Necrotic Tissue",type:"radio",options:["No","Yes"],dataSource:"manual"}]}]},{id:"pain-assessment",title:"Pain Assessment",fields:[{id:"pain_status",label:"Pain",type:"radio",options:["No","Unassessable","Yes"],dataSource:"manual",defaultValue:"No"},{id:"pain_severity",label:"Pain Severity",type:"radio",options:["Low","Medium","High"],dataSource:"manual",displayCondition:'pain_status === "Yes"'},{id:"pain_location",label:"Pain Location",type:"checkbox",options:["Whole body","Head","Face","Chest","Abdomen","Back","Upper limbs","Lower limbs","Others"],dataSource:"manual",displayCondition:'pain_status === "Yes"'}]}];return l.jsx(gt,{value:"skin-pain",className:"mt-0",children:l.jsx(Sn,{title:"Skin & Pain Assessment",description:"Evaluation of skin integrity and patient-reported pain.",cards:n,layout:"two-column",onFieldChange:e,fieldValues:t})})}function mD({onFieldChange:e,fieldValues:t}){const n=[{id:"emotional-status",title:"Emotional Status",fields:[{id:"emotional_status",label:"Status",type:"radio",options:["Stable","Depressed","Confused","Agitated","Others"],dataSource:"manual"}]},{id:"remark",title:"Remark",fields:[{id:"general_remark",label:"General Remarks",type:"textarea",dataSource:"manual"}]}];return l.jsx(gt,{value:"emotion-remark",className:"mt-0",children:l.jsx(Sn,{title:"Emotion & Remarks",description:"Patient's emotional state and any additional notes.",cards:n,layout:"single",onFieldChange:e,fieldValues:t})})}function pD({onFieldChange:e,fieldValues:t}){const n=[{id:"photo-upload",title:"Photo Upload",fields:[{id:"patient_photos",label:"Patient Photos",type:"file",dataSource:"manual",accept:"image/*",multiple:!0}]}];return l.jsx(gt,{value:"photo",className:"mt-0",children:l.jsx(Sn,{title:"Patient Photos",description:"Upload relevant photos, such as images of wounds or rashes.",cards:n,layout:"single",onFieldChange:e,fieldValues:t})})}function gD({onFieldChange:e,fieldValues:t,assessmentId:n,patientId:r}){const[s,o]=g.useState("general"),[i,a]=g.useState({}),c=g.useCallback((p,m)=>{a(w=>({...w,[p]:m})),e(p,m)},[e]),u={...t,...i},d=[{id:"general",title:"General",completed:!1,fieldsCount:7,completedFields:0},{id:"physical",title:"Physical",completed:!1,fieldsCount:15,completedFields:0},{id:"social",title:"Social",completed:!1,fieldsCount:12,completedFields:0},{id:"risk",title:"Risk",completed:!1,fieldsCount:20,completedFields:0},{id:"communication",title:"Communication/Respiration/Mobility",completed:!1,fieldsCount:18,completedFields:0},{id:"elimination",title:"Elimination",completed:!1,fieldsCount:10,completedFields:0},{id:"nutrition",title:"Nutrition/Self-Care",completed:!1,fieldsCount:14,completedFields:0},{id:"skin-pain",title:"Skin/Pain",completed:!1,fieldsCount:12,completedFields:0},{id:"emotion-remark",title:"Emotion/Remark",completed:!1,fieldsCount:2,completedFields:0},{id:"photo",title:"Photo",completed:!1,fieldsCount:1,completedFields:0}];g.useEffect(()=>{},[t]);const f=p=>{var m;switch(p){case"general":return l.jsx(iD,{onFieldChange:c,fieldValues:u,assessmentId:n,patientId:r});case"physical":return l.jsx(aD,{onFieldChange:c,fieldValues:u});case"social":return l.jsx(lD,{onFieldChange:c,fieldValues:u});case"risk":return l.jsx(cD,{onFieldChange:c,fieldValues:u});case"communication":return l.jsx(uD,{onFieldChange:c,fieldValues:u});case"elimination":return l.jsx(dD,{onFieldChange:c,fieldValues:u});case"nutrition":return l.jsx(fD,{onFieldChange:c,fieldValues:u});case"skin-pain":return l.jsx(hD,{onFieldChange:c,fieldValues:u});case"emotion-remark":return l.jsx(mD,{onFieldChange:c,fieldValues:u});case"photo":return l.jsx(pD,{onFieldChange:c,fieldValues:u});default:return l.jsx(gt,{value:p,className:"mt-0",children:l.jsx(je,{children:l.jsx(Be,{className:"p-6",children:l.jsxs("div",{className:"text-center py-12",children:[l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Component Not Found"}),l.jsxs("p",{className:"text-muted-foreground",children:["The component for the ",(m=d.find(w=>w.id===p))==null?void 0:m.title," tab could not be loaded."]})]})})})})}};return l.jsx(LT,{sections:d,currentSection:s,onSectionChange:o,children:f(s)})}const vD=()=>{const[e,t]=g.useState(!1),[n,r]=g.useState(!1),{toast:s}=jh(),o=async()=>{t(!0);try{const{data:i,error:a}=await ue.functions.invoke("generate-field-embeddings");if(a)throw new Error(a.message);console.log("RAG embeddings generated:",i),s({title:"RAG System Setup Complete",description:`Generated ${i.generatedEmbeddings} field embeddings for intelligent medical extraction.`}),r(!0)}catch(i){console.error("Error generating embeddings:",i),s({variant:"destructive",title:"RAG Setup Failed",description:i.message||"Failed to generate field embeddings"})}finally{t(!1)}};return n?l.jsxs(je,{className:"border-green-200 bg-green-50",children:[l.jsx(en,{className:"pb-3",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(oo,{className:"h-5 w-5 text-green-600"}),l.jsx(tn,{className:"text-green-800",children:"RAG System Active"})]})}),l.jsx(Be,{children:l.jsx(xr,{className:"text-green-700",children:"Medical field embeddings are ready. The system will now use intelligent RAG-based extraction for all audio transcripts."})})]}):l.jsxs(je,{className:"border-blue-200",children:[l.jsxs(en,{children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ap,{className:"h-5 w-5 text-blue-600"}),l.jsx(tn,{children:"RAG Medical Extraction"})]}),l.jsx(ge,{variant:"outline",className:"text-blue-600 border-blue-200",children:"Setup Required"})]}),l.jsx(xr,{children:"Initialize the RAG (Retrieval-Augmented Generation) system with medical field embeddings for intelligent form extraction."})]}),l.jsx(Be,{children:l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"rounded-lg bg-blue-50 p-4 border border-blue-200",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(vr,{className:"h-5 w-5 text-blue-600 mt-0.5"}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"What does this do?"}),l.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[l.jsx("li",{children:"• Creates vector embeddings for all 200+ medical form fields"}),l.jsx("li",{children:"• Enables intelligent field recognition from multilingual conversations"}),l.jsx("li",{children:"• Improves extraction accuracy for complex medical terminology"}),l.jsx("li",{children:"• Supports Cantonese and English medical conversations"})]})]})]})}),l.jsx(ne,{onClick:o,disabled:e,className:"w-full",size:"lg",children:e?l.jsxs(l.Fragment,{children:[l.jsx(Jt,{className:"mr-2 h-4 w-4 animate-spin"}),"Generating Medical Field Embeddings..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Ap,{className:"mr-2 h-4 w-4"}),"Initialize RAG System"]})})]})})]})};var yD=e=>{switch(e){case"success":return bD;case"info":return SD;case"warning":return _D;case"error":return kD;default:return null}},xD=Array(12).fill(0),wD=({visible:e,className:t})=>$.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},$.createElement("div",{className:"sonner-spinner"},xD.map((n,r)=>$.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),bD=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),_D=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),SD=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),kD=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),ND=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},$.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),$.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),CD=()=>{let[e,t]=$.useState(document.hidden);return $.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},df=1,jD=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:df++,o=this.toasts.find(a=>a.id===s),i=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),o?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...e,id:s,title:n}),{...a,...e,id:s,dismissible:i,title:n}):a):this.addToast({title:n,...r,dismissible:i,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),s=n!==void 0,o,i=r.then(async c=>{if(o=["resolve",c],$.isValidElement(c))s=!1,this.create({id:n,type:"default",message:c});else if(PD(c)&&!c.ok){s=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:n,type:"error",message:u,description:d})}else if(t.success!==void 0){s=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"success",message:u,description:d})}}).catch(async c=>{if(o=["reject",c],t.error!==void 0){s=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"error",message:u,description:d})}}).finally(()=>{var c;s&&(this.dismiss(n),n=void 0),(c=t.finally)==null||c.call(t)}),a=()=>new Promise((c,u)=>i.then(()=>o[0]==="reject"?u(o[1]):c(o[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:a}:Object.assign(n,{unwrap:a})},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||df++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},at=new jD,ED=(e,t)=>{let n=(t==null?void 0:t.id)||df++;return at.addToast({title:e,...t,id:n}),n},PD=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",TD=ED,RD=()=>at.toasts,AD=()=>at.getActiveToasts(),Qe=Object.assign(TD,{success:at.success,info:at.info,warning:at.warning,error:at.error,custom:at.custom,message:at.message,promise:at.promise,dismiss:at.dismiss,loading:at.loading},{getHistory:RD,getToasts:AD});function ID(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}ID(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function wa(e){return e.label!==void 0}var OD=3,MD="32px",DD="16px",Wg=4e3,LD=356,$D=14,FD=20,BD=200;function Ut(...e){return e.filter(Boolean).join(" ")}function UD(e){let[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}var WD=e=>{var t,n,r,s,o,i,a,c,u,d,f;let{invert:p,toast:m,unstyled:w,interacting:y,setHeights:b,visibleToasts:x,heights:h,index:v,toasts:_,expanded:S,removeToast:k,defaultRichColors:N,closeButton:E,style:I,cancelButtonStyle:A,actionButtonStyle:U,className:T="",descriptionClassName:O="",duration:j,position:D,gap:L,loadingIcon:R,expandByDefault:C,classNames:P,icons:F,closeButtonAriaLabel:Y="Close toast",pauseWhenPageIsHidden:z}=e,[Z,K]=$.useState(null),[me,we]=$.useState(null),[B,de]=$.useState(!1),[Te,ce]=$.useState(!1),[ie,le]=$.useState(!1),[Ge,jt]=$.useState(!1),[Rr,Un]=$.useState(!1),[Ar,Co]=$.useState(0),[ds,cm]=$.useState(0),jo=$.useRef(m.duration||j||Wg),um=$.useRef(null),Ir=$.useRef(null),G_=v===0,K_=v+1<=x,Et=m.type,fs=m.dismissible!==!1,X_=m.className||"",Q_=m.descriptionClassName||"",Vi=$.useMemo(()=>h.findIndex(X=>X.toastId===m.id)||0,[h,m.id]),J_=$.useMemo(()=>{var X;return(X=m.closeButton)!=null?X:E},[m.closeButton,E]),dm=$.useMemo(()=>m.duration||j||Wg,[m.duration,j]),Ic=$.useRef(0),hs=$.useRef(0),fm=$.useRef(0),ms=$.useRef(null),[Z_,e1]=D.split("-"),hm=$.useMemo(()=>h.reduce((X,pe,ke)=>ke>=Vi?X:X+pe.height,0),[h,Vi]),mm=CD(),t1=m.invert||p,Oc=Et==="loading";hs.current=$.useMemo(()=>Vi*L+hm,[Vi,hm]),$.useEffect(()=>{jo.current=dm},[dm]),$.useEffect(()=>{de(!0)},[]),$.useEffect(()=>{let X=Ir.current;if(X){let pe=X.getBoundingClientRect().height;return cm(pe),b(ke=>[{toastId:m.id,height:pe,position:m.position},...ke]),()=>b(ke=>ke.filter(Lt=>Lt.toastId!==m.id))}},[b,m.id]),$.useLayoutEffect(()=>{if(!B)return;let X=Ir.current,pe=X.style.height;X.style.height="auto";let ke=X.getBoundingClientRect().height;X.style.height=pe,cm(ke),b(Lt=>Lt.find($t=>$t.toastId===m.id)?Lt.map($t=>$t.toastId===m.id?{...$t,height:ke}:$t):[{toastId:m.id,height:ke,position:m.position},...Lt])},[B,m.title,m.description,b,m.id]);let Wn=$.useCallback(()=>{ce(!0),Co(hs.current),b(X=>X.filter(pe=>pe.toastId!==m.id)),setTimeout(()=>{k(m)},BD)},[m,k,b,hs]);$.useEffect(()=>{if(m.promise&&Et==="loading"||m.duration===1/0||m.type==="loading")return;let X;return S||y||z&&mm?(()=>{if(fm.current<Ic.current){let pe=new Date().getTime()-Ic.current;jo.current=jo.current-pe}fm.current=new Date().getTime()})():jo.current!==1/0&&(Ic.current=new Date().getTime(),X=setTimeout(()=>{var pe;(pe=m.onAutoClose)==null||pe.call(m,m),Wn()},jo.current)),()=>clearTimeout(X)},[S,y,m,Et,z,mm,Wn]),$.useEffect(()=>{m.delete&&Wn()},[Wn,m.delete]);function n1(){var X,pe,ke;return F!=null&&F.loading?$.createElement("div",{className:Ut(P==null?void 0:P.loader,(X=m==null?void 0:m.classNames)==null?void 0:X.loader,"sonner-loader"),"data-visible":Et==="loading"},F.loading):R?$.createElement("div",{className:Ut(P==null?void 0:P.loader,(pe=m==null?void 0:m.classNames)==null?void 0:pe.loader,"sonner-loader"),"data-visible":Et==="loading"},R):$.createElement(wD,{className:Ut(P==null?void 0:P.loader,(ke=m==null?void 0:m.classNames)==null?void 0:ke.loader),visible:Et==="loading"})}return $.createElement("li",{tabIndex:0,ref:Ir,className:Ut(T,X_,P==null?void 0:P.toast,(t=m==null?void 0:m.classNames)==null?void 0:t.toast,P==null?void 0:P.default,P==null?void 0:P[Et],(n=m==null?void 0:m.classNames)==null?void 0:n[Et]),"data-sonner-toast":"","data-rich-colors":(r=m.richColors)!=null?r:N,"data-styled":!(m.jsx||m.unstyled||w),"data-mounted":B,"data-promise":!!m.promise,"data-swiped":Rr,"data-removed":Te,"data-visible":K_,"data-y-position":Z_,"data-x-position":e1,"data-index":v,"data-front":G_,"data-swiping":ie,"data-dismissible":fs,"data-type":Et,"data-invert":t1,"data-swipe-out":Ge,"data-swipe-direction":me,"data-expanded":!!(S||C&&B),style:{"--index":v,"--toasts-before":v,"--z-index":_.length-v,"--offset":`${Te?Ar:hs.current}px`,"--initial-height":C?"auto":`${ds}px`,...I,...m.style},onDragEnd:()=>{le(!1),K(null),ms.current=null},onPointerDown:X=>{Oc||!fs||(um.current=new Date,Co(hs.current),X.target.setPointerCapture(X.pointerId),X.target.tagName!=="BUTTON"&&(le(!0),ms.current={x:X.clientX,y:X.clientY}))},onPointerUp:()=>{var X,pe,ke,Lt;if(Ge||!fs)return;ms.current=null;let $t=Number(((X=Ir.current)==null?void 0:X.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),zn=Number(((pe=Ir.current)==null?void 0:pe.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Or=new Date().getTime()-((ke=um.current)==null?void 0:ke.getTime()),Ft=Z==="x"?$t:zn,Hn=Math.abs(Ft)/Or;if(Math.abs(Ft)>=FD||Hn>.11){Co(hs.current),(Lt=m.onDismiss)==null||Lt.call(m,m),we(Z==="x"?$t>0?"right":"left":zn>0?"down":"up"),Wn(),jt(!0),Un(!1);return}le(!1),K(null)},onPointerMove:X=>{var pe,ke,Lt,$t;if(!ms.current||!fs||((pe=window.getSelection())==null?void 0:pe.toString().length)>0)return;let zn=X.clientY-ms.current.y,Or=X.clientX-ms.current.x,Ft=(ke=e.swipeDirections)!=null?ke:UD(D);!Z&&(Math.abs(Or)>1||Math.abs(zn)>1)&&K(Math.abs(Or)>Math.abs(zn)?"x":"y");let Hn={x:0,y:0};Z==="y"?(Ft.includes("top")||Ft.includes("bottom"))&&(Ft.includes("top")&&zn<0||Ft.includes("bottom")&&zn>0)&&(Hn.y=zn):Z==="x"&&(Ft.includes("left")||Ft.includes("right"))&&(Ft.includes("left")&&Or<0||Ft.includes("right")&&Or>0)&&(Hn.x=Or),(Math.abs(Hn.x)>0||Math.abs(Hn.y)>0)&&Un(!0),(Lt=Ir.current)==null||Lt.style.setProperty("--swipe-amount-x",`${Hn.x}px`),($t=Ir.current)==null||$t.style.setProperty("--swipe-amount-y",`${Hn.y}px`)}},J_&&!m.jsx?$.createElement("button",{"aria-label":Y,"data-disabled":Oc,"data-close-button":!0,onClick:Oc||!fs?()=>{}:()=>{var X;Wn(),(X=m.onDismiss)==null||X.call(m,m)},className:Ut(P==null?void 0:P.closeButton,(s=m==null?void 0:m.classNames)==null?void 0:s.closeButton)},(o=F==null?void 0:F.close)!=null?o:ND):null,m.jsx||g.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:$.createElement($.Fragment,null,Et||m.icon||m.promise?$.createElement("div",{"data-icon":"",className:Ut(P==null?void 0:P.icon,(i=m==null?void 0:m.classNames)==null?void 0:i.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||n1():null,m.type!=="loading"?m.icon||(F==null?void 0:F[Et])||yD(Et):null):null,$.createElement("div",{"data-content":"",className:Ut(P==null?void 0:P.content,(a=m==null?void 0:m.classNames)==null?void 0:a.content)},$.createElement("div",{"data-title":"",className:Ut(P==null?void 0:P.title,(c=m==null?void 0:m.classNames)==null?void 0:c.title)},typeof m.title=="function"?m.title():m.title),m.description?$.createElement("div",{"data-description":"",className:Ut(O,Q_,P==null?void 0:P.description,(u=m==null?void 0:m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),g.isValidElement(m.cancel)?m.cancel:m.cancel&&wa(m.cancel)?$.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||A,onClick:X=>{var pe,ke;wa(m.cancel)&&fs&&((ke=(pe=m.cancel).onClick)==null||ke.call(pe,X),Wn())},className:Ut(P==null?void 0:P.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,g.isValidElement(m.action)?m.action:m.action&&wa(m.action)?$.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||U,onClick:X=>{var pe,ke;wa(m.action)&&((ke=(pe=m.action).onClick)==null||ke.call(pe,X),!X.defaultPrevented&&Wn())},className:Ut(P==null?void 0:P.actionButton,(f=m==null?void 0:m.classNames)==null?void 0:f.actionButton)},m.action.label):null))};function zg(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function zD(e,t){let n={};return[e,t].forEach((r,s)=>{let o=s===1,i=o?"--mobile-offset":"--offset",a=o?DD:MD;function c(u){["top","right","bottom","left"].forEach(d=>{n[`${i}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${i}-${u}`]=a:n[`${i}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):c(a)}),n}var HD=g.forwardRef(function(e,t){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:o,closeButton:i,className:a,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:p,style:m,visibleToasts:w=OD,toastOptions:y,dir:b=zg(),gap:x=$D,loadingIcon:h,icons:v,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:S}=e,[k,N]=$.useState([]),E=$.useMemo(()=>Array.from(new Set([r].concat(k.filter(z=>z.position).map(z=>z.position)))),[k,r]),[I,A]=$.useState([]),[U,T]=$.useState(!1),[O,j]=$.useState(!1),[D,L]=$.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),R=$.useRef(null),C=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),P=$.useRef(null),F=$.useRef(!1),Y=$.useCallback(z=>{N(Z=>{var K;return(K=Z.find(me=>me.id===z.id))!=null&&K.delete||at.dismiss(z.id),Z.filter(({id:me})=>me!==z.id)})},[]);return $.useEffect(()=>at.subscribe(z=>{if(z.dismiss){N(Z=>Z.map(K=>K.id===z.id?{...K,delete:!0}:K));return}setTimeout(()=>{o0.flushSync(()=>{N(Z=>{let K=Z.findIndex(me=>me.id===z.id);return K!==-1?[...Z.slice(0,K),{...Z[K],...z},...Z.slice(K+1)]:[z,...Z]})})})}),[]),$.useEffect(()=>{if(d!=="system"){L(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?L("dark"):L("light")),typeof window>"u")return;let z=window.matchMedia("(prefers-color-scheme: dark)");try{z.addEventListener("change",({matches:Z})=>{L(Z?"dark":"light")})}catch{z.addListener(({matches:K})=>{try{L(K?"dark":"light")}catch(me){console.error(me)}})}},[d]),$.useEffect(()=>{k.length<=1&&T(!1)},[k]),$.useEffect(()=>{let z=Z=>{var K,me;s.every(we=>Z[we]||Z.code===we)&&(T(!0),(K=R.current)==null||K.focus()),Z.code==="Escape"&&(document.activeElement===R.current||(me=R.current)!=null&&me.contains(document.activeElement))&&T(!1)};return document.addEventListener("keydown",z),()=>document.removeEventListener("keydown",z)},[s]),$.useEffect(()=>{if(R.current)return()=>{P.current&&(P.current.focus({preventScroll:!0}),P.current=null,F.current=!1)}},[R.current]),$.createElement("section",{ref:t,"aria-label":`${_} ${C}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},E.map((z,Z)=>{var K;let[me,we]=z.split("-");return k.length?$.createElement("ol",{key:z,dir:b==="auto"?zg():b,tabIndex:-1,ref:R,className:a,"data-sonner-toaster":!0,"data-theme":D,"data-y-position":me,"data-lifted":U&&k.length>1&&!o,"data-x-position":we,style:{"--front-toast-height":`${((K=I[0])==null?void 0:K.height)||0}px`,"--width":`${LD}px`,"--gap":`${x}px`,...m,...zD(c,u)},onBlur:B=>{F.current&&!B.currentTarget.contains(B.relatedTarget)&&(F.current=!1,P.current&&(P.current.focus({preventScroll:!0}),P.current=null))},onFocus:B=>{B.target instanceof HTMLElement&&B.target.dataset.dismissible==="false"||F.current||(F.current=!0,P.current=B.relatedTarget)},onMouseEnter:()=>T(!0),onMouseMove:()=>T(!0),onMouseLeave:()=>{O||T(!1)},onDragEnd:()=>T(!1),onPointerDown:B=>{B.target instanceof HTMLElement&&B.target.dataset.dismissible==="false"||j(!0)},onPointerUp:()=>j(!1)},k.filter(B=>!B.position&&Z===0||B.position===z).map((B,de)=>{var Te,ce;return $.createElement(WD,{key:B.id,icons:v,index:de,toast:B,defaultRichColors:f,duration:(Te=y==null?void 0:y.duration)!=null?Te:p,className:y==null?void 0:y.className,descriptionClassName:y==null?void 0:y.descriptionClassName,invert:n,visibleToasts:w,closeButton:(ce=y==null?void 0:y.closeButton)!=null?ce:i,interacting:O,position:z,style:y==null?void 0:y.style,unstyled:y==null?void 0:y.unstyled,classNames:y==null?void 0:y.classNames,cancelButtonStyle:y==null?void 0:y.cancelButtonStyle,actionButtonStyle:y==null?void 0:y.actionButtonStyle,removeToast:Y,toasts:k.filter(ie=>ie.position==B.position),heights:I.filter(ie=>ie.position==B.position),setHeights:A,expandByDefault:o,gap:x,loadingIcon:h,expanded:U,pauseWhenPageIsHidden:S,swipeDirections:e.swipeDirections})})):null}))});const Xs={emergency_contact_1_name:{sectionId:"general",sectionTitle:"General Information"},emergency_contact_1_relationship:{sectionId:"general",sectionTitle:"General Information"},emergency_contact_1_phone:{sectionId:"general",sectionTitle:"General Information"},emergency_contact_2_name:{sectionId:"general",sectionTitle:"General Information"},emergency_contact_2_relationship:{sectionId:"general",sectionTitle:"General Information"},emergency_contact_2_phone:{sectionId:"general",sectionTitle:"General Information"},belongings_description:{sectionId:"general",sectionTitle:"General Information"},current_complaint:{sectionId:"physical",sectionTitle:"Physical Assessment"},level_of_consciousness:{sectionId:"physical",sectionTitle:"Physical Assessment"},gcs_eye:{sectionId:"physical",sectionTitle:"Physical Assessment"},gcs_verbal:{sectionId:"physical",sectionTitle:"Physical Assessment"},gcs_motor:{sectionId:"physical",sectionTitle:"Physical Assessment"},gcs_total:{sectionId:"physical",sectionTitle:"Physical Assessment"},temperature:{sectionId:"physical",sectionTitle:"Physical Assessment"},temp_method:{sectionId:"physical",sectionTitle:"Physical Assessment"},pulse:{sectionId:"physical",sectionTitle:"Physical Assessment"},pulse_location:{sectionId:"physical",sectionTitle:"Physical Assessment"},pulse_pattern:{sectionId:"physical",sectionTitle:"Physical Assessment"},bp_systolic:{sectionId:"physical",sectionTitle:"Physical Assessment"},bp_diastolic:{sectionId:"physical",sectionTitle:"Physical Assessment"},bp_position:{sectionId:"physical",sectionTitle:"Physical Assessment"},mean_bp:{sectionId:"physical",sectionTitle:"Physical Assessment"},respiratory_rate:{sectionId:"physical",sectionTitle:"Physical Assessment"},respiration_status:{sectionId:"physical",sectionTitle:"Physical Assessment"},spo2:{sectionId:"physical",sectionTitle:"Physical Assessment"},cvp:{sectionId:"physical",sectionTitle:"Physical Assessment"},cvp_level:{sectionId:"physical",sectionTitle:"Physical Assessment"},pacemaker:{sectionId:"physical",sectionTitle:"Physical Assessment"},coughing:{sectionId:"physical",sectionTitle:"Physical Assessment"},sputum:{sectionId:"physical",sectionTitle:"Physical Assessment"},sputum_colour:{sectionId:"physical",sectionTitle:"Physical Assessment"},oxygen_therapy:{sectionId:"physical",sectionTitle:"Physical Assessment"},oxygen_flow_rate:{sectionId:"physical",sectionTitle:"Physical Assessment"},oxygen_via:{sectionId:"physical",sectionTitle:"Physical Assessment"},oxygen_device:{sectionId:"physical",sectionTitle:"Physical Assessment"},weight:{sectionId:"physical",sectionTitle:"Physical Assessment"},height:{sectionId:"physical",sectionTitle:"Physical Assessment"},bmi:{sectionId:"physical",sectionTitle:"Physical Assessment"},weight_loss_6_months:{sectionId:"physical",sectionTitle:"Physical Assessment"},blood_glucose:{sectionId:"physical",sectionTitle:"Physical Assessment"},lmp:{sectionId:"physical",sectionTitle:"Physical Assessment"},pregnancy_test:{sectionId:"physical",sectionTitle:"Physical Assessment"},urinalysis_sugar:{sectionId:"physical",sectionTitle:"Physical Assessment"},urinalysis_albumin:{sectionId:"physical",sectionTitle:"Physical Assessment"},urinalysis_ketone:{sectionId:"physical",sectionTitle:"Physical Assessment"},urinalysis_wbc:{sectionId:"physical",sectionTitle:"Physical Assessment"},urinalysis_rbc:{sectionId:"physical",sectionTitle:"Physical Assessment"},urinalysis_nitrite:{sectionId:"physical",sectionTitle:"Physical Assessment"},urinalysis_remarks:{sectionId:"physical",sectionTitle:"Physical Assessment"},mews_total:{sectionId:"physical",sectionTitle:"Physical Assessment"},infection_risk_status:{sectionId:"risk",sectionTitle:"Risk Assessment"},clinical_criteria:{sectionId:"risk",sectionTitle:"Risk Assessment"},other_symptoms:{sectionId:"risk",sectionTitle:"Risk Assessment"},cpe_screening:{sectionId:"risk",sectionTitle:"Risk Assessment"},cpe_country_area:{sectionId:"risk",sectionTitle:"Risk Assessment"},vre_screening:{sectionId:"risk",sectionTitle:"Risk Assessment"},vre_country_area:{sectionId:"risk",sectionTitle:"Risk Assessment"},mdro_tagging:{sectionId:"risk",sectionTitle:"Risk Assessment"},isolation_precaution:{sectionId:"risk",sectionTitle:"Risk Assessment"},ftocc:{sectionId:"risk",sectionTitle:"Risk Assessment"},infectious_status:{sectionId:"risk",sectionTitle:"Risk Assessment"},suicide_admitted_attempt:{sectionId:"risk",sectionTitle:"Risk Assessment"},suicide_expresses_idea:{sectionId:"risk",sectionTitle:"Risk Assessment"},suicide_disclosure_relatives:{sectionId:"risk",sectionTitle:"Risk Assessment"},fall_risk_level:{sectionId:"risk",sectionTitle:"Risk Assessment"},morse_history_falling:{sectionId:"risk",sectionTitle:"Risk Assessment"},morse_secondary_diagnosis:{sectionId:"risk",sectionTitle:"Risk Assessment"},morse_ambulatory_aid:{sectionId:"risk",sectionTitle:"Risk Assessment"},morse_iv_therapy:{sectionId:"risk",sectionTitle:"Risk Assessment"},morse_gait:{sectionId:"risk",sectionTitle:"Risk Assessment"},morse_mental_status:{sectionId:"risk",sectionTitle:"Risk Assessment"},morse_total_score:{sectionId:"risk",sectionTitle:"Risk Assessment"},fall_remarks:{sectionId:"risk",sectionTitle:"Risk Assessment"},missing_risk_status:{sectionId:"risk",sectionTitle:"Risk Assessment"},norton_physical:{sectionId:"risk",sectionTitle:"Risk Assessment"},norton_mental:{sectionId:"risk",sectionTitle:"Risk Assessment"},norton_activity:{sectionId:"risk",sectionTitle:"Risk Assessment"},norton_mobility:{sectionId:"risk",sectionTitle:"Risk Assessment"},norton_incontinent:{sectionId:"risk",sectionTitle:"Risk Assessment"},braden_sensory:{sectionId:"risk",sectionTitle:"Risk Assessment"},braden_moisture:{sectionId:"risk",sectionTitle:"Risk Assessment"},braden_activity:{sectionId:"risk",sectionTitle:"Risk Assessment"},braden_mobility:{sectionId:"risk",sectionTitle:"Risk Assessment"},braden_nutrition:{sectionId:"risk",sectionTitle:"Risk Assessment"},braden_friction:{sectionId:"risk",sectionTitle:"Risk Assessment"},education_level:{sectionId:"social",sectionTitle:"Social Assessment"},occupation:{sectionId:"social",sectionTitle:"Social Assessment"},insurance_type:{sectionId:"social",sectionTitle:"Social Assessment"},living_arrangement:{sectionId:"social",sectionTitle:"Social Assessment"},religious_practice:{sectionId:"social",sectionTitle:"Social Assessment"},religious_denomination:{sectionId:"social",sectionTitle:"Social Assessment"},cultural_dietary_requirements:{sectionId:"social",sectionTitle:"Social Assessment"},personal_hygiene_independence:{sectionId:"social",sectionTitle:"Social Assessment"},adl_independence:{sectionId:"social",sectionTitle:"Social Assessment"},assistance_needed:{sectionId:"social",sectionTitle:"Social Assessment"},home_safety_concerns:{sectionId:"social",sectionTitle:"Social Assessment"},discharge_planning_needs:{sectionId:"social",sectionTitle:"Social Assessment"},hearing_status:{sectionId:"communication",sectionTitle:"Communication/Respiration/Mobility"},hearing_aid:{sectionId:"communication",sectionTitle:"Communication/Respiration/Mobility"},vision_status:{sectionId:"communication",sectionTitle:"Communication/Respiration/Mobility"},vision_aid:{sectionId:"communication",sectionTitle:"Communication/Respiration/Mobility"},speech_status:{sectionId:"communication",sectionTitle:"Communication/Respiration/Mobility"},language_preferred:{sectionId:"communication",sectionTitle:"Communication/Respiration/Mobility"},communication_concerns:{sectionId:"communication",sectionTitle:"Communication/Respiration/Mobility"},respiratory_concerns:{sectionId:"communication",sectionTitle:"Communication/Respiration/Mobility"},breathing_pattern:{sectionId:"communication",sectionTitle:"Communication/Respiration/Mobility"},mobility_status:{sectionId:"communication",sectionTitle:"Communication/Respiration/Mobility"},mobility_aids:{sectionId:"communication",sectionTitle:"Communication/Respiration/Mobility"},transfer_ability:{sectionId:"communication",sectionTitle:"Communication/Respiration/Mobility"},ambulation_distance:{sectionId:"communication",sectionTitle:"Communication/Respiration/Mobility"},mobility_limitations:{sectionId:"communication",sectionTitle:"Communication/Respiration/Mobility"},bowel_pattern:{sectionId:"elimination",sectionTitle:"Elimination"},last_bowel_movement:{sectionId:"elimination",sectionTitle:"Elimination"},bowel_continence:{sectionId:"elimination",sectionTitle:"Elimination"},bowel_concerns:{sectionId:"elimination",sectionTitle:"Elimination"},urinary_pattern:{sectionId:"elimination",sectionTitle:"Elimination"},urinary_continence:{sectionId:"elimination",sectionTitle:"Elimination"},urinary_concerns:{sectionId:"elimination",sectionTitle:"Elimination"},catheter_type:{sectionId:"elimination",sectionTitle:"Elimination"},elimination_aids:{sectionId:"elimination",sectionTitle:"Elimination"},elimination_assistance:{sectionId:"elimination",sectionTitle:"Elimination"},appetite:{sectionId:"nutrition",sectionTitle:"Nutrition/Self-Care"},dietary_restrictions:{sectionId:"nutrition",sectionTitle:"Nutrition/Self-Care"},food_allergies:{sectionId:"nutrition",sectionTitle:"Nutrition/Self-Care"},swallowing_status:{sectionId:"nutrition",sectionTitle:"Nutrition/Self-Care"},feeding_assistance:{sectionId:"nutrition",sectionTitle:"Nutrition/Self-Care"},fluid_intake:{sectionId:"nutrition",sectionTitle:"Nutrition/Self-Care"},nutrition_concerns:{sectionId:"nutrition",sectionTitle:"Nutrition/Self-Care"},bathing_independence:{sectionId:"nutrition",sectionTitle:"Nutrition/Self-Care"},dressing_independence:{sectionId:"nutrition",sectionTitle:"Nutrition/Self-Care"},grooming_independence:{sectionId:"nutrition",sectionTitle:"Nutrition/Self-Care"},toileting_independence:{sectionId:"nutrition",sectionTitle:"Nutrition/Self-Care"},self_care_assistance:{sectionId:"nutrition",sectionTitle:"Nutrition/Self-Care"},self_care_concerns:{sectionId:"nutrition",sectionTitle:"Nutrition/Self-Care"},mst_total_score:{sectionId:"nutrition",sectionTitle:"Nutrition/Self-Care"},skin_condition:{sectionId:"skin-pain",sectionTitle:"Skin/Pain Assessment"},skin_integrity:{sectionId:"skin-pain",sectionTitle:"Skin/Pain Assessment"},pressure_ulcer_risk:{sectionId:"skin-pain",sectionTitle:"Skin/Pain Assessment"},wound_assessment:{sectionId:"skin-pain",sectionTitle:"Skin/Pain Assessment"},pain_status:{sectionId:"skin-pain",sectionTitle:"Skin/Pain Assessment"},pain_scale:{sectionId:"skin-pain",sectionTitle:"Skin/Pain Assessment"},pain_location:{sectionId:"skin-pain",sectionTitle:"Skin/Pain Assessment"},pain_quality:{sectionId:"skin-pain",sectionTitle:"Skin/Pain Assessment"},pain_management:{sectionId:"skin-pain",sectionTitle:"Skin/Pain Assessment"},skin_concerns:{sectionId:"skin-pain",sectionTitle:"Skin/Pain Assessment"},pain_concerns:{sectionId:"skin-pain",sectionTitle:"Skin/Pain Assessment"},comfort_measures:{sectionId:"skin-pain",sectionTitle:"Skin/Pain Assessment"},emotional_state:{sectionId:"emotion-remark",sectionTitle:"Emotion/Remark"},assessment_remarks:{sectionId:"emotion-remark",sectionTitle:"Emotion/Remark"},assessment_photos:{sectionId:"photo",sectionTitle:"Photo Documentation"}},VD=e=>{var t;return((t=Xs[e])==null?void 0:t.sectionId)||"general"},YD=e=>Object.keys(Xs).filter(t=>Xs[t].sectionId===e&&Xs[t].required),qD=(e,t)=>{const r=YD(e).filter(i=>!t[i]||t[i]===""),s=Object.keys(Xs).filter(i=>Xs[i].sectionId===e),o=s.filter(i=>t[i]&&t[i]!=="").length;return{isValid:r.length===0,missingFields:r,completedFields:o,totalFields:s.length}},GD=e=>{const{user:t}=Li(),[n,r]=g.useState(null),[s,o]=g.useState(null),[i,a]=g.useState({}),[c,u]=g.useState({morseScore:0,mstScore:0,mewsScore:0,nortonScore:0,bradenScore:0}),[d,f]=g.useState(!1),[p,m]=g.useState(!1),[w,y]=g.useState(""),b=g.useRef(!1),x=g.useRef(!1);g.useEffect(()=>{e&&h()},[e]),g.useEffect(()=>{!e||!t||x.current||b.current||(b.current=!0,v().catch(T=>console.error("createOrLoadAssessment error:",T)).finally(()=>{b.current=!1,x.current=!0}))},[e,t]),g.useEffect(()=>{if(s){const T=ue.channel("field-value-updates").on("postgres_changes",{event:"*",schema:"public",table:"form_field_values",filter:`assessment_id=eq.${s}`},O=>{console.log("Field value updated:",O),_()}).subscribe();return _(),()=>{ue.removeChannel(T)}}},[s]);const h=async()=>{if(e)try{const{data:T,error:O}=await ue.from("patients").select("*").eq("id",e).single();if(O)throw O;r(T)}catch(T){console.error("Error loading patient:",T),Qe.error("Failed to load patient data")}},v=async()=>{if(!e||!t){console.log("createOrLoadAssessment: Missing patientId or user",{patientId:!!e,user:!!t});return}console.log("createOrLoadAssessment: Starting for patient",e,"user",t.id);try{const T=new Date().toISOString().split("T")[0];console.log("Looking for assessments on date:",T);const{data:O,error:j}=await ue.from("patient_assessments").select("id, status, created_at").eq("patient_id",e).eq("user_id",t.id).eq("assessment_date",T).order("created_at",{ascending:!1});if(j)throw console.error("Error searching for assessments:",j),j;console.log("Found assessments:",O);const D=O&&O.length>0?O[0]:null;if(D)console.log("Using existing assessment:",D.id,"status:",D.status),o(D.id);else{console.log("Creating new assessment for patient",e);const{data:L,error:R}=await ue.from("patient_assessments").insert({patient_id:e,user_id:t.id,status:"in_progress"}).select().single();if(R)throw console.error("Error creating new assessment:",R),R;console.log("Created new assessment:",L.id),o(L.id),console.log("Auto-populating external data for new assessment...");try{const{data:C,error:P}=await ue.functions.invoke("populate-external-data",{body:{assessmentId:L.id,patientId:e}});P?console.error("Error auto-populating external data:",P):(console.log("External data auto-populated successfully:",C),Qe.success("External data populated successfully from hospital systems"))}catch(C){console.error("Error in auto-population:",C)}}}catch(T){console.error("Error in createOrLoadAssessment:",T),Qe.error("Failed to initialize assessment: "+T.message)}},_=async()=>{if(!s){console.log("No assessment ID available for loading field values");return}try{console.log("Loading field values for assessment:",s);const{data:T,error:O}=await ue.from("form_field_values").select("*").eq("assessment_id",s);if(O)throw O;const j={};T==null||T.forEach(D=>{j[D.field_id]=D.value}),a(j),console.log("Loaded field values:",j)}catch(T){console.error("Error loading field values:",T)}},S=g.useCallback((T,O)=>{a(D=>({...D,[T]:O}));const j=setTimeout(async()=>{if(s)try{const D=VD(T),{error:L}=await ue.from("form_field_values").upsert({assessment_id:s,field_id:T,field_label:T.replace(/_/g," ").replace(/\b\w/g,R=>R.toUpperCase()),section_id:D,value:O},{onConflict:"assessment_id,field_id"});if(L)throw L;console.log(`Updated field ${T} in section ${D} with value:`,O)}catch(D){console.error("Error updating field:",D),Qe.error("Failed to save field value")}},500);return()=>clearTimeout(j)},[s]),k=()=>{f(!0),console.log("Recording started")},N=async T=>{if(f(!1),T&&s)try{const O=new FormData;O.append("audio",T);const{data:j,error:D}=await ue.functions.invoke("transcribe-audio",{body:O});if(D)throw D;const L=(j==null?void 0:j.transcript)||"";y(L),L&&E(L)}catch(O){console.error("Error transcribing audio:",O)}},E=async T=>{if(s){m(!0);try{const{data:O,error:j}=await ue.functions.invoke("smart-medical-extraction",{body:{assessmentId:s,transcriptText:T}});if(j)throw j;console.log("Transcript processed:",O),Qe.success(`Audio processed successfully - ${(O==null?void 0:O.fieldsExtracted)||0} fields extracted`),await _()}catch(O){console.error("Error processing transcript:",O),Qe.error("Failed to process audio transcript")}finally{m(!1)}}},I=async()=>{if(!s){Qe.error("No assessment found to save");return}try{const{error:T}=await ue.from("patient_assessments").update({status:"in_progress",updated_at:new Date().toISOString()}).eq("id",s);if(T)throw T;Qe.success("Assessment saved successfully")}catch(T){console.error("Error saving draft:",T),Qe.error("Failed to save draft")}},A=()=>{const O=["general","physical","social","risk","communication","elimination","nutrition","skin-pain","emotion-remark","photo"].map(D=>({sectionId:D,...qD(D,i)})),j=O.filter(D=>!D.isValid).map(D=>({section:D.sectionId,fields:D.missingFields}));return{isValid:j.length===0,missingRequiredFields:j,validationResults:O}},U=async T=>{if(!s){Qe.error("No assessment found to submit");return}const O=A();if(!O.isValid){const j=O.missingRequiredFields.map(D=>`${D.section}: ${D.fields.join(", ")}`).join(`
`);Qe.error(`Please complete required fields:
${j}`);return}try{const{error:j}=await ue.functions.invoke("submit-assessment",{body:{assessmentId:s}});if(j)throw j;Qe.success("Assessment submitted successfully"),T("/")}catch(j){console.error("Error submitting assessment:",j),Qe.error("Failed to submit assessment")}};return g.useEffect(()=>{(()=>{var P,F,Y,z,Z,K,me,we;let O=0;(P=i.morse_history_falling)!=null&&P.includes("25")&&(O+=25),(F=i.morse_secondary_diagnosis)!=null&&F.includes("15")&&(O+=15),(Y=i.morse_ambulatory_aid)!=null&&Y.includes("30")?O+=30:(z=i.morse_ambulatory_aid)!=null&&z.includes("15")&&(O+=15),(Z=i.morse_iv_therapy)!=null&&Z.includes("20")&&(O+=20),(K=i.morse_gait)!=null&&K.includes("20")?O+=20:(me=i.morse_gait)!=null&&me.includes("10")&&(O+=10),(we=i.morse_mental_status)!=null&&we.includes("15")&&(O+=15);let j=0;i.mst_q1==="0"?j+=0:i.mst_q1==="2"?j+=2:i.mst_q1==="yes"&&(j+=parseInt(i.mst_q1_weight_amount||"0")),j+=parseInt(i.mst_q2||"0");let D=0,L=0;const R=i.pressure_scale_type||"Norton Scale";R==="Norton Scale"?D=parseInt(i.norton_physical||"0")+parseInt(i.norton_mental||"0")+parseInt(i.norton_activity||"0")+parseInt(i.norton_mobility||"0")+parseInt(i.norton_incontinent||"0"):R==="Braden Scale"&&(L=parseInt(i.braden_sensory||"0")+parseInt(i.braden_moisture||"0")+parseInt(i.braden_activity||"0")+parseInt(i.braden_mobility||"0")+parseInt(i.braden_nutrition||"0")+parseInt(i.braden_friction||"0"));const C=q_(i)??0;u(B=>({...B,morseScore:O,mstScore:j,nortonScore:D,bradenScore:L,mewsScore:C}))})()},[i]),{patient:n,assessmentId:s,fieldValues:i,riskScores:c,isRecording:d,isProcessingAudio:p,lastTranscript:w,handleRecordingStart:k,handleRecordingStop:N,handleFieldChange:S,submitAssessment:U,saveDraft:I,validateAssessment:A,sections:[],currentSection:"",setCurrentSection:()=>{},getFormFields:()=>[]}};class Qs extends g.Component{constructor(){super(...arguments);Mc(this,"state",{hasError:!1});Mc(this,"handleReset",()=>{this.setState({hasError:!1,error:void 0})})}static getDerivedStateFromError(n){return console.error("ErrorBoundary caught an error:",n),{hasError:!0,error:n}}componentDidCatch(n,r){console.error("ErrorBoundary details:",n,r)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:l.jsxs(je,{className:"w-full max-w-md",children:[l.jsxs(en,{className:"text-center",children:[l.jsx("div",{className:"mx-auto mb-4 h-12 w-12 text-destructive",children:l.jsx(pl,{className:"h-full w-full"})}),l.jsx(tn,{children:"Something went wrong"})]}),l.jsxs(Be,{className:"text-center space-y-4",children:[l.jsx("p",{className:"text-muted-foreground text-sm",children:"The application encountered an unexpected error. Please try refreshing the page."}),this.state.error&&l.jsxs("details",{className:"text-left",children:[l.jsx("summary",{className:"cursor-pointer text-sm font-medium mb-2",children:"Error Details"}),l.jsx("pre",{className:"text-xs bg-muted p-2 rounded overflow-auto",children:this.state.error.message})]}),l.jsxs("div",{className:"flex gap-2 justify-center",children:[l.jsxs(ne,{onClick:this.handleReset,variant:"outline",size:"sm",children:[l.jsx(ml,{className:"h-4 w-4 mr-2"}),"Try Again"]}),l.jsx(ne,{onClick:()=>window.location.reload(),size:"sm",children:"Refresh Page"})]})]})]})}):this.props.children}}const ba=(e,t)=>{for(const n of t){const r=e[n];if(r&&typeof r=="string"&&r.trim())return r.trim()}return""},KD=(e,t,n)=>{var s,o,i,a,c;const r=new Date;return{patientName:(e==null?void 0:e.name)||"",hospitalNo:(e==null?void 0:e.hospital_no)||"",age:((s=e==null?void 0:e.age)==null?void 0:s.toString())||"",sex:(e==null?void 0:e.sex)==="F"?"Female":(e==null?void 0:e.sex)==="M"?"Male":(e==null?void 0:e.sex)||"",ward:(e==null?void 0:e.ward)||"",bed:(e==null?void 0:e.bed)||"",date:r.toLocaleDateString("en-GB"),time:r.toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"}),nextOfKin:ba(t,["emergency_contact_1_name","emergency_contact_2_name","emergency-contact-name","contact-person"]),relationship:ba(t,["emergency_contact_1_relationship","emergency_contact_2_relationship","emergency-contact-relationship","relationship"]),contactNumber:ba(t,["emergency_contact_1_phone","emergency_contact_2_phone","emergency-contact-phone","contact-number"]),address:ba(t,["home_address","address","patient-address"]),admissionDate:e!=null&&e.admission_date?new Date(e.admission_date).toLocaleDateString("en-GB"):"",admissionType:(e==null?void 0:e.admission_type)||"",currentComplaints:t["current-complaints"]||t["chief-complaint"]||t["presenting-complaint"]||"",diagnosis:t.diagnosis||t["medical-diagnosis"]||t["primary-diagnosis"]||"",allergies:t.allergies||t["drug-allergies"]||t["food-allergies"]||"NKDA",morseScore:((o=n==null?void 0:n.morseScore)==null?void 0:o.toString())||"0",mstScore:((i=n==null?void 0:n.mstScore)==null?void 0:i.toString())||"0",nortonScore:((a=n==null?void 0:n.nortonScore)==null?void 0:a.toString())||"0",bradenScore:((c=n==null?void 0:n.bradenScore)==null?void 0:c.toString())||"0",bloodPressure:t["blood-pressure"]||t.bp||t["systolic-bp"]&&t["diastolic-bp"]?`${t["systolic-bp"]}/${t["diastolic-bp"]}`:"",pulse:t.pulse||t["heart-rate"]||t["pulse-rate"]||"",temperature:t.temperature||t.temp||t["body-temperature"]||"",oxygenSaturation:t["oxygen-saturation"]||t.spo2||t["o2-saturation"]||"",respiratoryRate:t["respiratory-rate"]||t.rr||t["breathing-rate"]||"",weight:t.weight||t["body-weight"]||"",oxygenTherapy:!!(t["oxygen-therapy"]||t["o2-therapy"]||t["supplemental-oxygen"]),ivAccess:!!(t["iv-access"]||t["intravenous-access"]||t["iv-line"]),catheter:!!(t.catheter||t["urinary-catheter"]||t["foley-catheter"]),pacemaker:!!(t.pacemaker||t["cardiac-pacemaker"]),mobility:!!(t["mobility-aid"]||t["walking-aid"]||t["ambulatory-aid"]),additionalNotes:XD(t),preparedBy:t["nurse-name"]||"System Generated",currentDateTime:r.toLocaleString("en-GB")}},XD=e=>{const t=["additional-notes","nursing-notes","special-instructions","care-plan-notes","discharge-notes","handover-notes","clinical-notes","patient-concerns","family-concerns","social-concerns"],n=[];return t.forEach(r=>{e[r]&&typeof e[r]=="string"&&e[r].trim()&&n.push(e[r].trim())}),e["pain-score"]&&n.push(`Pain Score: ${e["pain-score"]}`),e["mobility-status"]&&n.push(`Mobility: ${e["mobility-status"]}`),e["diet-type"]&&n.push(`Diet: ${e["diet-type"]}`),e["sleep-pattern"]&&n.push(`Sleep: ${e["sleep-pattern"]}`),e.belongings_description&&n.push(`Belongings: ${e.belongings_description}`),n.join(`

`)||"No additional notes available."},QD=({patient:e,fieldValues:t,riskScores:n,assessmentId:r})=>{const s=KD(e,t,n),o=()=>{window.print()};return l.jsxs(lm,{children:[l.jsx(H_,{asChild:!0,children:l.jsxs(ne,{variant:"outline",className:"flex items-center gap-2 min-h-[48px] px-6",children:[l.jsx(Op,{className:"h-4 w-4"}),"Print Handover Form"]})}),l.jsxs(Tc,{className:"max-w-4xl max-h-[90vh] overflow-y-auto print:max-w-none print:max-h-none print:overflow-visible",children:[l.jsxs(Rc,{className:"print:hidden",children:[l.jsx(Ac,{children:"Handover Notes - Print Preview"}),l.jsx(Y_,{children:"Review the populated handover form before printing"}),l.jsxs(ne,{onClick:o,className:"w-fit",children:[l.jsx(Op,{className:"h-4 w-4 mr-2"}),"Print Form"]})]}),l.jsxs("div",{className:"handover-form print:p-0 print:m-0",children:[l.jsxs("div",{className:"text-center mb-6 print:mb-4",children:[l.jsx("h1",{className:"text-xl font-bold print:text-base",children:"CHANGI GENERAL HOSPITAL"}),l.jsx("h2",{className:"text-lg font-semibold print:text-sm",children:"HANDOVER NOTES"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6 print:mb-4 print:text-xs",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex gap-2",children:[l.jsx("span",{className:"font-medium min-w-[100px]",children:"Name:"}),l.jsx("span",{className:"border-b border-gray-400 flex-1 px-1",children:s.patientName})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("span",{className:"font-medium min-w-[100px]",children:"Hospital No:"}),l.jsx("span",{className:"border-b border-gray-400 flex-1 px-1",children:s.hospitalNo})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("span",{className:"font-medium min-w-[100px]",children:"Age:"}),l.jsx("span",{className:"border-b border-gray-400 flex-1 px-1",children:s.age})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("span",{className:"font-medium min-w-[100px]",children:"Sex:"}),l.jsx("span",{className:"border-b border-gray-400 flex-1 px-1",children:s.sex})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex gap-2",children:[l.jsx("span",{className:"font-medium min-w-[100px]",children:"Ward:"}),l.jsx("span",{className:"border-b border-gray-400 flex-1 px-1",children:s.ward})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("span",{className:"font-medium min-w-[100px]",children:"Bed:"}),l.jsx("span",{className:"border-b border-gray-400 flex-1 px-1",children:s.bed})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("span",{className:"font-medium min-w-[100px]",children:"Date:"}),l.jsx("span",{className:"border-b border-gray-400 flex-1 px-1",children:s.date})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("span",{className:"font-medium min-w-[100px]",children:"Time:"}),l.jsx("span",{className:"border-b border-gray-400 flex-1 px-1",children:s.time})]})]})]}),l.jsxs("div",{className:"mb-6 print:mb-4",children:[l.jsx("h3",{className:"font-semibold text-sm mb-2 print:text-xs",children:"CONTACT INFORMATION"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 print:text-xs",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex gap-2",children:[l.jsx("span",{className:"font-medium min-w-[120px]",children:"Next of Kin:"}),l.jsx("span",{className:"border-b border-gray-400 flex-1 px-1",children:s.nextOfKin})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("span",{className:"font-medium min-w-[120px]",children:"Relationship:"}),l.jsx("span",{className:"border-b border-gray-400 flex-1 px-1",children:s.relationship})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex gap-2",children:[l.jsx("span",{className:"font-medium min-w-[120px]",children:"Contact Number:"}),l.jsx("span",{className:"border-b border-gray-400 flex-1 px-1",children:s.contactNumber})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("span",{className:"font-medium min-w-[120px]",children:"Address:"}),l.jsx("span",{className:"border-b border-gray-400 flex-1 px-1",children:s.address})]})]})]})]}),l.jsxs("div",{className:"mb-6 print:mb-4",children:[l.jsx("h3",{className:"font-semibold text-sm mb-2 print:text-xs",children:"MEDICAL INFORMATION"}),l.jsxs("div",{className:"space-y-2 print:text-xs",children:[l.jsxs("div",{className:"flex gap-2",children:[l.jsx("span",{className:"font-medium min-w-[150px]",children:"Admission Date:"}),l.jsx("span",{className:"border-b border-gray-400 flex-1 px-1",children:s.admissionDate})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("span",{className:"font-medium min-w-[150px]",children:"Admission Type:"}),l.jsx("span",{className:"border-b border-gray-400 flex-1 px-1",children:s.admissionType})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("span",{className:"font-medium min-w-[150px]",children:"Current Complaints:"}),l.jsx("span",{className:"border-b border-gray-400 flex-1 px-1",children:s.currentComplaints})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("span",{className:"font-medium min-w-[150px]",children:"Diagnosis:"}),l.jsx("span",{className:"border-b border-gray-400 flex-1 px-1",children:s.diagnosis})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("span",{className:"font-medium min-w-[150px]",children:"Allergies:"}),l.jsx("span",{className:"border-b border-gray-400 flex-1 px-1",children:s.allergies})]})]})]}),l.jsxs("div",{className:"mb-6 print:mb-4",children:[l.jsx("h3",{className:"font-semibold text-sm mb-2 print:text-xs",children:"RISK ASSESSMENT SCORES"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 print:text-xs",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex gap-2",children:[l.jsx("span",{className:"font-medium min-w-[120px]",children:"Morse Fall Scale:"}),l.jsx("span",{className:"border-b border-gray-400 flex-1 px-1",children:s.morseScore})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("span",{className:"font-medium min-w-[120px]",children:"MST Score:"}),l.jsx("span",{className:"border-b border-gray-400 flex-1 px-1",children:s.mstScore})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex gap-2",children:[l.jsx("span",{className:"font-medium min-w-[120px]",children:"Norton Scale:"}),l.jsx("span",{className:"border-b border-gray-400 flex-1 px-1",children:s.nortonScore})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("span",{className:"font-medium min-w-[120px]",children:"Braden Scale:"}),l.jsx("span",{className:"border-b border-gray-400 flex-1 px-1",children:s.bradenScore})]})]})]})]}),l.jsxs("div",{className:"mb-6 print:mb-4",children:[l.jsx("h3",{className:"font-semibold text-sm mb-2 print:text-xs",children:"VITAL SIGNS"}),l.jsxs("div",{className:"grid grid-cols-3 gap-4 print:text-xs",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex gap-2",children:[l.jsx("span",{className:"font-medium min-w-[80px]",children:"BP:"}),l.jsx("span",{className:"border-b border-gray-400 flex-1 px-1",children:s.bloodPressure})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("span",{className:"font-medium min-w-[80px]",children:"Pulse:"}),l.jsx("span",{className:"border-b border-gray-400 flex-1 px-1",children:s.pulse})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex gap-2",children:[l.jsx("span",{className:"font-medium min-w-[80px]",children:"Temp:"}),l.jsx("span",{className:"border-b border-gray-400 flex-1 px-1",children:s.temperature})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("span",{className:"font-medium min-w-[80px]",children:"SpO2:"}),l.jsx("span",{className:"border-b border-gray-400 flex-1 px-1",children:s.oxygenSaturation})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex gap-2",children:[l.jsx("span",{className:"font-medium min-w-[80px]",children:"RR:"}),l.jsx("span",{className:"border-b border-gray-400 flex-1 px-1",children:s.respiratoryRate})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("span",{className:"font-medium min-w-[80px]",children:"Weight:"}),l.jsx("span",{className:"border-b border-gray-400 flex-1 px-1",children:s.weight})]})]})]})]}),l.jsxs("div",{className:"mb-6 print:mb-4",children:[l.jsx("h3",{className:"font-semibold text-sm mb-2 print:text-xs",children:"EQUIPMENT & DEVICES"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 print:text-xs",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",checked:s.oxygenTherapy,readOnly:!0}),l.jsx("span",{children:"Oxygen Therapy"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",checked:s.ivAccess,readOnly:!0}),l.jsx("span",{children:"IV Access"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",checked:s.catheter,readOnly:!0}),l.jsx("span",{children:"Catheter"})]})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",checked:s.pacemaker,readOnly:!0}),l.jsx("span",{children:"Pacemaker"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",checked:s.mobility,readOnly:!0}),l.jsx("span",{children:"Mobility Aid"})]})]})]})]}),l.jsxs("div",{className:"mb-6 print:mb-4",children:[l.jsx("h3",{className:"font-semibold text-sm mb-2 print:text-xs",children:"ADDITIONAL NOTES"}),l.jsx("div",{className:"border border-gray-400 min-h-[100px] p-2 print:min-h-[80px] print:text-xs",children:s.additionalNotes})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-8 mt-8 print:mt-6 print:text-xs",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex gap-2 mb-4",children:[l.jsx("span",{className:"font-medium",children:"Prepared by:"}),l.jsx("span",{className:"border-b border-gray-400 flex-1 px-1",children:s.preparedBy})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("span",{className:"font-medium",children:"Signature:"}),l.jsx("span",{className:"border-b border-gray-400 flex-1 px-1"})]}),l.jsxs("div",{className:"flex gap-2 mt-2",children:[l.jsx("span",{className:"font-medium",children:"Date/Time:"}),l.jsx("span",{className:"border-b border-gray-400 flex-1 px-1",children:s.currentDateTime})]})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex gap-2 mb-4",children:[l.jsx("span",{className:"font-medium",children:"Received by:"}),l.jsx("span",{className:"border-b border-gray-400 flex-1 px-1"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("span",{className:"font-medium",children:"Signature:"}),l.jsx("span",{className:"border-b border-gray-400 flex-1 px-1"})]}),l.jsxs("div",{className:"flex gap-2 mt-2",children:[l.jsx("span",{className:"font-medium",children:"Date/Time:"}),l.jsx("span",{className:"border-b border-gray-400 flex-1 px-1"})]})]})]})]})]})]})},JD=()=>{const{patientId:e}=aN(),t=ch(),{user:n,profile:r,loading:s,signOut:o}=Li();oc();const[i,a]=g.useState(!1);g.useState(!1);const[c,u]=g.useState(null);console.log("Index render:",{patientId:e,user:!!n,authLoading:s,showUserSelection:i,userEmail:n==null?void 0:n.email});const{patient:d,sections:f,currentSection:p,setCurrentSection:m,riskScores:w,isRecording:y,isProcessingAudio:b,lastTranscript:x,fieldValues:h,handleRecordingStart:v,handleRecordingStop:_,handleFieldChange:S,getFormFields:k,submitAssessment:N,saveDraft:E,validateAssessment:I,assessmentId:A}=GD(e);console.log("Hook data:",{patient:!!d,assessmentId:A,fieldValuesCount:Object.keys(h||{}).length,riskScores:w}),g.useEffect(()=>{console.log("Auth effect:",{user:!!n,authLoading:s}),!n&&!s?(console.log("Setting showUserSelection to true"),a(!0)):n&&(console.log("User authenticated, hiding user selection"),a(!1))},[n,s]);const U=()=>{a(!1)},T=()=>{t("/auth")},O=j=>{switch(j==null?void 0:j.toLowerCase()){case"doctor":return"bg-blue-100 text-blue-800 hover:bg-blue-200";case"nurse":return"bg-green-100 text-green-800 hover:bg-green-200";case"admin":return"bg-purple-100 text-purple-800 hover:bg-purple-200";default:return"bg-gray-100 text-gray-800 hover:bg-gray-200"}};return c?l.jsx(Kt,{children:l.jsx(Qs,{children:l.jsx("div",{className:"flex items-center justify-center min-h-screen p-4",children:l.jsx(je,{className:"w-full max-w-md text-center",children:l.jsxs(Be,{className:"p-6",children:[l.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Loading Error"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:c}),l.jsx(ne,{onClick:()=>window.location.reload(),children:"Retry"})]})})})})}):s?(console.log("Showing auth loading spinner"),l.jsx(Kt,{children:l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsxs("div",{className:"text-center space-y-4",children:[l.jsx(Jt,{className:"h-8 w-8 animate-spin mx-auto"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading authentication..."})]})})})):e?i?(console.log("Showing user selection"),l.jsx(Kt,{children:l.jsx(Qs,{children:l.jsx("div",{className:"flex items-center justify-center min-h-screen p-4",children:l.jsx(bx,{onSignInComplete:U,onNewUserSignIn:T})})})})):!d&&!A?(console.log("Patient or assessment still loading"),l.jsx(Kt,{children:l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsxs("div",{className:"text-center space-y-4",children:[l.jsx(Jt,{className:"h-8 w-8 animate-spin mx-auto"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading patient assessment..."})]})})})):(console.log("Rendering main assessment interface"),l.jsx(Kt,{children:l.jsx(Qs,{children:l.jsx("div",{className:"min-h-screen bg-background",children:l.jsxs("div",{className:"container mx-auto py-6 px-4 max-w-7xl",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs(ne,{variant:"outline",size:"sm",onClick:()=>t("/"),className:"flex items-center gap-2",children:[l.jsx(TN,{className:"h-4 w-4"}),"Back to Patient List"]}),l.jsxs("div",{children:[l.jsx("h2",{className:"font-semibold",children:(r==null?void 0:r.full_name)||(r==null?void 0:r.email)}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ge,{variant:"secondary",className:O(r==null?void 0:r.role),children:(r==null?void 0:r.role)||"User"}),(r==null?void 0:r.department)&&l.jsx("span",{className:"text-sm text-muted-foreground",children:r.department})]})]})]}),l.jsxs(ne,{variant:"outline",size:"sm",onClick:o,children:[l.jsx(b0,{className:"h-4 w-4 mr-2"}),"Sign Out"]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("h1",{className:"text-2xl font-bold text-primary mb-2",children:"Patient Assessment"}),l.jsx("p",{className:"text-muted-foreground",children:"AI-Assisted Patient Assessment Documentation System"})]}),(r==null?void 0:r.role)==="admin"&&l.jsx("div",{className:"mb-6",children:l.jsx(vD,{})}),l.jsx(D2,{patient:d}),l.jsx("div",{className:"max-w-7xl mx-auto mt-8",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[l.jsx(oT,{onRecordingStart:v,onRecordingStop:_,transcriptText:x,isProcessing:b}),l.jsx(ST,{scores:[{name:"Morse Fall Scale",score:w.morseScore||null,maxScore:125,level:w.morseScore?w.morseScore>=45?"high":w.morseScore>=25?"medium":"low":"none",description:"Fall risk assessment score"},{name:"MST Score",score:w.mstScore||null,maxScore:5,level:w.mstScore?w.mstScore>=2?"high":"low":"none",description:"Malnutrition screening tool"},{name:"Norton Scale",score:w.nortonScore||null,maxScore:20,level:w.nortonScore?w.nortonScore<10?"high":w.nortonScore<=18?"medium":"low":"none",description:"Pressure injury risk assessment"},{name:"Braden Scale",score:w.bradenScore||null,maxScore:23,level:w.bradenScore?w.bradenScore<=12?"high":w.bradenScore<=18?"medium":"low":"none",description:"Pressure injury risk assessment"}]}),l.jsx(gD,{onFieldChange:S,assessmentId:A,patientId:e,fieldValues:{patient_gender:(d==null?void 0:d.sex)==="F"?"Female":"Male",...h}}),l.jsxs("div",{className:"flex justify-between gap-4",children:[l.jsxs("div",{className:"flex gap-4",children:[l.jsx(ne,{variant:"outline",onClick:E,className:"flex items-center min-h-[48px] px-6",children:"Save Draft"}),l.jsx(QD,{patient:d,fieldValues:h,riskScores:w,assessmentId:A||""})]}),l.jsx(ne,{onClick:()=>N(t),className:"flex items-center min-h-[48px] px-6",children:"Submit Assessment"})]})]}),l.jsx("div",{className:"lg:col-span-1",children:l.jsx("div",{className:"sticky top-4",children:l.jsx(_T,{assessmentId:A||"",currentFieldValues:h})})})]})})]})})})})):(console.log("No patientId, redirecting to home"),t("/"),null)},ZD=({status:e})=>{const n=(()=>{switch(e){case"awaiting_bed":return{label:"Awaiting Bed",variant:"destructive",icon:vr,className:"bg-orange-100 text-orange-800 border-orange-200 hover:bg-orange-200"};case"bed_assigned":return{label:"Bed Assigned",variant:"secondary",icon:yr,className:"bg-blue-100 text-blue-800 border-blue-200 hover:bg-blue-200"};case"assessment_in_progress":return{label:"In Progress",variant:"default",icon:Ni,className:"bg-yellow-100 text-yellow-800 border-yellow-200 hover:bg-yellow-200"};case"assessment_completed":return{label:"Completed",variant:"secondary",icon:oo,className:"bg-green-100 text-green-800 border-green-200 hover:bg-green-200"};default:return{label:"Unknown",variant:"outline",icon:vr,className:""}}})(),r=n.icon;return l.jsxs(ge,{variant:n.variant,className:`flex items-center gap-1 ${n.className}`,children:[l.jsx(r,{className:"h-3 w-3"}),n.label]})},e4=({patient:e,onAssignBed:t})=>{const n=ch(),r=i=>i.split(" ").map(a=>a[0]).join("").toUpperCase(),s=()=>{switch(e.patient_status){case"awaiting_bed":return l.jsxs(ne,{onClick:t,className:"flex items-center gap-2",children:[l.jsx(hl,{className:"h-4 w-4"}),"Assign Bed"]});case"bed_assigned":return l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(ne,{variant:"outline",onClick:()=>{},className:"flex items-center gap-2",children:[l.jsx(LN,{className:"h-4 w-4"}),"Navigate to Bed"]}),l.jsxs(ne,{onClick:()=>n(`/assessment/${e.id}`),className:"flex items-center gap-2",children:[l.jsx($N,{className:"h-4 w-4"}),"Start Assessment"]})]});case"assessment_in_progress":return l.jsxs(ne,{onClick:()=>n(`/assessment/${e.id}`),className:"flex items-center gap-2",children:[l.jsx(w0,{className:"h-4 w-4"}),"Continue Assessment"]});case"assessment_completed":return l.jsxs(ne,{variant:"outline",onClick:()=>n(`/assessment/${e.id}`),className:"flex items-center gap-2",children:[l.jsx(oo,{className:"h-4 w-4"}),"View Assessment"]});default:return null}},o=i=>new Date(i).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});return l.jsx(je,{className:"w-full",children:l.jsx(Be,{className:"p-4",children:l.jsxs("div",{className:"flex items-start justify-between gap-4",children:[l.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[l.jsx(wl,{className:"h-12 w-12",children:l.jsx(bl,{className:"bg-primary/10 text-primary",children:r(e.name)})}),l.jsxs("div",{className:"flex-1 space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("h3",{className:"font-semibold text-lg",children:e.name}),l.jsx(ZD,{status:e.patient_status})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-muted-foreground",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ni,{className:"h-4 w-4"}),l.jsxs("span",{children:[e.hospital_no," • ",e.age,"y ",e.sex]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(yr,{className:"h-4 w-4"}),l.jsx("span",{children:o(e.admission_date)})]}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsx(ge,{variant:"outline",className:"text-xs",children:e.admission_type})}),e.bed&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(hl,{className:"h-4 w-4"}),l.jsxs("span",{children:["Bed ",e.bed]})]})]}),e.bed_assigned_at&&l.jsxs("div",{className:"text-xs text-muted-foreground",children:["Bed assigned ",o(e.bed_assigned_at)," via ",e.bed_assigned_by]})]})]}),l.jsx("div",{className:"flex flex-col gap-2",children:s()})]})})})},t4=({selectedBed:e,onBedSelect:t})=>{const n=u=>Array.from({length:20},(d,f)=>`3${u}-${String(f+1).padStart(2,"0")}`),r=n("A"),s=n("B"),o=["3A-03","3A-07","3A-15","3B-02","3B-09","3B-14","3B-18"],i=u=>o.includes(u)?"occupied":e===u?"selected":"available",a=u=>{switch(u){case"occupied":return"bg-red-100 text-red-800 border-red-300 cursor-not-allowed opacity-50";case"selected":return"bg-primary text-primary-foreground border-primary ring-2 ring-primary/20";case"available":return"bg-green-50 text-green-800 border-green-300 hover:bg-green-100 hover:border-green-400";default:return""}},c=(u,d)=>l.jsxs("div",{className:"space-y-3",children:[l.jsxs("h5",{className:"font-medium text-sm flex items-center gap-2",children:["Corridor ",d,l.jsxs(ge,{variant:"outline",className:"text-xs",children:[u.filter(f=>i(f)==="available").length," available"]})]}),l.jsx("div",{className:"grid grid-cols-10 gap-2",children:u.map(f=>{const p=i(f),m=p==="occupied";return l.jsx(ne,{variant:"outline",size:"sm",disabled:m,onClick:()=>!m&&t(f),className:H("h-12 w-full text-xs font-medium transition-all duration-200",a(p)),children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"font-semibold",children:f.split("-")[1]}),l.jsx("div",{className:"text-[10px] opacity-75",children:f.split("-")[0]})]})},f)})})]});return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-wrap gap-4 text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-4 h-4 bg-green-100 border border-green-300 rounded"}),l.jsx("span",{children:"Available"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-4 h-4 bg-red-100 border border-red-300 rounded opacity-50"}),l.jsx("span",{children:"Occupied"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-4 h-4 bg-primary border border-primary rounded"}),l.jsx("span",{children:"Selected"})]})]}),l.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 space-y-8",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("h4",{className:"font-semibold text-lg mb-2",children:"Ward 3 - Floor Plan"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Click on an available bed to select"})]}),c(r,"A"),l.jsxs("div",{className:"flex items-center justify-center py-4",children:[l.jsx("div",{className:"flex-1 h-px bg-border"}),l.jsx("div",{className:"px-4 text-sm text-muted-foreground bg-background",children:"Nursing Station & Common Area"}),l.jsx("div",{className:"flex-1 h-px bg-border"})]}),c(s,"B")]}),l.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[l.jsxs("div",{className:"bg-green-50 rounded-lg p-3",children:[l.jsx("div",{className:"font-semibold text-green-800",children:[...r,...s].filter(u=>i(u)==="available").length}),l.jsx("div",{className:"text-xs text-green-600",children:"Available"})]}),l.jsxs("div",{className:"bg-red-50 rounded-lg p-3",children:[l.jsx("div",{className:"font-semibold text-red-800",children:o.length}),l.jsx("div",{className:"text-xs text-red-600",children:"Occupied"})]}),l.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[l.jsx("div",{className:"font-semibold text-gray-800",children:"40"}),l.jsx("div",{className:"text-xs text-gray-600",children:"Total Beds"})]})]})]})},n4=({open:e,onOpenChange:t,patient:n,onBedAssigned:r})=>{const[s,o]=g.useState(null),i=u=>{o(u)},a=()=>{s&&(r(s),o(null))},c=()=>{o(null),t(!1)};return n?l.jsx(lm,{open:e,onOpenChange:t,children:l.jsxs(Tc,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[l.jsx(Rc,{children:l.jsxs(Ac,{className:"flex items-center gap-2",children:[l.jsx(hl,{className:"h-5 w-5"}),"Bed Assignment - Ward 3"]})}),l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"bg-muted/50 rounded-lg p-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"bg-primary/10 rounded-full p-2",children:l.jsx(Ni,{className:"h-6 w-6 text-primary"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-lg",children:n.name}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:[n.hospital_no," • ",n.age,"y ",n.sex]}),l.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[l.jsx(ge,{variant:"outline",children:n.admission_type}),l.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[l.jsx(yr,{className:"h-3 w-3"}),new Date(n.admission_date).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})]})]})]})]})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium mb-3",children:"Select a bed from Ward 3:"}),l.jsx(t4,{selectedBed:s,onBedSelect:i})]}),s&&l.jsx("div",{className:"bg-primary/10 rounded-lg p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("p",{className:"font-medium",children:["Selected Bed: ",s]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Patient will be assigned to this bed"})]}),l.jsx(ge,{className:"bg-primary text-primary-foreground",children:"Selected"})]})}),l.jsxs("div",{className:"flex justify-end gap-3",children:[l.jsx(ne,{variant:"outline",onClick:c,children:"Cancel"}),l.jsxs(ne,{onClick:a,disabled:!s,className:"min-w-32",children:["Assign Bed ",s&&`${s}`]})]})]})]})}):null},r4=()=>{const{user:e,profile:t,loading:n,signOut:r}=Li(),[s,o]=g.useState([]),[i,a]=g.useState(!0),[c,u]=g.useState(null),[d,f]=g.useState(!1);g.useEffect(()=>{e&&p()},[e]);const p=async()=>{try{const{data:h,error:v}=await ue.from("patients").select("*").order("patient_status",{ascending:!0}).order("admission_date",{ascending:!1});if(v)throw v;o(h||[])}catch(h){Qe.error("Failed to load patients: "+h.message)}finally{a(!1)}},m=h=>{u(h),f(!0)},w=async h=>{if(c)try{const{error:v}=await ue.from("patients").update({bed:h,patient_status:"bed_assigned",bed_assigned_by:"robot",bed_assigned_at:new Date().toISOString()}).eq("id",c.id);if(v)throw v;Qe.success(`Bed ${h} assigned to ${c.name}`),f(!1),u(null),p()}catch(v){Qe.error("Failed to assign bed: "+v.message)}},y=()=>({awaiting_bed:s.filter(h=>h.patient_status==="awaiting_bed").length,bed_assigned:s.filter(h=>h.patient_status==="bed_assigned").length,assessment_in_progress:s.filter(h=>h.patient_status==="assessment_in_progress").length,assessment_completed:s.filter(h=>h.patient_status==="assessment_completed").length});if(n||i)return l.jsx(Kt,{children:l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx(Jt,{className:"h-8 w-8 animate-spin"})})});const b=y(),x=h=>{switch(h){case"admin":return"bg-red-100 text-red-800 hover:bg-red-200";case"doctor":return"bg-blue-100 text-blue-800 hover:bg-blue-200";case"nurse":return"bg-green-100 text-green-800 hover:bg-green-200";default:return"bg-gray-100 text-gray-800 hover:bg-gray-200"}};return l.jsx(Kt,{children:l.jsxs("div",{className:"p-4 space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:"flex items-center gap-3",children:l.jsxs("div",{children:[l.jsx("h2",{className:"font-semibold",children:(t==null?void 0:t.full_name)||(t==null?void 0:t.email)}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ge,{variant:"secondary",className:x(t==null?void 0:t.role),children:(t==null?void 0:t.role)||"User"}),(t==null?void 0:t.department)&&l.jsx("span",{className:"text-sm text-muted-foreground",children:t.department})]})]})}),l.jsxs(ne,{variant:"outline",size:"sm",onClick:r,children:[l.jsx(b0,{className:"h-4 w-4 mr-2"}),"Sign Out"]})]}),l.jsxs("div",{children:[l.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[l.jsx(Dd,{className:"h-6 w-6"}),"Patient List"]}),l.jsxs("p",{className:"text-muted-foreground",children:["Ward ",(t==null?void 0:t.ward)||"3A"," - ",s.length," patients"]})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsx(je,{children:l.jsx(Be,{className:"p-4",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(vr,{className:"h-4 w-4 text-orange-500"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium",children:"Awaiting Bed"}),l.jsx("p",{className:"text-2xl font-bold",children:b.awaiting_bed})]})]})})}),l.jsx(je,{children:l.jsx(Be,{className:"p-4",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(yr,{className:"h-4 w-4 text-blue-500"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium",children:"Bed Assigned"}),l.jsx("p",{className:"text-2xl font-bold",children:b.bed_assigned})]})]})})}),l.jsx(je,{children:l.jsx(Be,{className:"p-4",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Dd,{className:"h-4 w-4 text-yellow-500"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium",children:"In Progress"}),l.jsx("p",{className:"text-2xl font-bold",children:b.assessment_in_progress})]})]})})}),l.jsx(je,{children:l.jsx(Be,{className:"p-4",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(oo,{className:"h-4 w-4 text-green-500"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium",children:"Completed"}),l.jsx("p",{className:"text-2xl font-bold",children:b.assessment_completed})]})]})})})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h2",{className:"text-lg font-semibold",children:"Patients"}),l.jsx("div",{className:"grid gap-4",children:s.map(h=>l.jsx(e4,{patient:h,onAssignBed:()=>m(h)},h.id))})]}),l.jsx(n4,{open:d,onOpenChange:f,patient:c,onBedAssigned:w})]})})},s4=()=>{const{signIn:e,signUp:t,user:n,loading:r}=Li(),{storedUsers:s}=oc(),[o,i]=g.useState(!1),[a,c]=g.useState(null),[u,d]=g.useState(null);g.useState(!1);const[f,p]=g.useState({email:"",password:""}),[m,w]=g.useState({email:"",password:"",confirmPassword:"",fullName:""}),[y,b]=g.useState(!1);g.useEffect(()=>{if(n&&!r){const _=sessionStorage.getItem("redirectAfterLogin");_?(sessionStorage.removeItem("redirectAfterLogin"),window.location.href=_):window.location.href="/"}},[n,r]);const x=async _=>{_.preventDefault(),i(!0),c(null);try{const{error:S}=await e(f.email,f.password,y);S&&(S.message.includes("Invalid login credentials")?c("Invalid email or password. Please check your credentials and try again."):S.message.includes("Email not confirmed")?c("Please check your email and click the confirmation link before signing in."):c(S.message||"Failed to sign in. Please try again."))}catch{c("An unexpected error occurred. Please try again.")}finally{i(!1)}},h=async _=>{if(_.preventDefault(),i(!0),c(null),d(null),m.password!==m.confirmPassword){c("Passwords do not match"),i(!1);return}if(m.password.length<6){c("Password must be at least 6 characters long"),i(!1);return}try{const{error:S}=await t(m.email,m.password,m.fullName);S?S.message.includes("User already registered")?c("An account with this email already exists. Please sign in instead."):c(S.message||"Failed to create account. Please try again."):d("Account created successfully! Please check your email to confirm your account before signing in.")}catch{c("An unexpected error occurred. Please try again.")}finally{i(!1)}},v=()=>{};return r?l.jsx(Kt,{children:l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsx(Jt,{className:"h-8 w-8 animate-spin text-primary"})})}):l.jsx(Kt,{children:l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:l.jsxs("div",{className:"w-full max-w-md space-y-6",children:[s.length>0&&l.jsx(bx,{onSignInComplete:v,onNewUserSignIn:()=>{}}),l.jsxs(je,{className:"w-full",children:[l.jsxs(en,{className:"text-center",children:[l.jsx("div",{className:"flex items-center justify-center mb-4",children:l.jsx(Gr,{className:"h-8 w-8 text-primary"})}),l.jsx(tn,{className:"text-2xl font-bold",children:s.length>0?"Or Sign In Another Way":"Patient Assessment System"}),l.jsx(xr,{children:s.length>0?"Use email and password to sign in or create a new account":"Secure access to patient admission and assessment tools"})]}),l.jsxs(Be,{children:[l.jsxs(lw,{defaultValue:"signin",className:"w-full",children:[l.jsxs(Ah,{className:"grid w-full grid-cols-2",children:[l.jsxs(Nl,{value:"signin",className:"flex items-center gap-2",children:[l.jsx(Od,{className:"h-4 w-4"}),"Sign In"]}),l.jsxs(Nl,{value:"signup",className:"flex items-center gap-2",children:[l.jsx(zN,{className:"h-4 w-4"}),"Sign Up"]})]}),l.jsx(gt,{value:"signin",className:"space-y-4 mt-6",children:l.jsxs("form",{onSubmit:x,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Oe,{htmlFor:"signin-email",children:"Email"}),l.jsx(Gt,{id:"signin-email",type:"email",placeholder:"Enter your email",value:f.email,onChange:_=>p(S=>({...S,email:_.target.value})),required:!0,disabled:o})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Oe,{htmlFor:"signin-password",children:"Password"}),l.jsx(Gt,{id:"signin-password",type:"password",placeholder:"Enter your password",value:f.password,onChange:_=>p(S=>({...S,password:_.target.value})),required:!0,disabled:o})]}),l.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[l.jsx(Bs,{id:"remember",checked:y,onCheckedChange:_=>b(_===!0),disabled:o}),l.jsx(Oe,{htmlFor:"remember",className:"text-sm",children:"Remember this device for quick access"})]}),l.jsx(ne,{type:"submit",className:"w-full",disabled:o,children:o?l.jsxs(l.Fragment,{children:[l.jsx(Jt,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing In..."]}):"Sign In"})]})}),l.jsx(gt,{value:"signup",className:"space-y-4 mt-6",children:l.jsxs("form",{onSubmit:h,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Oe,{htmlFor:"signup-name",children:"Full Name"}),l.jsx(Gt,{id:"signup-name",type:"text",placeholder:"Enter your full name",value:m.fullName,onChange:_=>w(S=>({...S,fullName:_.target.value})),disabled:o})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Oe,{htmlFor:"signup-email",children:"Email"}),l.jsx(Gt,{id:"signup-email",type:"email",placeholder:"Enter your email",value:m.email,onChange:_=>w(S=>({...S,email:_.target.value})),required:!0,disabled:o})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Oe,{htmlFor:"signup-password",children:"Password"}),l.jsx(Gt,{id:"signup-password",type:"password",placeholder:"Enter your password",value:m.password,onChange:_=>w(S=>({...S,password:_.target.value})),required:!0,disabled:o})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Oe,{htmlFor:"signup-confirm",children:"Confirm Password"}),l.jsx(Gt,{id:"signup-confirm",type:"password",placeholder:"Confirm your password",value:m.confirmPassword,onChange:_=>w(S=>({...S,confirmPassword:_.target.value})),required:!0,disabled:o})]}),l.jsx(ne,{type:"submit",className:"w-full",disabled:o,children:o?l.jsxs(l.Fragment,{children:[l.jsx(Jt,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating Account..."]}):"Create Account"})]})})]}),a&&l.jsx(yl,{className:"mt-4 border-destructive",children:l.jsx(xl,{className:"text-destructive",children:a})}),u&&l.jsx(yl,{className:"mt-4 border-primary",children:l.jsx(xl,{className:"text-primary",children:u})})]})]})]})})})},Hg=({children:e})=>{const{user:t,loading:n}=Li();return console.log("ProtectedRoute render:",{user:!!t,loading:n}),g.useEffect(()=>{if(console.log("ProtectedRoute auth check:",{user:!!t,loading:n}),!n&&!t){const r=window.location.pathname;console.log("Redirecting to auth, storing path:",r),sessionStorage.setItem("redirectAfterLogin",r),window.location.href="/auth"}},[t,n]),n?(console.log("ProtectedRoute: showing loading state"),l.jsx(Kt,{children:l.jsx(Qs,{children:l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs("div",{className:"text-center space-y-4",children:[l.jsx(Gr,{className:"h-12 w-12 text-primary mx-auto"}),l.jsx(Jt,{className:"h-8 w-8 animate-spin text-primary mx-auto"}),l.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})})})})):t?(console.log("ProtectedRoute: user authenticated, rendering children"),l.jsx(Qs,{children:e})):(console.log("ProtectedRoute: no user, showing redirect message"),l.jsx(Kt,{children:l.jsx(Qs,{children:l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs("div",{className:"text-center space-y-4",children:[l.jsx(Gr,{className:"h-12 w-12 text-destructive mx-auto"}),l.jsx("p",{className:"text-muted-foreground",children:"Redirecting to login..."})]})})})}))},o4=[{title:"Patient List",to:"/",icon:l.jsx(Dd,{className:"h-4 w-4"}),page:l.jsx(Hg,{children:l.jsx(r4,{})})},{title:"Patient Assessment",to:"/assessment/:patientId",icon:l.jsx(MN,{className:"h-4 w-4"}),page:l.jsx(Hg,{children:l.jsx(JD,{})})},{title:"Authentication",to:"/auth",icon:l.jsx(Gr,{className:"h-4 w-4"}),page:l.jsx(s4,{})}];var Vg=["light","dark"],i4="(prefers-color-scheme: dark)",a4=g.createContext(void 0),l4={setTheme:e=>{},themes:[]},c4=()=>{var e;return(e=g.useContext(a4))!=null?e:l4};g.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:o,value:i,attrs:a,nonce:c})=>{let u=o==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(w=>`'${w}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=s?Vg.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(w,y=!1,b=!0)=>{let x=i?i[w]:w,h=y?w+"|| ''":`'${x}'`,v="";return s&&b&&!y&&Vg.includes(w)&&(v+=`d.style.colorScheme = '${w}';`),n==="class"?y||x?v+=`c.add(${h})`:v+="null":x&&(v+=`d[s](n,${h})`),v},m=e?`!function(){${d}${p(e)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${i4}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${p(i?"x[e]":"e",!0)}}${u?"":"else{"+p(o,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${p(i?"x[e]":"e",!0)}}else{${p(o,!1,!1)};}${f}}catch(t){}}();`;return g.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:m}})});const u4=({...e})=>{const{theme:t="system"}=c4();return l.jsx(HD,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})},d4=()=>l.jsxs("div",{id:"app-root",children:[l.jsx(NN,{children:l.jsx(_N,{children:o4.map(({to:e,page:t})=>l.jsx(v0,{path:e,element:t},e))})}),l.jsx(u4,{})]});i0(document.getElementById("root")).render(l.jsx(d4,{}));
